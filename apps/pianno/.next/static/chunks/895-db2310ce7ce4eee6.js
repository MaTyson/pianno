"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{1894:function(e,t,r){r.d(t,{Ry:function(){return h}});var i=new WeakMap,n=new WeakMap,s={},o=0,a=function(e){return e&&(e.host||a(e.parentNode))},l=function(e,t,r,l){var h=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=a(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});s[r]||(s[r]=new WeakMap);var u=s[r],c=[],d=new Set,p=new Set(h),f=function(e){!e||d.has(e)||(d.add(e),f(e.parentNode))};h.forEach(f);var m=function(e){!e||p.has(e)||Array.prototype.forEach.call(e.children,function(e){if(d.has(e))m(e);else{var t=e.getAttribute(l),s=null!==t&&"false"!==t,o=(i.get(e)||0)+1,a=(u.get(e)||0)+1;i.set(e,o),u.set(e,a),c.push(e),1===o&&s&&n.set(e,!0),1===a&&e.setAttribute(r,"true"),s||e.setAttribute(l,"true")}})};return m(t),d.clear(),o++,function(){c.forEach(function(e){var t=i.get(e)-1,s=u.get(e)-1;i.set(e,t),u.set(e,s),t||(n.has(e)||e.removeAttribute(l),n.delete(e)),s||e.removeAttribute(r)}),--o||(i=new WeakMap,i=new WeakMap,n=new WeakMap,s={})}},h=function(e,t,r){void 0===r&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),n=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return n?(i.push.apply(i,Array.from(n.querySelectorAll("[aria-live]"))),l(i,n,r,"aria-hidden")):function(){return null}}},6066:function(e){function t(e,t,u){u=u||2;var c,f,g,v,y,_,x,b=t&&t.length,w=b?t[0]*u:e.length,E=r(e,0,w,u,!0),T=[];if(!E||E.next===E.prev)return T;if(b&&(E=function(e,t,s,l){var h,u,c,f,m,g=[];for(h=0,u=t.length;h<u;h++)c=t[h]*l,f=h<u-1?t[h+1]*l:e.length,(m=r(e,c,f,l,!1))===m.next&&(m.steiner=!0),g.push(function(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}(m));for(g.sort(n),h=0;h<g.length;h++)s=function(e,t){var r=function(e,t){var r,i,n,s=t,l=e.x,h=e.y,u=-1/0;do{if(h<=s.y&&h>=s.next.y&&s.next.y!==s.y){var c=s.x+(h-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(c<=l&&c>u&&(u=c,n=s.x<s.next.x?s:s.next,c===l))return n}s=s.next}while(s!==t);if(!n)return null;var p,f=n,m=n.x,g=n.y,v=1/0;s=n;do l>=s.x&&s.x>=m&&l!==s.x&&o(h<g?l:u,h,m,g,h<g?u:l,h,s.x,s.y)&&(p=Math.abs(h-s.y)/(l-s.x),d(s,e)&&(p<v||p===v&&(s.x>n.x||s.x===n.x&&(r=n,i=s,0>a(r.prev,r,i.prev)&&0>a(i.next,r,r.next))))&&(n=s,v=p)),s=s.next;while(s!==f);return n}(e,t);if(!r)return t;var n=p(r,e);return i(n,n.next),i(r,r.next)}(g[h],s);return s}(e,t,E,u)),e.length>80*u){c=g=e[0],f=v=e[1];for(var A=u;A<w;A+=u)y=e[A],_=e[A+1],y<c&&(c=y),_<f&&(f=_),y>g&&(g=y),_>v&&(v=_);x=0!==(x=Math.max(g-c,v-f))?32767/x:0}return function e(t,r,n,u,c,f,g){if(t){!g&&f&&function(e,t,r,i){var n=e;do 0===n.z&&(n.z=s(n.x,n.y,t,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,r,i,n,s,o,a,l,h=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,i=r,a=0,t=0;t<h&&(a++,i=i.nextZ);t++);for(l=h;a>0||l>0&&i;)0!==a&&(0===l||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;r=i}s.nextZ=null,h*=2}while(o>1)}(n)}(t,u,c,f);for(var v,y,_=t;t.prev!==t.next;){if(v=t.prev,y=t.next,f?function(e,t,r,i){var n=e.prev,l=e.next;if(a(n,e,l)>=0)return!1;for(var h=n.x,u=e.x,c=l.x,d=n.y,p=e.y,f=l.y,m=h<u?h<c?h:c:u<c?u:c,g=d<p?d<f?d:f:p<f?p:f,v=h>u?h>c?h:c:u>c?u:c,y=d>p?d>f?d:f:p>f?p:f,_=s(m,g,t,r,i),x=s(v,y,t,r,i),b=e.prevZ,w=e.nextZ;b&&b.z>=_&&w&&w.z<=x;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&b!==n&&b!==l&&o(h,d,u,p,c,f,b.x,b.y)&&a(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==n&&w!==l&&o(h,d,u,p,c,f,w.x,w.y)&&a(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=_;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&b!==n&&b!==l&&o(h,d,u,p,c,f,b.x,b.y)&&a(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=x;){if(w.x>=m&&w.x<=v&&w.y>=g&&w.y<=y&&w!==n&&w!==l&&o(h,d,u,p,c,f,w.x,w.y)&&a(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}(t,u,c,f):function(e){var t=e.prev,r=e.next;if(a(t,e,r)>=0)return!1;for(var i=t.x,n=e.x,s=r.x,l=t.y,h=e.y,u=r.y,c=i<n?i<s?i:s:n<s?n:s,d=l<h?l<u?l:u:h<u?h:u,p=i>n?i>s?i:s:n>s?n:s,f=l>h?l>u?l:u:h>u?h:u,m=r.next;m!==t;){if(m.x>=c&&m.x<=p&&m.y>=d&&m.y<=f&&o(i,l,n,h,s,u,m.x,m.y)&&a(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}(t)){r.push(v.i/n|0),r.push(t.i/n|0),r.push(y.i/n|0),m(t),t=y.next,_=y.next;continue}if((t=y)===_){g?1===g?e(t=function(e,t,r){var n=e;do{var s=n.prev,o=n.next.next;!l(s,o)&&h(s,n,n.next,o)&&d(s,o)&&d(o,s)&&(t.push(s.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),m(n),m(n.next),n=e=o),n=n.next}while(n!==e);return i(n)}(i(t),r,n),r,n,u,c,f,2):2===g&&function(t,r,n,s,o,u){var c=t;do{for(var f,m,g=c.next.next;g!==c.prev;){if(c.i!==g.i&&(f=c,m=g,f.next.i!==m.i&&f.prev.i!==m.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&h(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(f,m)&&(d(f,m)&&d(m,f)&&function(e,t){var r=e,i=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==e);return i}(f,m)&&(a(f.prev,f,m.prev)||a(f,m.prev,m))||l(f,m)&&a(f.prev,f,f.next)>0&&a(m.prev,m,m.next)>0))){var v=p(c,g);c=i(c,c.next),v=i(v,v.next),e(c,r,n,s,o,u,0),e(v,r,n,s,o,u,0);return}g=g.next}c=c.next}while(c!==t)}(t,r,n,u,c,f):e(i(t),r,n,u,c,f,1);break}}}}(E,T,u,c,f,x,0),T}function r(e,t,r,i,n){var s,o;if(n===v(e,t,r,i)>0)for(s=t;s<r;s+=i)o=f(s,e[s],e[s+1],o);else for(s=r-i;s>=t;s-=i)o=f(s,e[s],e[s+1],o);return o&&l(o,o.next)&&(m(o),o=o.next),o}function i(e,t){if(!e)return e;t||(t=e);var r,i=e;do if(r=!1,!i.steiner&&(l(i,i.next)||0===a(i.prev,i,i.next))){if(m(i),(i=t=i.prev)===i.next)break;r=!0}else i=i.next;while(r||i!==t);return t}function n(e,t){return e.x-t.x}function s(e,t,r,i,n){return(e=((e=((e=((e=((e=(e-r)*n|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-i)*n|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1}function o(e,t,r,i,n,s,o,a){return(n-o)*(t-a)>=(e-o)*(s-a)&&(e-o)*(i-a)>=(r-o)*(t-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function a(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function l(e,t){return e.x===t.x&&e.y===t.y}function h(e,t,r,i){var n=c(a(e,t,r)),s=c(a(e,t,i)),o=c(a(r,i,e)),l=c(a(r,i,t));return!!(n!==s&&o!==l||0===n&&u(e,r,t)||0===s&&u(e,i,t)||0===o&&u(r,e,i)||0===l&&u(r,t,i))}function u(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function c(e){return e>0?1:e<0?-1:0}function d(e,t){return 0>a(e.prev,e,e.next)?a(e,t,e.next)>=0&&a(e,e.prev,t)>=0:0>a(e,t,e.prev)||0>a(e,e.next,t)}function p(e,t){var r=new g(e.i,e.x,e.y),i=new g(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function f(e,t,r,i){var n=new g(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function m(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function g(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function v(e,t,r,i){for(var n=0,s=t,o=r-i;s<r;s+=i)n+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return n}e.exports=t,e.exports.default=t,t.deviation=function(e,t,r,i){var n=t&&t.length,s=n?t[0]*r:e.length,o=Math.abs(v(e,0,s,r));if(n)for(var a=0,l=t.length;a<l;a++){var h=t[a]*r,u=a<l-1?t[a+1]*r:e.length;o-=Math.abs(v(e,h,u,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},i=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var o=0;o<t;o++)r.vertices.push(e[n][s][o]);n>0&&(i+=e[n-1].length,r.holes.push(i))}return r}},7374:function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw TypeError("The listener must be a function");var a=new n(i,s||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var l,h,u=this._events[a],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,s),!0;case 6:return u.fn.call(u.context,t,i,n,s,o),!0}for(h=1,l=Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var d,p=u.length;for(h=0;h<p;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,t);break;case 3:u[h].fn.call(u[h].context,t,i);break;case 4:u[h].fn.call(u[h].context,t,i,n);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];u[h].fn.apply(u[h].context,l)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var l=0,h=[],u=a.length;l<u;l++)(a[l].fn!==t||n&&!a[l].once||i&&a[l].context!==i)&&h.push(a[l]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},5553:function(e,t,r){var i="Expected a function",n=0/0,s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,u="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==p.call(t))return n;if(v(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=v(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=a.test(e);return i||l.test(e)?h(e.slice(2),i?2:8):o.test(e)?n:+e}e.exports=function(e,t,r){var n=!0,s=!0;if("function"!=typeof e)throw TypeError(i);return v(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),function(e,t,r){var n,s,o,a,l,h,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw TypeError(i);function _(t){var r=n,i=s;return n=s=void 0,u=t,a=e.apply(i,r)}function x(e){var r=e-h,i=e-u;return void 0===h||r>=t||r<0||d&&i>=o}function b(){var e,r,i,n=g();if(x(n))return w(n);l=setTimeout(b,(e=n-h,r=n-u,i=t-e,d?m(i,o-r):i))}function w(e){return(l=void 0,p&&n)?_(e):(n=s=void 0,a)}function E(){var e,r=g(),i=x(r);if(n=arguments,s=this,h=r,i){if(void 0===l)return u=e=h,l=setTimeout(b,t),c?_(e):a;if(d)return l=setTimeout(b,t),_(h)}return void 0===l&&(l=setTimeout(b,t)),a}return t=y(t)||0,v(r)&&(c=!!r.leading,o=(d="maxWait"in r)?f(y(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),E.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=h=s=l=void 0},E.flush=function(){return void 0===l?a:w(g())},E}(e,t,{leading:n,maxWait:t,trailing:s})}},1911:function(e,t,r){r.d(t,{default:function(){return n.a}});var i=r(3079),n=r.n(i)},7337:function(e,t,r){var i,n;e.exports=(null==(i=r.g.process)?void 0:i.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(1071)},3938:function(e,t,r){Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let i=r(9328);function n(e){let{createServerReference:t}=r(9803);return t(e,i.callServer)}},9332:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return i}}),r(289);let i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3870:function(e,t,r){function i(e,t,r,i){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return i}}),r(289),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3079:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return x}});let i=r(9315),n=r(2872),s=i._(r(4209)),o=r(5163),a=r(4069),l=r(9832),h=r(8969),u=r(9332),c=r(4278),d=r(3591),p=r(5677),f=r(3870),m=r(5517),g=r(7998),v=new Set;function y(e,t,r,i,n,s){if(s||(0,a.isLocalURL)(t)){if(!i.bypassPrefetchedCheck){let n=t+"%"+r+"%"+(void 0!==i.locale?i.locale:"locale"in e?e.locale:void 0);if(v.has(n))return;v.add(n)}Promise.resolve(s?e.prefetch(t,n):e.prefetch(t,r,i)).catch(e=>{})}}function _(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let x=s.default.forwardRef(function(e,t){let r,i;let{href:l,as:v,children:x,prefetch:b=null,passHref:w,replace:E,shallow:T,scroll:A,locale:S,onClick:R,onMouseEnter:C,onTouchStart:I,legacyBehavior:P=!1,...M}=e;r=x,P&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let D=s.default.useContext(c.RouterContext),O=s.default.useContext(d.AppRouterContext),L=null!=D?D:O,k=!D,N=!1!==b,B=null===b?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:F,as:U}=s.default.useMemo(()=>{if(!D){let e=_(l);return{href:e,as:v?_(v):e}}let[e,t]=(0,o.resolveHref)(D,l,!0);return{href:e,as:v?(0,o.resolveHref)(D,v):t||e}},[D,l,v]),H=s.default.useRef(F),G=s.default.useRef(U);P&&(i=s.default.Children.only(r));let W=P?i&&"object"==typeof i&&i.ref:t,[z,X,V]=(0,p.useIntersection)({rootMargin:"200px"}),j=s.default.useCallback(e=>{(G.current!==U||H.current!==F)&&(V(),G.current=U,H.current=F),z(e),W&&("function"==typeof W?W(e):"object"==typeof W&&(W.current=e))},[U,W,F,V,z]);s.default.useEffect(()=>{L&&X&&N&&y(L,F,U,{locale:S},{kind:B},k)},[U,F,X,S,N,null==D?void 0:D.locale,L,k,B]);let Y={ref:j,onClick(e){P||"function"!=typeof R||R(e),P&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),L&&!e.defaultPrevented&&function(e,t,r,i,n,o,l,h,u){let{nodeName:c}=e.currentTarget;if("A"===c.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,a.isLocalURL)(r)))return;e.preventDefault();let d=()=>{let e=null==l||l;"beforePopState"in t?t[n?"replace":"push"](r,i,{shallow:o,locale:h,scroll:e}):t[n?"replace":"push"](i||r,{scroll:e})};u?s.default.startTransition(d):d()}(e,L,F,U,E,T,A,S,k)},onMouseEnter(e){P||"function"!=typeof C||C(e),P&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),L&&(N||!k)&&y(L,F,U,{locale:S,priority:!0,bypassPrefetchedCheck:!0},{kind:B},k)},onTouchStart(e){P||"function"!=typeof I||I(e),P&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),L&&(N||!k)&&y(L,F,U,{locale:S,priority:!0,bypassPrefetchedCheck:!0},{kind:B},k)}};if((0,h.isAbsoluteUrl)(U))Y.href=U;else if(!P||w||"a"===i.type&&!("href"in i.props)){let e=void 0!==S?S:null==D?void 0:D.locale,t=(null==D?void 0:D.isLocaleDomain)&&(0,f.getDomainLocale)(U,e,null==D?void 0:D.locales,null==D?void 0:D.domainLocales);Y.href=t||(0,m.addBasePath)((0,u.addLocale)(U,e,null==D?void 0:D.defaultLocale))}return P?s.default.cloneElement(i,Y):(0,n.jsx)("a",{...M,...Y,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},828:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{requestIdleCallback:function(){return r},cancelIdleCallback:function(){return i}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5163:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return c}});let i=r(3952),n=r(9832),s=r(1031),o=r(8969),a=r(289),l=r(4069),h=r(4973),u=r(3036);function c(e,t,r){let c;let d="string"==typeof t?t:(0,n.formatWithValidation)(t),p=d.match(/^[a-zA-Z]{1,}:\/\//),f=p?d.slice(p[0].length):d;if((f.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+d+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,o.normalizeRepeatedSlashes)(f);d=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(d))return r?[d]:d;try{c=new URL(d.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){c=new URL("/","http://n")}try{let e=new URL(d,c);e.pathname=(0,a.normalizePathTrailingSlash)(e.pathname);let t="";if((0,h.isDynamicRoute)(e.pathname)&&e.searchParams&&r){let r=(0,i.searchParamsToUrlQuery)(e.searchParams),{result:o,params:a}=(0,u.interpolateAs)(e.pathname,e.pathname,r);o&&(t=(0,n.formatWithValidation)({pathname:o,hash:e.hash,query:(0,s.omit)(r,a)}))}let o=e.origin===c.origin?e.href.slice(e.origin.length):e.href;return r?[o,t||o]:o}catch(e){return r?[d]:d}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5677:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let i=r(4209),n=r(828),s="function"==typeof IntersectionObserver,o=new Map,a=[];function l(e){let{rootRef:t,rootMargin:r,disabled:l}=e,h=l||!s,[u,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),p=(0,i.useCallback)(e=>{d.current=e},[]);return(0,i.useEffect)(()=>{if(s){if(h||u)return;let e=d.current;if(e&&e.tagName)return function(e,t,r){let{id:i,observer:n,elements:s}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},i=a.find(e=>e.root===r.root&&e.margin===r.margin);if(i&&(t=o.get(i)))return t;let n=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:n},a.push(r),o.set(r,t),t}(r);return s.set(e,t),n.observe(e),function(){if(s.delete(e),n.unobserve(e),0===s.size){n.disconnect(),o.delete(i);let e=a.findIndex(e=>e.root===i.root&&e.margin===i.margin);e>-1&&a.splice(e,1)}}}(e,e=>e&&c(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!u){let e=(0,n.requestIdleCallback)(()=>c(!0));return()=>(0,n.cancelIdleCallback)(e)}},[h,r,t,u,d.current]),[p,u,(0,i.useCallback)(()=>{c(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8126:function(e,t,r){!function(){var t={452:function(e){e.exports=r(536)}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var s=i[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete i[e]}return s.exports}n.ab="//";var s={};!function(){var e,t=(e=n(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function i(e){"string"==typeof e&&(e=v(e));var i,n,s,o,a,l,h,u,c,d=(n=(i=e).auth,s=i.hostname,o=i.protocol||"",a=i.pathname||"",l=i.hash||"",h=i.query||"",u=!1,n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",i.host?u=n+i.host:s&&(u=n+(~s.indexOf(":")?"["+s+"]":s),i.port&&(u+=":"+i.port)),h&&"object"==typeof h&&(h=t.encode(h)),c=i.search||h&&"?"+h||"",o&&":"!==o.substr(-1)&&(o+=":"),i.slashes||(!o||r.test(o))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),l&&"#"!==l[0]&&(l="#"+l),c&&"?"!==c[0]&&(c="?"+c),{protocol:o,host:u,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:c=c.replace("#","%23"),hash:l});return""+d.protocol+d.host+d.pathname+d.search+d.hash}var o="http://",a=o+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,h=/https?|ftp|gopher|file/;function u(e,t){var r="string"==typeof e?v(e):e;e="object"==typeof e?i(e):e;var n=v(t),s="";r.protocol&&!r.slashes&&(s=r.protocol,e=e.replace(r.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&n.protocol&&(s="",n.slashes||(s=n.protocol,t=t.replace(n.protocol,"")));var u=e.match(l);u&&!n.protocol&&(e=e.substr((s=u[1]+(u[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var c=new URL(e,a+"/"),d=new URL(t,c).toString().replace(a,""),p=n.protocol||r.protocol;return p+=r.slashes||n.slashes?"//":"",!s&&p?d=d.replace(o,p):s&&(d=d.replace(o,"")),h.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),s&&(d=s+("/"===d[0]?d.substr(1):d)),d}function c(){}c.prototype.parse=v,c.prototype.format=i,c.prototype.resolve=u,c.prototype.resolveObject=u;var d=/^https?|ftp|gopher|file/,p=/^(.*?)([#?].*)/,f=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,m=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(e,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof c)return e;var s=(e=e.trim()).match(p);e=s?s[1].replace(/\\/g,"/")+s[2]:e.replace(/\\/g,"/"),g.test(e)&&"/"!==e.slice(-1)&&(e+="/");var o=!/(^javascript)/.test(e)&&e.match(f),l=m.test(e),h="";o&&(d.test(o[1])||(h=o[1].toLowerCase(),e=""+o[2]+o[3]),o[2]||(l=!1,d.test(o[1])?(h=o[1],e=""+o[3]):e="//"+o[3]),3!==o[2].length&&1!==o[2].length||(h=o[1],e="/"+o[3]));var u,v=(s?s[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),y=v&&v[1],_=new c,x="",b="";try{u=new URL(e)}catch(t){x=t,h||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(b="/",e=e.substr(1));try{u=new URL(e,a)}catch(e){return _.protocol=h,_.href=h,_}}_.slashes=l&&!b,_.host="w.w"===u.host?"":u.host,_.hostname="w.w"===u.hostname?"":u.hostname.replace(/(\[|\])/g,""),_.protocol=x?h||null:u.protocol,_.search=u.search.replace(/\\/g,"%5C"),_.hash=u.hash.replace(/\\/g,"%5C");var w=e.split("#");!_.search&&~w[0].indexOf("?")&&(_.search="?"),_.hash||""!==w[1]||(_.hash="#"),_.query=r?t.decode(u.search.substr(1)):_.search.substr(1),_.pathname=b+(o?u.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):u.pathname),"about:"===_.protocol&&"blank"===_.pathname&&(_.protocol="",_.pathname=""),x&&"/"!==e[0]&&(_.pathname=_.pathname.substr(1)),h&&!d.test(h)&&"/"!==e.slice(-1)&&"/"===_.pathname&&(_.pathname=""),_.path=_.pathname+_.search,_.auth=[u.username,u.password].map(decodeURIComponent).filter(Boolean).join(":"),_.port=u.port,y&&!_.host.endsWith(y)&&(_.host+=y,_.port=y.slice(1)),_.href=b?""+_.pathname+_.search+_.hash:i(_);var E=/^(file)/.test(_.href)?["host","hostname"]:[];return Object.keys(_).forEach(function(e){~E.indexOf(e)||(_[e]=_[e]||null)}),_}s.parse=v,s.format=i,s.resolve=u,s.resolveObject=function(e,t){return v(u(e,t))},s.Url=c}(),e.exports=s}()},1071:function(e){!function(){var t={229:function(e){var t,r,i,n=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],h=!1,u=-1;function c(){h&&i&&(h=!1,i.length?l=i.concat(l):u=-1,l.length&&d())}function d(){if(!h){var e=a(c);h=!0;for(var t=l.length;t;){for(i=l,l=[];++u<t;)i&&i[u].run();u=-1,t=l.length}i=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,i),o=!1}finally{o&&delete r[e]}return s.exports}i.ab="//";var n=i(229);e.exports=n}()},536:function(e){!function(){var t={815:function(e){e.exports=function(e,r,i,n){r=r||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(r);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var h=0;h<l;++h){var u,c,d,p,f=e[h].replace(o,"%20"),m=f.indexOf(i);(m>=0?(u=f.substr(0,m),c=f.substr(m+1)):(u=f,c=""),d=decodeURIComponent(u),p=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(s,d))?t(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,o,a){return(s=s||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e)?i(n(e),function(n){var a=encodeURIComponent(t(n))+o;return r(e[n])?i(e[n],function(e){return a+encodeURIComponent(t(e))}).join(s):a+encodeURIComponent(t(e[n]))}).join(s):a?encodeURIComponent(t(a))+o+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i],i));return r}var n=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,i),o=!1}finally{o&&delete r[e]}return s.exports}i.ab="//";var n={};n.decode=n.parse=i(815),n.encode=n.stringify=i(577),e.exports=n}()},7160:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return n}});let r=/[|\\{}()[\]^$+*?.-]/,i=/[|\\{}()[\]^$+*?.-]/g;function n(e){return r.test(e)?e.replace(i,"\\$&"):e}},958:function(e,t,r){function i(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}}),r(7010)},4278:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return i}});let i=r(9315)._(r(4209)).default.createContext(null)},9832:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return s},urlObjectKeys:function(){return o},formatWithValidation:function(){return a}});let i=r(9861)._(r(3952)),n=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,s=e.protocol||"",o=e.pathname||"",a=e.hash||"",l=e.query||"",h=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?h=t+e.host:r&&(h=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(h+=":"+e.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==h?(h="//"+(h||""),o&&"/"!==o[0]&&(o="/"+o)):h||(h=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),""+s+h+(o=o.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+a}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return s(e)}},4973:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return n.isDynamicRoute}});let i=r(1649),n=r(3973)},3036:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return s}});let i=r(6447),n=r(7762);function s(e,t,r){let s="",o=(0,n.getRouteRegex)(e),a=o.groups,l=(t!==e?(0,i.getRouteMatcher)(o)(t):"")||r;s=e;let h=Object.keys(a);return h.every(e=>{let t=l[e]||"",{repeat:r,optional:i}=a[e],n="["+(r?"...":"")+e+"]";return i&&(n=(t?"":"/")+"["+n+"]"),r&&!Array.isArray(t)&&(t=[t]),(i||e in l)&&(s=s.replace(n,r?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(s=""),{params:h,result:s}}},3973:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return s}});let i=r(9767),n=/\/\[[^/]+?\](?=\/|$)/;function s(e){return(0,i.isInterceptionRouteAppPath)(e)&&(e=(0,i.extractInterceptionRouteInformation)(e).interceptedRoute),n.test(e)}},4069:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return s}});let i=r(8969),n=r(9610);function s(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},1031:function(e,t){function r(e,t){let r={};return Object.keys(e).forEach(i=>{t.includes(i)||(r[i]=e[i])}),r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return r}})},3952:function(e,t){function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function i(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function n(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,n]=e;Array.isArray(n)?n.forEach(e=>t.append(r,i(e))):t.set(r,i(n))}),t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return n},assign:function(){return s}})},6447:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return n}});let i=r(8969);function n(e){let{re:t,groups:r}=e;return e=>{let n=t.exec(e);if(!n)return!1;let s=e=>{try{return decodeURIComponent(e)}catch(e){throw new i.DecodeError("failed to decode param")}},o={};return Object.keys(r).forEach(e=>{let t=r[e],i=n[t.pos];void 0!==i&&(o[e]=~i.indexOf("/")?i.split("/").map(e=>s(e)):t.repeat?[s(i)]:s(i))}),o}}},7762:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRouteRegex:function(){return l},getNamedRouteRegex:function(){return c},getNamedMiddlewareRegex:function(){return d}});let i=r(9767),n=r(7160),s=r(8541);function o(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function a(e){let t=(0,s.removeTrailingSlash)(e).slice(1).split("/"),r={},a=1;return{parameterizedRoute:t.map(e=>{let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&s){let{key:e,optional:i,repeat:l}=o(s[1]);return r[e]={pos:a++,repeat:l,optional:i},"/"+(0,n.escapeStringRegexp)(t)+"([^/]+?)"}if(!s)return"/"+(0,n.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:i}=o(s[1]);return r[e]={pos:a++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function l(e){let{parameterizedRoute:t,groups:r}=a(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function h(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:i,routeKeys:s,keyPrefix:a}=e,{key:l,optional:h,repeat:u}=o(i),c=l.replace(/\W/g,"");a&&(c=""+a+c);let d=!1;(0===c.length||c.length>30)&&(d=!0),isNaN(parseInt(c.slice(0,1)))||(d=!0),d&&(c=r()),a?s[c]=""+a+l:s[c]=l;let p=t?(0,n.escapeStringRegexp)(t):"";return u?h?"(?:/"+p+"(?<"+c+">.+?))?":"/"+p+"(?<"+c+">.+?)":"/"+p+"(?<"+c+">[^/]+?)"}function u(e,t){let r;let o=(0,s.removeTrailingSlash)(e).slice(1).split("/"),a=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:o.map(e=>{let r=i.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&s){let[r]=e.split(s[0]);return h({getSafeRouteKey:a,interceptionMarker:r,segment:s[1],routeKeys:l,keyPrefix:t?"nxtI":void 0})}return s?h({getSafeRouteKey:a,segment:s[1],routeKeys:l,keyPrefix:t?"nxtP":void 0}):"/"+(0,n.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function c(e,t){let r=u(e,t);return{...l(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function d(e,t){let{parameterizedRoute:r}=a(e),{catchAll:i=!0}=t;if("/"===r)return{namedRegex:"^/"+(i?".*":"")+"$"};let{namedParameterizedRoute:n}=u(e,!1);return{namedRegex:"^"+n+(i?"(?:(/.*)?)":"")+"$"}}},1649:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return i}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,i){if(0===e.length){this.placeholder=!1;return}if(i)throw Error("Catch-all must be the last part of the URL.");let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let r=n.slice(1,-1),o=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),o=!0),r.startsWith("...")&&(r=r.substring(3),i=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function s(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(i){if(o){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');s(this.optionalRestSlugName,r),this.optionalRestSlugName=r,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');s(this.restSlugName,r),this.restSlugName=r,n="[...]"}}else{if(o)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');s(this.slugName,r),this.slugName=r,n="[]"}}this.children.has(n)||this.children.set(n,new r),this.children.get(n)._insert(e.slice(1),t,i)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function i(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}},8969:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{WEB_VITALS:function(){return r},execOnce:function(){return i},isAbsoluteUrl:function(){return s},getLocationOrigin:function(){return o},getURL:function(){return a},getDisplayName:function(){return l},isResSent:function(){return h},normalizeRepeatedSlashes:function(){return u},loadGetInitialProps:function(){return c},SP:function(){return d},ST:function(){return p},DecodeError:function(){return f},NormalizeError:function(){return m},PageNotFoundError:function(){return g},MissingStaticPage:function(){return v},MiddlewareNotFoundError:function(){return y},stringifyError:function(){return _}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return function(){for(var i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];return r||(r=!0,t=e(...n)),t}}let n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>n.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=o();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function h(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function c(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await c(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&h(r))return i;if(!i)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+i+'" instead.');return i}let d="undefined"!=typeof performance,p=d&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class v extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function _(e){return JSON.stringify({message:e.message,stack:e.stack})}},238:function(e,t,r){var i=r(1005);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,s,o){if(o!==i){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},6548:function(e,t,r){e.exports=r(238)()},1005:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3299:function(e,t,r){r.d(t,{y1:function(){return x}});var i=r(4209);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}r(2872);var s=["shift","alt","meta","mod","ctrl"],o={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function a(e){return(o[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function l(e,t){return void 0===t&&(t=","),e.split(t)}function h(e,t,r){void 0===t&&(t="+");var i=e.toLocaleLowerCase().split(t).map(function(e){return a(e)}),o={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod")},l=i.filter(function(e){return!s.includes(e)});return n({},o,{keys:l,description:r})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&d([a(e.key),a(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&p([a(e.key),a(e.code)])})),window.addEventListener("blur",function(){u.clear()});var u=new Set;function c(e){return Array.isArray(e)}function d(e){var t=Array.isArray(e)?e:[e];u.has("meta")&&u.forEach(function(e){return!s.includes(e)&&u.delete(e.toLowerCase())}),t.forEach(function(e){return u.add(e.toLowerCase())})}function p(e){var t=Array.isArray(e)?e:[e];"meta"===e?u.clear():t.forEach(function(e){return u.delete(e.toLowerCase())})}function f(e,t){var r=e.target;void 0===t&&(t=!1);var i=r&&r.tagName;return c(t)?!!(i&&t&&t.some(function(e){return e.toLowerCase()===i.toLowerCase()})):!!(i&&t&&!0===t)}var m=function(e,t,r){void 0===r&&(r=!1);var i,n=t.alt,s=t.meta,o=t.mod,l=t.shift,h=t.ctrl,d=t.keys,p=e.key,f=e.code,m=e.ctrlKey,g=e.metaKey,v=e.shiftKey,y=e.altKey,_=a(f),x=p.toLowerCase();if(!(null!=d&&d.includes(_))&&!(null!=d&&d.includes(x))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(_))return!1;if(!r){if(!y===n&&"alt"!==x||!v===l&&"shift"!==x)return!1;if(o){if(!g&&!m)return!1}else if(!g===s&&"meta"!==x&&"os"!==x||!m===h&&"ctrl"!==x&&"control"!==x)return!1}return!!(d&&1===d.length&&(d.includes(x)||d.includes(_)))||(d?(void 0===i&&(i=","),(c(d)?d:d.split(i)).every(function(e){return u.has(e.trim().toLowerCase())})):!d)},g=(0,i.createContext)(void 0),v=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),y=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},_=i.useLayoutEffect;function x(e,t,r,n){var s,o=(0,i.useRef)(null),u=(0,i.useRef)(!1),x=r instanceof Array?n instanceof Array?void 0:n:r,b=c(e)?e.join(null==x?void 0:x.splitKey):e,w=r instanceof Array?r:n instanceof Array?n:void 0,E=(0,i.useCallback)(t,null!=w?w:[]),T=(0,i.useRef)(E);w?T.current=E:T.current=t;var A=(!function e(t,r){return t&&r&&"object"==typeof t&&"object"==typeof r?Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce(function(i,n){return i&&e(t[n],r[n])},!0):t===r}((s=(0,i.useRef)(void 0)).current,x)&&(s.current=x),s.current),S=(0,i.useContext)(v).enabledScopes,R=(0,i.useContext)(g);return _(function(){if((null==A?void 0:A.enabled)!==!1&&(e=null==A?void 0:A.scopes,0===S.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!e||S.some(function(t){return e.includes(t)})||S.includes("*")))){var e,t=function(e,t){var r;if(void 0===t&&(t=!1),!f(e,["input","textarea","select"])||f(e,null==A?void 0:A.enableOnFormTags)){if(null!==o.current){var i=o.current.getRootNode();if((i instanceof Document||i instanceof ShadowRoot)&&i.activeElement!==o.current&&!o.current.contains(i.activeElement)){y(e);return}}(null==(r=e.target)||!r.isContentEditable||null!=A&&A.enableOnContentEditable)&&l(b,null==A?void 0:A.splitKey).forEach(function(r){var i,n,s,o=h(r,null==A?void 0:A.combinationKey);if(m(e,o,null==A?void 0:A.ignoreModifiers)||null!=(s=o.keys)&&s.includes("*")){if(null!=A&&null!=A.ignoreEventWhen&&A.ignoreEventWhen(e)||t&&u.current)return;if(("function"==typeof(i=null==A?void 0:A.preventDefault)&&i(e,o)||!0===i)&&e.preventDefault(),"function"==typeof(n=null==A?void 0:A.enabled)?!n(e,o):!0!==n&&void 0!==n){y(e);return}T.current(e,o),t||(u.current=!0)}})}},r=function(e){void 0!==e.key&&(d(a(e.code)),((null==A?void 0:A.keydown)===void 0&&(null==A?void 0:A.keyup)!==!0||null!=A&&A.keydown)&&t(e))},i=function(e){void 0!==e.key&&(p(a(e.code)),u.current=!1,null!=A&&A.keyup&&t(e,!0))},n=o.current||(null==x?void 0:x.document)||document;return n.addEventListener("keyup",i),n.addEventListener("keydown",r),R&&l(b,null==A?void 0:A.splitKey).forEach(function(e){return R.addHotkey(h(e,null==A?void 0:A.combinationKey,null==A?void 0:A.description))}),function(){n.removeEventListener("keyup",i),n.removeEventListener("keydown",r),R&&l(b,null==A?void 0:A.splitKey).forEach(function(e){return R.removeHotkey(h(e,null==A?void 0:A.combinationKey,null==A?void 0:A.description))})}}},[b,A,S]),o}},609:function(e,t,r){r.d(t,{Z:function(){return X}});var i,n,s,o,a,l,h=function(){return(h=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function u(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}"function"==typeof SuppressedError&&SuppressedError;var c=r(4209),d="right-scroll-bar-position",p="width-before-scroll-bar";function f(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var m=new WeakMap,g=(void 0===n&&(n={}),(void 0===s&&(s=function(e){return e}),o=[],a=!1,l={read:function(){if(a)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:null},useMedium:function(e){var t=s(e,a);return o.push(t),function(){o=o.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(a=!0;o.length;){var t=o;o=[],t.forEach(e)}o={push:function(t){return e(t)},filter:function(){return o}}},assignMedium:function(e){a=!0;var t=[];if(o.length){var r=o;o=[],r.forEach(e),t=o}var i=function(){var r=t;t=[],r.forEach(e)},n=function(){return Promise.resolve().then(i)};n(),o={push:function(e){t.push(e),n()},filter:function(e){return t=t.filter(e),o}}}}).options=h({async:!0,ssr:!1},n),l),v=function(){},y=c.forwardRef(function(e,t){var r,i,n,s,o=c.useRef(null),a=c.useState({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:v}),l=a[0],d=a[1],p=e.forwardProps,y=e.children,_=e.className,x=e.removeScrollBar,b=e.enabled,w=e.shards,E=e.sideCar,T=e.noIsolation,A=e.inert,S=e.allowPinchZoom,R=e.as,C=u(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=(r=[o,t],i=function(e){return r.forEach(function(t){return f(t,e)})},(n=(0,c.useState)(function(){return{value:null,callback:i,facade:{get current(){return n.value},set current(value){var e=n.value;e!==value&&(n.value=value,n.callback(value,e))}}}})[0]).callback=i,s=n.facade,c.useLayoutEffect(function(){var e=m.get(s);if(e){var t=new Set(e),i=new Set(r),n=s.current;t.forEach(function(e){i.has(e)||f(e,null)}),i.forEach(function(e){t.has(e)||f(e,n)})}m.set(s,r)},[r]),s),P=h(h({},C),l);return c.createElement(c.Fragment,null,b&&c.createElement(E,{sideCar:g,removeScrollBar:x,shards:w,noIsolation:T,inert:A,setCallbacks:d,allowPinchZoom:!!S,lockRef:o}),p?c.cloneElement(c.Children.only(y),h(h({},P),{ref:I})):c.createElement(void 0===R?"div":R,h({},P,{className:_,ref:I}),y))});y.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},y.classNames={fullWidth:p,zeroRight:d};var _=function(e){var t=e.sideCar,r=u(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw Error("Sidecar medium not found");return c.createElement(i,h({},r))};_.isSideCarExport=!0;var x=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=i||r.nc;return t&&e.setAttribute("nonce",t),e}())){var s,o;(s=t).styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n)),o=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},b=function(){var e=x();return function(t,r){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},w=function(){var e=b();return function(t){return e(t.styles,t.dynamic),null}},E=function(e){return parseInt(e||"",10)||0},T=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],i=t["padding"===e?"paddingTop":"marginTop"],n=t["padding"===e?"paddingRight":"marginRight"];return[E(r),E(i),E(n)]},A=function(e){void 0===e&&(e="margin");var t=T(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},S=w(),R=function(e,t,r,i){var n=e.left,s=e.top,o=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(i,";\n   padding-right: ").concat(a,"px ").concat(i,";\n  }\n  body {\n    overflow: hidden ").concat(i,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(i,";"),"margin"===r&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(i,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(d," {\n    right: ").concat(a,"px ").concat(i,";\n  }\n  \n  .").concat(p," {\n    margin-right: ").concat(a,"px ").concat(i,";\n  }\n  \n  .").concat(d," .").concat(d," {\n    right: 0 ").concat(i,";\n  }\n  \n  .").concat(p," .").concat(p," {\n    margin-right: 0 ").concat(i,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},C=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,n=void 0===i?"margin":i,s=c.useMemo(function(){return A(n)},[n]);return c.createElement(S,{styles:R(s,!t,n,r?"":"!important")})},I=!1;try{var P=Object.defineProperty({},"passive",{get:function(){return I=!0,!0}});window.addEventListener("test",P,P),window.removeEventListener("test",P,P)}catch(e){I=!1}var M=!!I&&{passive:!1},D=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])},O=function(e,t){var r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),L(e,r)){var i=k(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==document.body);return!1},L=function(e,t){return"v"===e?D(t,"overflowY"):D(t,"overflowX")},k=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},N=function(e,t,r,i,n){var s,o=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),a=o*i,l=r.target,h=t.contains(l),u=!1,c=a>0,d=0,p=0;do{var f=k(e,l),m=f[0],g=f[1]-f[2]-o*m;(m||g)&&L(e,l)&&(d+=g,p+=m),l=l.parentNode}while(!h&&l!==document.body||h&&(t.contains(l)||t===l));return c&&(n&&0===d||!n&&a>d)?u=!0:!c&&(n&&0===p||!n&&-a>p)&&(u=!0),u},B=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},F=function(e){return[e.deltaX,e.deltaY]},U=function(e){return e&&"current"in e?e.current:e},H=0,G=[],W=(g.useMedium(function(e){var t=c.useRef([]),r=c.useRef([0,0]),i=c.useRef(),n=c.useState(H++)[0],s=c.useState(function(){return w()})[0],o=c.useRef(e);c.useEffect(function(){o.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var t=(function(e,t,r){if(r||2==arguments.length)for(var i,n=0,s=t.length;n<s;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(U),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var a=c.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!o.current.allowPinchZoom;var n,s=B(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-s[0],h="deltaY"in e?e.deltaY:a[1]-s[1],u=e.target,c=Math.abs(l)>Math.abs(h)?"h":"v";if("touches"in e&&"h"===c&&"range"===u.type)return!1;var d=O(c,u);if(!d)return!0;if(d?n=c:(n="v"===c?"h":"v",d=O(c,u)),!d)return!1;if(!i.current&&"changedTouches"in e&&(l||h)&&(i.current=n),!n)return!0;var p=i.current||n;return N(p,t,e,"h"===p?l:h,!0)},[]),l=c.useCallback(function(e){if(G.length&&G[G.length-1]===s){var r="deltaY"in e?F(e):B(e),i=t.current.filter(function(t){var i;return t.name===e.type&&t.target===e.target&&(i=t.delta)[0]===r[0]&&i[1]===r[1]})[0];if(i&&i.should){e.cancelable&&e.preventDefault();return}if(!i){var n=(o.current.shards||[]).map(U).filter(Boolean).filter(function(t){return t.contains(e.target)});(n.length>0?a(e,n[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),h=c.useCallback(function(e,r,i,n){var s={name:e,delta:r,target:i,should:n};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=c.useCallback(function(e){r.current=B(e),i.current=void 0},[]),d=c.useCallback(function(t){h(t.type,F(t),t.target,a(t,e.lockRef.current))},[]),p=c.useCallback(function(t){h(t.type,B(t),t.target,a(t,e.lockRef.current))},[]);c.useEffect(function(){return G.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,M),document.addEventListener("touchmove",l,M),document.addEventListener("touchstart",u,M),function(){G=G.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,M),document.removeEventListener("touchmove",l,M),document.removeEventListener("touchstart",u,M)}},[]);var f=e.removeScrollBar,m=e.inert;return c.createElement(c.Fragment,null,m?c.createElement(s,{styles:"\n  .block-interactivity-".concat(n," {pointer-events: none;}\n  .allow-interactivity-").concat(n," {pointer-events: all;}\n")}):null,f?c.createElement(C,{gapMode:"margin"}):null)}),_),z=c.forwardRef(function(e,t){return c.createElement(y,h({},e,{ref:t,sideCar:W}))});z.classNames=y.classNames;var X=z},462:function(e,t,r){r.d(t,{y1:function(){return n}});var i=r(4209);function n(e,t,r){var n=this,s=(0,i.useRef)(null),o=(0,i.useRef)(0),a=(0,i.useRef)(null),l=(0,i.useRef)([]),h=(0,i.useRef)(),u=(0,i.useRef)(),c=(0,i.useRef)(e),d=(0,i.useRef)(!0);c.current=e;var p=!t&&0!==t;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var f=!!(r=r||{}).leading,m=!("trailing"in r)||!!r.trailing,g="maxWait"in r,v="debounceOnServer"in r&&!!r.debounceOnServer,y=g?Math.max(+r.maxWait||0,t):null;return(0,i.useEffect)(function(){return d.current=!0,function(){d.current=!1}},[]),(0,i.useMemo)(function(){var e=function(e){var t=l.current,r=h.current;return l.current=h.current=null,o.current=e,u.current=c.current.apply(r,t)},r=function(e,t){p&&cancelAnimationFrame(a.current),a.current=p?requestAnimationFrame(e):setTimeout(e,t)},i=function(e){if(!d.current)return!1;var r=e-s.current;return!s.current||r>=t||r<0||g&&e-o.current>=y},v=function(t){return a.current=null,m&&l.current?e(t):(l.current=h.current=null,u.current)},_=function e(){var n=Date.now();if(i(n))return v(n);if(d.current){var a=t-(n-s.current);r(e,g?Math.min(a,y-(n-o.current)):a)}},x=function(){var c=Date.now(),p=i(c);if(l.current=[].slice.call(arguments),h.current=n,s.current=c,p){if(!a.current&&d.current)return o.current=s.current,r(_,t),f?e(s.current):u.current;if(g)return r(_,t),e(s.current)}return a.current||r(_,t),u.current};return x.cancel=function(){a.current&&(p?cancelAnimationFrame(a.current):clearTimeout(a.current)),o.current=0,l.current=s.current=h.current=a.current=null},x.isPending=function(){return!!a.current},x.flush=function(){return a.current?v(Date.now()):u.current},x},[f,g,t,y,m,p,!0,v])}},1092:function(e,t,r){/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(4209),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useState,o=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function h(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var u=void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),i=s({inst:{value:r,getSnapshot:t}}),n=i[0].inst,u=i[1];return a(function(){n.value=r,n.getSnapshot=t,h(n)&&u({inst:n})},[e,r,t]),o(function(){return h(n)&&u({inst:n}),e(function(){h(n)&&u({inst:n})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},8521:function(e,t,r){/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(4209),n=r(1174),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,a=i.useRef,l=i.useEffect,h=i.useMemo,u=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,i,n){var c=a(null);if(null===c.current){var d={hasValue:!1,value:null};c.current=d}else d=c.current;var p=o(e,(c=h(function(){function e(e){if(!l){if(l=!0,o=e,e=i(e),void 0!==n&&d.hasValue){var t=d.value;if(n(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var r=i(e);return void 0!==n&&n(t,r)?t:(o=e,a=r)}var o,a,l=!1,h=void 0===r?null:r;return[function(){return e(t())},null===h?void 0:function(){return e(h())}]},[t,r,i,n]))[0],c[1]);return l(function(){d.hasValue=!0,d.value=p},[p]),u(p),p}},1174:function(e,t,r){e.exports=r(1092)},356:function(e,t,r){e.exports=r(8521)},1611:function(e,t,r){var i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(a,{temporal:()=>u}),e.exports=((e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))o.call(e,r)||void 0===r||i(e,r,{get:()=>t[r],enumerable:!(a=n(t,r))||a.enumerable});return e})(i({},"__esModule",{value:!0}),a);var l=r(5687),h=(e,t,r)=>(i,n)=>({pastStates:(null==r?void 0:r.pastStates)||[],futureStates:(null==r?void 0:r.futureStates)||[],undo:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(n().pastStates.length){var o,a;let l=(null==r?void 0:null===(o=r.partialize)||void 0===o?void 0:o.call(r,t()))||t(),h=n().pastStates.splice(-s,s),u=h.shift();e(u),i({pastStates:n().pastStates,futureStates:n().futureStates.concat((null==r?void 0:null===(a=r.diff)||void 0===a?void 0:a.call(r,l,u))||l,h.reverse())})}},redo:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(n().futureStates.length){var o,a;let l=(null==r?void 0:null===(o=r.partialize)||void 0===o?void 0:o.call(r,t()))||t(),h=n().futureStates.splice(-s,s),u=h.shift();e(u),i({pastStates:n().pastStates.concat((null==r?void 0:null===(a=r.diff)||void 0===a?void 0:a.call(r,l,u))||l,h.reverse()),futureStates:n().futureStates})}},clear:()=>i({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>i({isTracking:!1}),resume:()=>i({isTracking:!0}),setOnSave:e=>i({_onSave:e}),_onSave:null==r?void 0:r.onSave,_handleSet:e=>{if(n().isTracking){var s,o,a,l,h;let u=(null==r?void 0:null===(s=r.partialize)||void 0===s?void 0:s.call(r,t()))||t(),c=null==r?void 0:null===(o=r.diff)||void 0===o?void 0:o.call(r,e,u);(null==r?void 0:null===(a=r.equality)||void 0===a?void 0:a.call(r,e,u))||null===c||((null==r?void 0:r.limit)&&n().pastStates.length>=(null==r?void 0:r.limit)&&n().pastStates.shift(),null===(l=(h=n())._onSave)||void 0===l||l.call(h,e,u),i({pastStates:n().pastStates.concat(c||e),futureStates:[]}))}}}),u=(e,t)=>(r,i,n)=>{var s,o;n.temporal=(0,l.createStore)((null==t?void 0:null===(s=t.wrapTemporal)||void 0===s?void 0:s.call(t,h(r,i,t)))||h(r,i,t));let a=(null==t?void 0:null===(o=t.handleSet)||void 0===o?void 0:o.call(t,n.temporal.getState()._handleSet))||n.temporal.getState()._handleSet,u=n.setState;return n.setState=function(){for(var e,r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];let o=(null==t?void 0:null===(e=t.partialize)||void 0===e?void 0:e.call(t,i()))||i();u(...n),a(o)},e(function(){for(var e,n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];let l=(null==t?void 0:null===(e=t.partialize)||void 0===e?void 0:e.call(t,i()))||i();r(...s),a(l)},i,n)}},5687:function(e,t,r){r.r(t),r.d(t,{create:function(){return c},createStore:function(){return i.M},default:function(){return d},useStore:function(){return h}});var i=r(6443),n=r(4209),s=r(356);let{useDebugValue:o}=n,{useSyncExternalStoreWithSelector:a}=s,l=e=>e;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2?arguments[2]:void 0,i=a(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(i),i}let u=e=>{let t="function"==typeof e?(0,i.M)(e):e,r=(e,r)=>h(t,e,r);return Object.assign(r,t),r},c=e=>e?u(e):u;var d=e=>c(e)},4646:function(e,t,r){r.d(t,{Z:function(){return i}});function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}},7244:function(e,t,r){r.d(t,{Cp:function(){return c},RR:function(){return l},cv:function(){return p},dp:function(){return g},dr:function(){return m},oo:function(){return s},uY:function(){return f},x7:function(){return a}});var i=r(7470);function n(e,t,r){let n,{reference:s,floating:o}=e,a=(0,i.Qq)(t),l=(0,i.Wh)(t),h=(0,i.I4)(l),u=(0,i.k3)(t),c="y"===a,d=s.x+s.width/2-o.width/2,p=s.y+s.height/2-o.height/2,f=s[h]/2-o[h]/2;switch(u){case"top":n={x:d,y:s.y-o.height};break;case"bottom":n={x:d,y:s.y+s.height};break;case"right":n={x:s.x+s.width,y:p};break;case"left":n={x:s.x-o.width,y:p};break;default:n={x:s.x,y:s.y}}switch((0,i.hp)(t)){case"start":n[l]-=f*(r&&c?-1:1);break;case"end":n[l]+=f*(r&&c?-1:1)}return n}let s=async(e,t,r)=>{let{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),h=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:d}=n(u,i,h),p=i,f={},m=0;for(let r=0;r<l.length;r++){let{name:o,fn:g}=l[r],{x:v,y:y,data:_,reset:x}=await g({x:c,y:d,initialPlacement:i,placement:p,strategy:s,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=v?v:c,d=null!=y?y:d,f={...f,[o]:{...f[o],..._}},x&&m<=50&&(m++,"object"==typeof x&&(x.placement&&(p=x.placement),x.rects&&(u=!0===x.rects?await a.getElementRects({reference:e,floating:t,strategy:s}):x.rects),{x:c,y:d}=n(u,p,h)),r=-1)}return{x:c,y:d,placement:p,strategy:s,middlewareData:f}};async function o(e,t){var r;void 0===t&&(t={});let{x:n,y:s,platform:o,rects:a,elements:l,strategy:h}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=(0,i.ku)(t,e),m=(0,i.yd)(f),g=l[p?"floating"===d?"reference":"floating":d],v=(0,i.JB)(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(g)))||r?g:g.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:h})),y="floating"===d?{...a.floating,x:n,y:s}:a.reference,_=await (null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),x=await (null==o.isElement?void 0:o.isElement(_))&&await (null==o.getScale?void 0:o.getScale(_))||{x:1,y:1},b=(0,i.JB)(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:_,strategy:h}):y);return{top:(v.top-b.top+m.top)/x.y,bottom:(b.bottom-v.bottom+m.bottom)/x.y,left:(v.left-b.left+m.left)/x.x,right:(b.right-v.right+m.right)/x.x}}let a=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:h}=t,{element:u,padding:c=0}=(0,i.ku)(e,t)||{};if(null==u)return{};let d=(0,i.yd)(c),p={x:r,y:n},f=(0,i.Wh)(s),m=(0,i.I4)(f),g=await a.getDimensions(u),v="y"===f,y=v?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[f]-p[f]-o.floating[m],x=p[f]-o.reference[f],b=await (null==a.getOffsetParent?void 0:a.getOffsetParent(u)),w=b?b[y]:0;w&&await (null==a.isElement?void 0:a.isElement(b))||(w=l.floating[y]||o.floating[m]);let E=w/2-g[m]/2-1,T=(0,i.VV)(d[v?"top":"left"],E),A=(0,i.VV)(d[v?"bottom":"right"],E),S=w-g[m]-A,R=w/2-g[m]/2+(_/2-x/2),C=(0,i.uZ)(T,R,S),I=!h.arrow&&null!=(0,i.hp)(s)&&R!==C&&o.reference[m]/2-(R<T?T:A)-g[m]/2<0,P=I?R<T?R-T:R-S:0;return{[f]:p[f]+P,data:{[f]:C,centerOffset:R-C-P,...I&&{alignmentOffset:P}},reset:I}}}),l=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,s,a,l;let{placement:h,middlewareData:u,rects:c,initialPlacement:d,platform:p,elements:f}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:x=!0,...b}=(0,i.ku)(e,t);if(null!=(r=u.arrow)&&r.alignmentOffset)return{};let w=(0,i.k3)(h),E=(0,i.k3)(d)===d,T=await (null==p.isRTL?void 0:p.isRTL(f.floating)),A=v||(E||!x?[(0,i.pw)(d)]:(0,i.gy)(d));v||"none"===_||A.push(...(0,i.KX)(d,x,_,T));let S=[d,...A],R=await o(t,b),C=[],I=(null==(n=u.flip)?void 0:n.overflows)||[];if(m&&C.push(R[w]),g){let e=(0,i.i8)(h,c,T);C.push(R[e[0]],R[e[1]])}if(I=[...I,{placement:h,overflows:C}],!C.every(e=>e<=0)){let e=((null==(s=u.flip)?void 0:s.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:I},reset:{placement:t}};let r=null==(a=I.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!r)switch(y){case"bestFit":{let e=null==(l=I.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(r=e);break}case"initialPlacement":r=d}if(h!==r)return{reset:{placement:r}}}return{}}}};function h(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function u(e){return i.mA.some(t=>e[t]>=0)}let c=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...s}=(0,i.ku)(e,t);switch(n){case"referenceHidden":{let e=h(await o(t,{...s,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:u(e)}}}case"escaped":{let e=h(await o(t,{...s,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:u(e)}}}default:return{}}}}};async function d(e,t){let{placement:r,platform:n,elements:s}=e,o=await (null==n.isRTL?void 0:n.isRTL(s.floating)),a=(0,i.k3)(r),l=(0,i.hp)(r),h="y"===(0,i.Qq)(r),u=["left","top"].includes(a)?-1:1,c=o&&h?-1:1,d=(0,i.ku)(t,e),{mainAxis:p,crossAxis:f,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&"number"==typeof m&&(f="end"===l?-1*m:m),h?{x:f*c,y:p*u}:{x:p*u,y:f*c}}let p=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,i;let{x:n,y:s,placement:o,middlewareData:a}=t,l=await d(t,e);return o===(null==(r=a.offset)?void 0:r.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},f=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:h={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...u}=(0,i.ku)(e,t),c={x:r,y:n},d=await o(t,u),p=(0,i.Qq)((0,i.k3)(s)),f=(0,i.Rn)(p),m=c[f],g=c[p];if(a){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=m+d[e],n=m-d[t];m=(0,i.uZ)(r,m,n)}if(l){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=g+d[e],n=g-d[t];g=(0,i.uZ)(r,g,n)}let v=h.fn({...t,[f]:m,[p]:g});return{...v,data:{x:v.x-r,y:v.y-n}}}}},m=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:h=!0,crossAxis:u=!0}=(0,i.ku)(e,t),c={x:r,y:n},d=(0,i.Qq)(s),p=(0,i.Rn)(d),f=c[p],m=c[d],g=(0,i.ku)(l,t),v="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(h){let e="y"===p?"height":"width",t=o.reference[p]-o.floating[e]+v.mainAxis,r=o.reference[p]+o.reference[e]-v.mainAxis;f<t?f=t:f>r&&(f=r)}if(u){var y,_;let e="y"===p?"width":"height",t=["top","left"].includes((0,i.k3)(s)),r=o.reference[d]-o.floating[e]+(t&&(null==(y=a.offset)?void 0:y[d])||0)+(t?0:v.crossAxis),n=o.reference[d]+o.reference[e]+(t?0:(null==(_=a.offset)?void 0:_[d])||0)-(t?v.crossAxis:0);m<r?m=r:m>n&&(m=n)}return{[p]:f,[d]:m}}}},g=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let r,n;let{placement:s,rects:a,platform:l,elements:h}=t,{apply:u=()=>{},...c}=(0,i.ku)(e,t),d=await o(t,c),p=(0,i.k3)(s),f=(0,i.hp)(s),m="y"===(0,i.Qq)(s),{width:g,height:v}=a.floating;"top"===p||"bottom"===p?(r=p,n=f===(await (null==l.isRTL?void 0:l.isRTL(h.floating))?"start":"end")?"left":"right"):(n=p,r="end"===f?"top":"bottom");let y=v-d[r],_=g-d[n],x=!t.middlewareData.shift,b=y,w=_;if(m){let e=g-d.left-d.right;w=f||x?(0,i.VV)(_,e):e}else{let e=v-d.top-d.bottom;b=f||x?(0,i.VV)(y,e):e}if(x&&!f){let e=(0,i.Fp)(d.left,0),t=(0,i.Fp)(d.right,0),r=(0,i.Fp)(d.top,0),n=(0,i.Fp)(d.bottom,0);m?w=g-2*(0!==e||0!==t?e+t:(0,i.Fp)(d.left,d.right)):b=v-2*(0!==r||0!==n?r+n:(0,i.Fp)(d.top,d.bottom))}await u({...t,availableWidth:w,availableHeight:b});let E=await l.getDimensions(h.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}}},776:function(e,t,r){r.d(t,{x7:function(){return H},Me:function(){return k},oo:function(){return W},RR:function(){return B},Cp:function(){return U},dr:function(){return G},uY:function(){return N},dp:function(){return F}});var i=r(7470),n=r(7244);function s(e){return l(e)?(e.nodeName||"").toLowerCase():"#document"}function o(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(l(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function l(e){return e instanceof Node||e instanceof o(e).Node}function h(e){return e instanceof Element||e instanceof o(e).Element}function u(e){return e instanceof HTMLElement||e instanceof o(e).HTMLElement}function c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof o(e).ShadowRoot)}function d(e){let{overflow:t,overflowX:r,overflowY:i,display:n}=v(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(n)}function p(e){let t=m(),r=v(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function f(e){let t=_(e);for(;u(t)&&!g(t);){if(p(t))return t;t=_(t)}return null}function m(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function g(e){return["html","body","#document"].includes(s(e))}function v(e){return o(e).getComputedStyle(e)}function y(e){return h(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function _(e){if("html"===s(e))return e;let t=e.assignedSlot||e.parentNode||c(e)&&e.host||a(e);return c(t)?t.host:t}function x(e,t,r){var i;void 0===t&&(t=[]),void 0===r&&(r=!0);let n=function e(t){let r=_(t);return g(r)?t.ownerDocument?t.ownerDocument.body:t.body:u(r)&&d(r)?r:e(r)}(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),a=o(n);return s?t.concat(a,a.visualViewport||[],d(n)?n:[],a.frameElement&&r?x(a.frameElement):[]):t.concat(n,x(n,[],r))}function b(e){let t=v(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,s=u(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=(0,i.NM)(r)!==o||(0,i.NM)(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function w(e){return h(e)?e:e.contextElement}function E(e){let t=w(e);if(!u(t))return(0,i.ze)(1);let r=t.getBoundingClientRect(),{width:n,height:s,$:o}=b(t),a=(o?(0,i.NM)(r.width):r.width)/n,l=(o?(0,i.NM)(r.height):r.height)/s;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}let T=(0,i.ze)(0);function A(e){let t=o(e);return m()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:T}function S(e,t,r,n){var s;void 0===t&&(t=!1),void 0===r&&(r=!1);let a=e.getBoundingClientRect(),l=w(e),u=(0,i.ze)(1);t&&(n?h(n)&&(u=E(n)):u=E(e));let c=(void 0===(s=r)&&(s=!1),n&&(!s||n===o(l))&&s)?A(l):(0,i.ze)(0),d=(a.left+c.x)/u.x,p=(a.top+c.y)/u.y,f=a.width/u.x,m=a.height/u.y;if(l){let e=o(l),t=n&&h(n)?o(n):n,r=e.frameElement;for(;r&&n&&t!==e;){let e=E(r),t=r.getBoundingClientRect(),i=v(r),n=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;d*=e.x,p*=e.y,f*=e.x,m*=e.y,d+=n,p+=s,r=o(r).frameElement}}return(0,i.JB)({width:f,height:m,x:d,y:p})}let R=[":popover-open",":modal"];function C(e){let t=!1,r=0,i=0;if(R.forEach(r=>{!function(r){try{t=t||e.matches(r)}catch(e){}}(r)}),t){let t=f(e);if(t){let e=t.getBoundingClientRect();r=e.x,i=e.y}}return[t,r,i]}function I(e){return S(a(e)).left+y(e).scrollLeft}function P(e,t,r){let n;if("viewport"===t)n=function(e,t){let r=o(e),i=a(e),n=r.visualViewport,s=i.clientWidth,l=i.clientHeight,h=0,u=0;if(n){s=n.width,l=n.height;let e=m();(!e||e&&"fixed"===t)&&(h=n.offsetLeft,u=n.offsetTop)}return{width:s,height:l,x:h,y:u}}(e,r);else if("document"===t)n=function(e){let t=a(e),r=y(e),n=e.ownerDocument.body,s=(0,i.Fp)(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=(0,i.Fp)(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),l=-r.scrollLeft+I(e),h=-r.scrollTop;return"rtl"===v(n).direction&&(l+=(0,i.Fp)(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:h}}(a(e));else if(h(t))n=function(e,t){let r=S(e,!0,"fixed"===t),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=u(e)?E(e):(0,i.ze)(1),a=e.clientWidth*o.x;return{width:a,height:e.clientHeight*o.y,x:s*o.x,y:n*o.y}}(t,r);else{let r=A(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return(0,i.JB)(n)}function M(e,t){return u(e)&&"fixed"!==v(e).position?t?t(e):e.offsetParent:null}function D(e,t){let r=o(e);if(!u(e))return r;let i=M(e,t);for(;i&&["table","td","th"].includes(s(i))&&"static"===v(i).position;)i=M(i,t);return i&&("html"===s(i)||"body"===s(i)&&"static"===v(i).position&&!p(i))?r:i||f(e)||r}let O=async function(e){let t=this.getOffsetParent||D,r=this.getDimensions;return{reference:function(e,t,r,n){let o=u(t),l=a(t),h="fixed"===r,c=S(e,!0,h,t),p={scrollLeft:0,scrollTop:0},f=(0,i.ze)(0);if(o||!o&&!h){if(("body"!==s(t)||d(l))&&(p=y(t)),o){let e=S(t,!0,h,t);f.x=e.x+t.clientLeft,f.y=e.y+t.clientTop}else l&&(f.x=I(l))}let m=c.left+p.scrollLeft-f.x,g=c.top+p.scrollTop-f.y,[v,_,x]=C(n);return v&&(m+=_,g+=x,o&&(m+=t.clientLeft,g+=t.clientTop)),{x:m,y:g,width:c.width,height:c.height}}(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await r(e.floating)}}},L={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e,l=a(n),[h]=t?C(t.floating):[!1];if(n===l||h)return r;let c={scrollLeft:0,scrollTop:0},p=(0,i.ze)(1),f=(0,i.ze)(0),m=u(n);if((m||!m&&"fixed"!==o)&&(("body"!==s(n)||d(l))&&(c=y(n)),u(n))){let e=S(n);p=E(n),f.x=e.x+n.clientLeft,f.y=e.y+n.clientTop}return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-c.scrollLeft*p.x+f.x,y:r.y*p.y-c.scrollTop*p.y+f.y}},getDocumentElement:a,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e,a=[..."clippingAncestors"===r?function(e,t){let r=t.get(e);if(r)return r;let i=x(e,[],!1).filter(e=>h(e)&&"body"!==s(e)),n=null,o="fixed"===v(e).position,a=o?_(e):e;for(;h(a)&&!g(a);){let t=v(a),r=p(a);r||"fixed"!==t.position||(n=null),(o?!r&&!n:!r&&"static"===t.position&&!!n&&["absolute","fixed"].includes(n.position)||d(a)&&!r&&function e(t,r){let i=_(t);return!(i===r||!h(i)||g(i))&&("fixed"===v(i).position||e(i,r))}(e,a))?i=i.filter(e=>e!==a):n=t,a=_(a)}return t.set(e,i),i}(t,this._c):[].concat(r),n],l=a[0],u=a.reduce((e,r)=>{let n=P(t,r,o);return e.top=(0,i.Fp)(n.top,e.top),e.right=(0,i.VV)(n.right,e.right),e.bottom=(0,i.VV)(n.bottom,e.bottom),e.left=(0,i.Fp)(n.left,e.left),e},P(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:D,getElementRects:O,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=b(e);return{width:t,height:r}},getScale:E,isElement:h,isRTL:function(e){return"rtl"===v(e).direction}};function k(e,t,r,n){let s;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:h="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:c=!1}=n,d=w(e),p=o||l?[...d?x(d):[],...x(t)]:[];p.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),l&&e.addEventListener("resize",r)});let f=d&&u?function(e,t){let r,n=null,s=a(e);function o(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function a(l,h){void 0===l&&(l=!1),void 0===h&&(h=1),o();let{left:u,top:c,width:d,height:p}=e.getBoundingClientRect();if(l||t(),!d||!p)return;let f=(0,i.GW)(c),m=(0,i.GW)(s.clientWidth-(u+d)),g={rootMargin:-f+"px "+-m+"px "+-(0,i.GW)(s.clientHeight-(c+p))+"px "+-(0,i.GW)(u)+"px",threshold:(0,i.Fp)(0,(0,i.VV)(1,h))||1},v=!0;function y(e){let t=e[0].intersectionRatio;if(t!==h){if(!v)return a();t?a(!1,t):r=setTimeout(()=>{a(!1,1e-7)},100)}v=!1}try{n=new IntersectionObserver(y,{...g,root:s.ownerDocument})}catch(e){n=new IntersectionObserver(y,g)}n.observe(e)}(!0),o}(d,r):null,m=-1,g=null;h&&(g=new ResizeObserver(e=>{let[i]=e;i&&i.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),r()}),d&&!c&&g.observe(d),g.observe(t));let v=c?S(e):null;return c&&function t(){let i=S(e);v&&(i.x!==v.x||i.y!==v.y||i.width!==v.width||i.height!==v.height)&&r(),v=i,s=requestAnimationFrame(t)}(),r(),()=>{var e;p.forEach(e=>{o&&e.removeEventListener("scroll",r),l&&e.removeEventListener("resize",r)}),null==f||f(),null==(e=g)||e.disconnect(),g=null,c&&cancelAnimationFrame(s)}}let N=n.uY,B=n.RR,F=n.dp,U=n.Cp,H=n.x7,G=n.dr,W=(e,t,r)=>{let i=new Map,s={platform:L,...r},o={...s.platform,_c:i};return(0,n.oo)(e,t,{...s,platform:o})}},3535:function(e,t,r){r.d(t,{YF:function(){return d},x7:function(){return o}});var i=r(776),n=r(4209),s=r(303);let o=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:n}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?(0,i.x7)({element:r.current,padding:n}).fn(t):{}:r?(0,i.x7)({element:r,padding:n}).fn(t):{}}});var a="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function l(e,t){let r,i,n;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!=i--;)if(!l(e[i],t[i]))return!1;return!0}if((r=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!({}).hasOwnProperty.call(t,n[i]))return!1;for(i=r;0!=i--;){let r=n[i];if(("_owner"!==r||!e.$$typeof)&&!l(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function h(e){return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u(e,t){let r=h(e);return Math.round(t*r)/r}function c(e){let t=n.useRef(e);return a(()=>{t.current=e}),t}function d(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:d,elements:{reference:p,floating:f}={},transform:m=!0,whileElementsMounted:g,open:v}=e,[y,_]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=n.useState(o);l(x,o)||b(o);let[w,E]=n.useState(null),[T,A]=n.useState(null),S=n.useCallback(e=>{e!==P.current&&(P.current=e,E(e))},[]),R=n.useCallback(e=>{e!==M.current&&(M.current=e,A(e))},[]),C=p||w,I=f||T,P=n.useRef(null),M=n.useRef(null),D=n.useRef(y),O=null!=g,L=c(g),k=c(d),N=n.useCallback(()=>{if(!P.current||!M.current)return;let e={placement:t,strategy:r,middleware:x};k.current&&(e.platform=k.current),(0,i.oo)(P.current,M.current,e).then(e=>{let t={...e,isPositioned:!0};B.current&&!l(D.current,t)&&(D.current=t,s.flushSync(()=>{_(t)}))})},[x,t,r,k]);a(()=>{!1===v&&D.current.isPositioned&&(D.current.isPositioned=!1,_(e=>({...e,isPositioned:!1})))},[v]);let B=n.useRef(!1);a(()=>(B.current=!0,()=>{B.current=!1}),[]),a(()=>{if(C&&(P.current=C),I&&(M.current=I),C&&I){if(L.current)return L.current(C,I,N);N()}},[C,I,N,L,O]);let F=n.useMemo(()=>({reference:P,floating:M,setReference:S,setFloating:R}),[S,R]),U=n.useMemo(()=>({reference:C,floating:I}),[C,I]),H=n.useMemo(()=>{let e={position:r,left:0,top:0};if(!U.floating)return e;let t=u(U.floating,y.x),i=u(U.floating,y.y);return m?{...e,transform:"translate("+t+"px, "+i+"px)",...h(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:i}},[r,m,U.floating,y.x,y.y]);return n.useMemo(()=>({...y,update:N,refs:F,elements:U,floatingStyles:H}),[y,N,F,U,H])}},7470:function(e,t,r){r.d(t,{Fp:function(){return s},GW:function(){return a},I4:function(){return g},JB:function(){return A},KX:function(){return w},NM:function(){return o},Qq:function(){return v},Rn:function(){return m},VV:function(){return n},Wh:function(){return y},gy:function(){return x},hp:function(){return f},i8:function(){return _},k3:function(){return p},ku:function(){return d},mA:function(){return i},pw:function(){return E},uZ:function(){return c},yd:function(){return T},ze:function(){return l}});let i=["top","right","bottom","left"],n=Math.min,s=Math.max,o=Math.round,a=Math.floor,l=e=>({x:e,y:e}),h={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function c(e,t,r){return s(e,n(t,r))}function d(e,t){return"function"==typeof e?e(t):e}function p(e){return e.split("-")[0]}function f(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function v(e){return["top","bottom"].includes(p(e))?"y":"x"}function y(e){return m(v(e))}function _(e,t,r){void 0===r&&(r=!1);let i=f(e),n=y(e),s=g(n),o="x"===n?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=E(o)),[o,E(o)]}function x(e){let t=E(e);return[b(e),t,b(t)]}function b(e){return e.replace(/start|end/g,e=>u[e])}function w(e,t,r,i){let n=f(e),s=function(e,t,r){let i=["left","right"],n=["right","left"];switch(e){case"top":case"bottom":if(r)return t?n:i;return t?i:n;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(p(e),"start"===r,i);return n&&(s=s.map(e=>e+"-"+n),t&&(s=s.concat(s.map(b)))),s}function E(e){return e.replace(/left|right|bottom|top/g,e=>h[e])}function T(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function A(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}},4853:function(e,t,r){r.d(t,{M:function(){return o}});var i=r(3072),n=r(1373);let s=class e{render(){this.renderer.render(this.stage)}get view(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.view}get screen(){var e;return null===(e=this.renderer)||void 0===e?void 0:e.screen}destroy(t,r){let i=e._plugins.slice(0);i.reverse(),i.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}constructor(t){this.stage=new n.W2,t=Object.assign({forceCanvas:!1},t),this.renderer=(0,i.e6)(t),e._plugins.forEach(e=>{e.init.call(this,t)})}};s._plugins=[];let o=s;i.Rw.handleByList(i.nw.Application,o._plugins);class a{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{let e,t;if(this._resizeTo){if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{let{clientWidth:r,clientHeight:i}=this._resizeTo;e=r,t=i}this.renderer.resize(e,t),this.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}a.extension=i.nw.Application,i.Rw.add(a)},8398:function(e,t,r){r.d(t,{Q2:function(){return p},gN:function(){return a},uz:function(){return et},cU:function(){return M}});var i,n=r(3072);let s={loader:n.nw.LoadParser,resolver:n.nw.ResolveParser,cache:n.nw.CacheParser,detection:n.nw.DetectionParser};n.Rw.handle(n.nw.Asset,e=>{let t=e.ref;Object.entries(s).filter(e=>{let[r]=e;return!!t[r]}).forEach(e=>{var r;let[i,s]=e;return n.Rw.add(Object.assign(t[i],{extension:null!==(r=t[i].extension)&&void 0!==r?r:s}))})},e=>{let t=e.ref;Object.keys(s).filter(e=>!!t[e]).forEach(e=>n.Rw.remove(t[e]))});class o{add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}}function a(e,t){let r=e.split("?")[0],i=n.P6.path.extname(r).toLowerCase();return Array.isArray(t)?t.includes(i):i===t}let l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)||(e=[e]),t?e.map(e=>"string"==typeof e||r?t(e):e):e};class h{reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){let t=this._cache.get(e);return t||console.warn("[Assets] Asset id ".concat(e," was not found in the Cache")),t}set(e,t){let r;let i=l(e);for(let e=0;e<this.parsers.length;e++){let n=this.parsers[e];if(n.test(t)){r=n.getCacheableAssets(i,t);break}}r||(r={},i.forEach(e=>{r[e]=t}));let s=Object.keys(r),o={cacheKeys:s,keys:i};i.forEach(e=>{this._cacheMap.set(e,o)}),s.forEach(e=>{this._cache.has(e)&&this._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),this._cache.set(e,r[e])}),t instanceof n.xE&&i.forEach(e=>{t.baseTexture!==n.xE.EMPTY.baseTexture&&n.VL.addToCache(t.baseTexture,e),n.xE.addToCache(t,e)})}remove(e){if(!this._cacheMap.has(e)){console.warn("[Assets] Asset id ".concat(e," was not found in the Cache"));return}let t=this._cacheMap.get(e);t.cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})}get parsers(){return this._parsers}constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}}let u=new h,c=e=>!Array.isArray(e);class d{reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let r={promise:null,parser:null};return r.promise=(async()=>{var i,n;let s=null,o=null;if(t.loadParser&&((o=this._parserHash[t.loadParser])||console.warn('[Assets] specified load parser "'.concat(t.loadParser,'" not found while loading ').concat(e))),!o){for(let r=0;r<this.parsers.length;r++){let n=this.parsers[r];if(n.load&&(null===(i=n.test)||void 0===i?void 0:i.call(n,e,t,this))){o=n;break}}if(!o)return console.warn("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}s=await o.load(e,t,this),r.parser=o;for(let e=0;e<this.parsers.length;e++){let i=this.parsers[e];i.parse&&i.parse&&await (null===(n=i.testParse)||void 0===n?void 0:n.call(i,s,t,this))&&(s=await i.parse(s,t,this)||s,r.parser=i)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0,i={},s=c(e),o=l(e,e=>({alias:[e],src:e})),a=o.length,h=o.map(async e=>{let s=n.P6.path.toAbsolute(e.src);if(!i[e.src])try{this.promiseCache[s]||(this.promiseCache[s]=this._getLoadPromiseAndParser(s,e)),i[e.src]=await this.promiseCache[s].promise,t&&t(++r/a)}catch(t){throw delete this.promiseCache[s],delete i[e.src],Error("[Loader.load] Failed to load ".concat(s,".\n").concat(t))}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){let t=l(e,e=>({alias:[e],src:e})).map(async e=>{let t=n.P6.path.toAbsolute(e.src),r=this.promiseCache[t];if(r){var i,s;let n=await r.promise;delete this.promiseCache[t],null===(s=r.parser)||void 0===s||null===(i=s.unload)||void 0===i||i.call(s,n,e,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn('[Assets] loadParser name conflict "'.concat(t.name,'"')),{...e,[t.name]:t}),{})}constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}}var p=((i=p||{})[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i);function f(e,t){if(Array.isArray(t)){for(let r of t)if(e.startsWith("data:".concat(r)))return!0;return!1}return e.startsWith("data:".concat(t))}let m={extension:{type:n.nw.LoadParser,priority:p.Low},name:"loadJson",test:e=>f(e,"application/json")||a(e,".json"),load:async e=>await (await n.Xd.ADAPTER.fetch(e)).json()};n.Rw.add(m);let g={name:"loadTxt",extension:{type:n.nw.LoadParser,priority:p.Low},test:e=>f(e,"text/plain")||a(e,".txt"),load:async e=>await (await n.Xd.ADAPTER.fetch(e)).text()};n.Rw.add(g);let v=["normal","bold","100","200","300","400","500","600","700","800","900"],y=[".ttf",".otf",".woff",".woff2"],_=["font/ttf","font/otf","font/woff","font/woff2"],x=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i,b=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,w={extension:{type:n.nw.LoadParser,priority:p.Low},name:"loadWebFont",test:e=>f(e,_)||a(e,y),async load(e,t){let r=n.Xd.ADAPTER.getFontFaceSet();if(r){var i,s,o,a,l,h;let u=[],c=null!==(a=null===(i=t.data)||void 0===i?void 0:i.family)&&void 0!==a?a:function(e){let t=n.P6.path.extname(e),r=n.P6.path.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)),i=r.length>0;for(let e of r)if(!e.match(x)){i=!1;break}let s=r.join(" ");return i||(s='"'.concat(s.replace(/[\\"]/g,"\\$&"),'"')),s}(e),d=null!==(l=null===(o=t.data)||void 0===o?void 0:null===(s=o.weights)||void 0===s?void 0:s.filter(e=>v.includes(e)))&&void 0!==l?l:["normal"],p=null!==(h=t.data)&&void 0!==h?h:{};for(let t=0;t<d.length;t++){let i=d[t],n=new FontFace(c,"url(".concat(b.test(e)?e:encodeURI(e),")"),{...p,weight:i});await n.load(),r.add(n),u.push(n)}return 1===u.length?u[0]:u}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(e=>n.Xd.ADAPTER.getFontFaceSet().delete(e))}};n.Rw.add(w);let E=null;class T extends Worker{constructor(){E||(E=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n  async function checkImageBitmap() {\n    try {\n      if (typeof createImageBitmap != "function")\n        return !1;\n      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap.width === 1 && imageBitmap.height === 1;\n    } catch {\n      return !1;\n    }\n  }\n  checkImageBitmap().then((result) => {\n    self.postMessage(result);\n  });\n})();\n'],{type:"application/javascript"}))),super(E)}}T.revokeObjectURL=function(){E&&(URL.revokeObjectURL(E),E=null)};let A=null;class S extends Worker{constructor(){A||(A=URL.createObjectURL(new Blob(['(function() {\n  "use strict";\n  async function loadImageBitmap(url) {\n    const response = await fetch(url);\n    if (!response.ok)\n      throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n    const imageBlob = await response.blob();\n    return await createImageBitmap(imageBlob);\n  }\n  self.onmessage = async (event) => {\n    try {\n      const imageBitmap = await loadImageBitmap(event.data.data[0]);\n      self.postMessage({\n        data: imageBitmap,\n        uuid: event.data.uuid,\n        id: event.data.id\n      }, [imageBitmap]);\n    } catch (e) {\n      self.postMessage({\n        error: e,\n        uuid: event.data.uuid,\n        id: event.data.id\n      });\n    }\n  };\n})();\n'],{type:"application/javascript"}))),super(A)}}S.revokeObjectURL=function(){A&&(URL.revokeObjectURL(A),A=null)};let R=0,C;class I{isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{let t=new T;t.addEventListener("message",r=>{t.terminate(),T.revokeObjectURL(),e(r.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===C&&(C=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<C&&(this._createdWorkers++,(e=new S).addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();let r=new Promise((r,i)=>{this.queue.push({id:e,arguments:t,resolve:r,reject:i})});return this.next(),r}next(){if(!this.queue.length)return;let e=this.getWorker();if(!e)return;let t=this.queue.pop(),r=t.id;this.resolveHash[R]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:R++,id:r})}constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}}let P=new I;function M(e,t,r){e.resource.internal=!0;let i=new n.xE(e),s=()=>{delete t.promiseCache[r],u.has(r)&&u.remove(r)};return i.baseTexture.once("destroyed",()=>{r in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),i.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),i}let D=[".jpeg",".jpg",".png",".webp",".avif"],O=["image/jpeg","image/png","image/webp","image/avif"];async function L(e){let t=await n.Xd.ADAPTER.fetch(e);if(!t.ok)throw Error("[loadImageBitmap] Failed to fetch ".concat(e,": ").concat(t.status," ").concat(t.statusText));let r=await t.blob();return await createImageBitmap(r)}let k={name:"loadTextures",extension:{type:n.nw.LoadParser,priority:p.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>f(e,O)||a(e,D),async load(e,t,r){var i,s;let o;let a=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;o=a?this.config.preferWorkers&&await P.isImageBitmapSupported()?await P.loadImageBitmap(e):await L(e):await new Promise((t,r)=>{let i=new Image;i.crossOrigin=this.config.crossOrigin,i.src=e,i.complete?t(i):(i.onload=()=>t(i),i.onerror=e=>r(e))});let l={...t.data};null!==(s=l.resolution)&&void 0!==s||(l.resolution=n.P6.getResolutionOfUrl(e)),a&&(null===(i=l.resourceOptions)||void 0===i?void 0:i.ownsImageBitmap)===void 0&&(l.resourceOptions={...l.resourceOptions},l.resourceOptions.ownsImageBitmap=!0);let h=new n.VL(o,l);return h.resource.src=e,M(h,r,e)},unload(e){e.destroy(!0)}};n.Rw.add(k);let N={extension:{type:n.nw.LoadParser,priority:p.High},name:"loadSVG",test:e=>f(e,"image/svg+xml")||a(e,".svg"),testParse:async e=>n.pX.test(e),async parse(e,t,r){var i;let s=new n.pX(e,null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.resourceOptions);await s.load();let o=new n.VL(s,{resolution:n.P6.getResolutionOfUrl(e),...null==t?void 0:t.data});return o.resource.src=t.src,M(o,r,t.src)},load:async(e,t)=>(await n.Xd.ADAPTER.fetch(e)).text(),unload:k.unload};n.Rw.add(N);let B=[".mp4",".m4v",".webm",".ogv"],F=["video/mp4","video/webm","video/ogg"],U={name:"loadVideo",extension:{type:n.nw.LoadParser,priority:p.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:e=>f(e,F)||a(e,B),async load(e,t,r){let i;let s=await (await n.Xd.ADAPTER.fetch(e)).blob(),o=URL.createObjectURL(s);try{var a;let s={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.resourceOptions,autoLoad:!0},l=new n.eH(o,s);await l.load();let h=new n.VL(l,{alphaMode:await n.P6.detectVideoAlphaMode(),resolution:n.P6.getResolutionOfUrl(e),...null==t?void 0:t.data});h.resource.src=e,(i=M(h,r,e)).baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(e){throw URL.revokeObjectURL(o),e}return i},unload(e){e.destroy(!0)}};n.Rw.add(U);class H{setBundleIdentifier(e){var t,r,i;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(r=e.createBundleAssetId)&&void 0!==r?r:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(i=e.extractAssetIdFromBundle)&&void 0!==i?i:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){"string"==typeof e?this._defaultSearchParams=e:this._defaultSearchParams=Object.keys(e).map(t=>"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))).join("&")}getAlias(e){let{alias:t,name:r,src:i,srcs:n}=e;return l(t||r||i||n,e=>{var t;return"string"==typeof e?e:Array.isArray(e)?e.map(e=>{var t,r;return null!==(r=null!==(t=null==e?void 0:e.src)&&void 0!==t?t:null==e?void 0:e.srcs)&&void 0!==r?r:e}):(null==e?void 0:e.src)||(null==e?void 0:e.srcs)?null!==(t=e.src)&&void 0!==t?t:e.srcs:e},!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(e,t){let r=[];Array.isArray(t)?t.forEach(t=>{var i,n;let s;let o=null!==(i=t.src)&&void 0!==i?i:t.srcs,a=null!==(n=t.alias)&&void 0!==n?n:t.name;if("string"==typeof a){let t=this._createBundleAssetId(e,a);r.push(t),s=[a,t]}else{let t=a.map(t=>this._createBundleAssetId(e,t));r.push(...t),s=[...a,...t]}this.add({...t,alias:s,src:o})}):Object.keys(t).forEach(i=>{let n=[i,this._createBundleAssetId(e,i)];if("string"==typeof t[i])this.add({alias:n,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:n,src:t[i]});else{var s;let e=t[i],r=null!==(s=e.src)&&void 0!==s?s:e.srcs;this.add({...e,alias:n,src:Array.isArray(r)?r:[r]})}r.push(...n)}),this._bundles[e]=r}add(e,t,r,i,s){let o;let a=[];"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(n.P6.deprecation("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),a.push({alias:e,src:t,data:r,format:i,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e),o=e=>{this.hasKey(e)&&console.warn("[Resolver] already has key: ".concat(e," overwriting"))},l(a).forEach(e=>{let{src:t,srcs:r}=e,{data:i,format:n,loadParser:s}=e,a=l(t||r).map(e=>"string"==typeof e?function(e){let t=e.match(/\{(.*?)\}/g),r=[];if(t){let i=[];t.forEach(e=>{let t=e.substring(1,e.length-1).split(",");i.push(t)}),function e(t,r,i,n,s){let o=r[i];for(let a=0;a<o.length;a++){let l=o[a];i<r.length-1?e(t.replace(n[i],l),r,i+1,n,s):s.push(t.replace(n[i],l))}}(e,i,0,t,r)}else r.push(e);return r}(e):Array.isArray(e)?e:[e]),h=this.getAlias(e);Array.isArray(h)?h.forEach(o):o(h);let u=[];a.forEach(e=>{e.forEach(e=>{var t,r,o;let a={};if("object"!=typeof e){a.src=e;for(let t=0;t<this._parsers.length;t++){let r=this._parsers[t];if(r.test(e)){a=r.parse(e);break}}}else i=null!==(t=e.data)&&void 0!==t?t:i,n=null!==(r=e.format)&&void 0!==r?r:n,s=null!==(o=e.loadParser)&&void 0!==o?o:s,a={...a,...e};if(!h)throw Error("[Resolver] alias is undefined for this asset: ".concat(a.src));a=this.buildResolvedAsset(a,{aliases:h,data:i,format:n,loadParser:s}),u.push(a)})}),h.forEach(e=>{this._assetMap[e]=u})})}resolveBundle(e){let t=c(e);e=l(e);let r={};return e.forEach(e=>{let t=this._bundles[e];if(t){let i=this.resolve(t),n={};for(let t in i){let r=i[t];n[this._extractAssetIdFromBundle(e,t)]=r}r[e]=n}}),t?r[e[0]]:r}resolveUrl(e){let t=this.resolve(e);if("string"!=typeof e){let e={};for(let r in t)e[r]=t[r].src;return e}return t.src}resolve(e){let t=c(e);e=l(e);let r={};return e.forEach(e=>{if(!this._resolverHash[e]){if(this._assetMap[e]){var t;let r=this._assetMap[e],i=r[0],n=this._getPreferredOrder(r);null==n||n.priority.forEach(e=>{n.params[e].forEach(t=>{let i=r.filter(r=>!!r[e]&&r[e]===t);i.length&&(r=i)})}),this._resolverHash[e]=null!==(t=r[0])&&void 0!==t?t:i}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{})}r[e]=this._resolverHash[e]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){let t=e[0],r=this._preferredOrder.find(e=>e.params.format.includes(t.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;let t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}buildResolvedAsset(e,t){var r;let{aliases:i,data:s,loadParser:o,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=n.P6.path.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=null!==(r=null!=i?i:e.alias)&&void 0!==r?r:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=null!=o?o:e.loadParser,e.format=null!=a?a:n.P6.path.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>"".concat(e).concat(this._bundleIdConnector).concat(t),extractAssetIdFromBundle:(e,t)=>t.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}}class G{async init(){var e,t,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,i.defaultSearchParams&&this.resolver.setDefaultSearchParams(i.defaultSearchParams),i.basePath&&(this.resolver.basePath=i.basePath),i.bundleIdentifier&&this.resolver.setBundleIdentifier(i.bundleIdentifier),i.manifest){let e=i.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}let n=null!==(r=null===(e=i.texturePreference)||void 0===e?void 0:e.resolution)&&void 0!==r?r:1,s=await this._detectFormats({preferredFormats:null===(t=i.texturePreference)||void 0===t?void 0:t.format,skipDetections:i.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:"number"==typeof n?[n]:n}}),i.preferences&&this.setPreferences(i.preferences)}add(e,t,r,i,n){this.resolver.add(e,t,r,i,n)}async load(e,t){this._initialized||await this.init();let r=c(e),i=l(e).map(e=>{if("string"!=typeof e){let t=this.resolver.getAlias(e);return t.some(e=>!this.resolver.hasKey(e))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e}),n=this.resolver.resolve(i),s=await this._mapLoadToResolve(n,t);return r?s[i[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;"string"==typeof e&&(r=!0,e=[e]);let i=this.resolver.resolveBundle(e),n={},s=Object.keys(i),o=0,a=0,l=()=>{null==t||t(++o/a)},h=s.map(e=>{let t=i[e];return a+=Object.keys(t).length,this._mapLoadToResolve(t,l).then(t=>{n[e]=t})});return await Promise.all(h),r?n[e[0]]:n}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]),Object.values(this.resolver.resolveBundle(e)).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return u.get(e);let t={};for(let r=0;r<e.length;r++)t[r]=u.get(e[r]);return t}async _mapLoadToResolve(e,t){let r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;let n=await this.loader.load(r,t);this._backgroundLoader.active=!0;let s={};return r.forEach((e,t)=>{let r=n[e.src],o=[e.src];e.alias&&o.push(...e.alias),s[i[t]]=r,u.set(o,r)}),s}async unload(e){this._initialized||await this.init();let t=l(e).map(e=>"string"!=typeof e?e.src:e),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=l(e);let t=this.resolver.resolveBundle(e),r=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(r)}async _unloadFromResolved(e){let t=Object.values(e);t.forEach(e=>{u.remove(e.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];for(let r of(e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]),e.detections))e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((e,r)=>t.indexOf(e)===r)}get detections(){return this._detections}get preferWorkers(){return k.config.preferWorkers}set preferWorkers(e){n.P6.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(t=>t in e).forEach(r=>{t.config[r]=e[r]})})}constructor(){this._detections=[],this._initialized=!1,this.resolver=new H,this.loader=new d,this.cache=u,this._backgroundLoader=new o(this.loader),this._backgroundLoader.active=!0,this.reset()}}let W=new G;n.Rw.handleByList(n.nw.LoadParser,W.loader.parsers).handleByList(n.nw.ResolveParser,W.resolver.parsers).handleByList(n.nw.CacheParser,W.cache.parsers).handleByList(n.nw.DetectionParser,W.detections);let z={extension:n.nw.CacheParser,test:e=>Array.isArray(e)&&e.every(e=>e instanceof n.xE),getCacheableAssets:(e,t)=>{let r={};return e.forEach(e=>{t.forEach((t,i)=>{r[e+(0===i?"":i+1)]=t})}),r}};async function X(e){if("Image"in globalThis)return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let t=await (await fetch(e)).blob();await createImageBitmap(t)}catch(e){return!1}return!0}return!1}n.Rw.add(z);let V={extension:{type:n.nw.DetectionParser,priority:1},test:async()=>X("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)};n.Rw.add(V);let j={extension:{type:n.nw.DetectionParser,priority:0},test:async()=>X("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};n.Rw.add(j);let Y=["png","jpg","jpeg"],Z={extension:{type:n.nw.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...Y],remove:async e=>e.filter(e=>!Y.includes(e))};n.Rw.add(Z);let K="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function q(e){return!K&&""!==document.createElement("video").canPlayType(e)}let $={extension:{type:n.nw.DetectionParser,priority:0},test:async()=>q("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(e=>"webm"!==e)};n.Rw.add($);let Q={extension:{type:n.nw.DetectionParser,priority:0},test:async()=>q("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(e=>"mp4"!==e&&"m4v"!==e)};n.Rw.add(Q);let J={extension:{type:n.nw.DetectionParser,priority:0},test:async()=>q("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(e=>"ogv"!==e)};n.Rw.add(J);let ee={extension:n.nw.ResolveParser,test:k.test,parse:e=>{var t,r;return{resolution:parseFloat(null!==(r=null===(t=n.Xd.RETINA_PREFIX.exec(e))||void 0===t?void 0:t[1])&&void 0!==r?r:"1"),format:n.P6.path.extname(e).slice(1),src:e}}};n.Rw.add(ee);let et=(e,t)=>{let r=t.split("?")[1];return r&&(e+="?".concat(r)),e}},9016:function(e,t,r){r.d(t,{I:function(){return M}});var i={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},s=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},o=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},a=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},l=function(e){return{r:o(e.r,0,255),g:o(e.g,0,255),b:o(e.b,0,255),a:o(e.a)}},h=function(e){return{r:s(e.r),g:s(e.g),b:s(e.b),a:s(e.a,3)}},u=/^#([0-9a-f]{3,8})$/i,c=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},d=function(e){var t=e.r,r=e.g,i=e.b,n=e.a,s=Math.max(t,r,i),o=s-Math.min(t,r,i),a=o?s===t?(r-i)/o:s===r?2+(i-t)/o:4+(t-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},p=function(e){var t=e.h,r=e.s,i=e.v,n=e.a;t=t/360*6,r/=100,i/=100;var s=Math.floor(t),o=i*(1-r),a=i*(1-(t-s)*r),l=i*(1-(1-t+s)*r),h=s%6;return{r:255*[i,a,o,o,l,i][h],g:255*[l,i,i,a,o,o][h],b:255*[o,o,l,i,i,a][h],a:n}},f=function(e){return{h:a(e.h),s:o(e.s,0,100),l:o(e.l,0,100),a:o(e.a)}},m=function(e){return{h:s(e.h),s:s(e.s),l:s(e.l),a:s(e.a,3)}},g=function(e){var t,r;return p((t=e.s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}))},v=function(e){var t,r,i,n;return{h:(t=d(e)).h,s:(n=(200-(r=t.s))*(i=t.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a}},y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w={string:[[function(e){var t=u.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?s(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?s(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=x.exec(e)||b.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:l({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t,r,n=y.exec(e)||_.exec(e);return n?g(f({h:(t=n[1],void 0===(r=n[2])&&(r="deg"),Number(t)*(i[r]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)})):null},"hsl"]],object:[[function(e){var t=e.r,r=e.g,i=e.b,s=e.a;return n(t)&&n(r)&&n(i)?l({r:Number(t),g:Number(r),b:Number(i),a:Number(void 0===s?1:s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,i=e.l,s=e.a;return n(t)&&n(r)&&n(i)?g(f({h:Number(t),s:Number(r),l:Number(i),a:Number(void 0===s?1:s)})):null},"hsl"],[function(e){var t,r=e.h,i=e.s,s=e.v,l=e.a;return n(r)&&n(i)&&n(s)?p({h:a((t={h:Number(r),s:Number(i),v:Number(s),a:Number(void 0===l?1:l)}).h),s:o(t.s,0,100),v:o(t.v,0,100),a:o(t.a)}):null},"hsv"]]},E=function(e,t){for(var r=0;r<t.length;r++){var i=t[r][0](e);if(i)return[i,t[r][1]]}return[null,void 0]},T=function(e,t){var r=v(e);return{h:r.h,s:o(r.s+100*t,0,100),l:r.l,a:r.a}},A=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},S=function(e,t){var r=v(e);return{h:r.h,s:r.s,l:o(r.l+100*t,0,100),a:r.a}},R=function(){function e(e){this.parsed=("string"==typeof e?E(e.trim(),w.string):"object"==typeof e&&null!==e?E(e,w.object):[null,void 0])[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return s(A(this.rgba),2)},e.prototype.isDark=function(){return .5>A(this.rgba)},e.prototype.isLight=function(){return A(this.rgba)>=.5},e.prototype.toHex=function(){var e,t,r,i,n,o;return t=(e=h(this.rgba)).r,r=e.g,i=e.b,o=(n=e.a)<1?c(s(255*n)):"","#"+c(t)+c(r)+c(i)+o},e.prototype.toRgb=function(){return h(this.rgba)},e.prototype.toRgbString=function(){var e,t,r,i,n;return t=(e=h(this.rgba)).r,r=e.g,i=e.b,(n=e.a)<1?"rgba("+t+", "+r+", "+i+", "+n+")":"rgb("+t+", "+r+", "+i+")"},e.prototype.toHsl=function(){return m(v(this.rgba))},e.prototype.toHslString=function(){var e,t,r,i,n;return t=(e=m(v(this.rgba))).h,r=e.s,i=e.l,(n=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+n+")":"hsl("+t+", "+r+"%, "+i+"%)"},e.prototype.toHsv=function(){var e;return{h:s((e=d(this.rgba)).h),s:s(e.s),v:s(e.v),a:s(e.a,3)}},e.prototype.invert=function(){var e;return C({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a})},e.prototype.saturate=function(e){return void 0===e&&(e=.1),C(T(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),C(T(this.rgba,-e))},e.prototype.grayscale=function(){return C(T(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),C(S(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),C(S(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){var t;return"number"==typeof e?C({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):s(this.rgba.a,3)},e.prototype.hue=function(e){var t=v(this.rgba);return"number"==typeof e?C({h:e,s:t.s,l:t.l,a:t.a}):s(t.h)},e.prototype.isEqual=function(e){return this.toHex()===C(e).toHex()},e}(),C=function(e){return e instanceof R?e:new R(e)},I=[];!function(e){e.forEach(function(e){0>I.indexOf(e)&&(e(R,w),I.push(e))})}([function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,o=i[this.toHex()];if(o)return o;if(null==t?void 0:t.closest){var a=this.toRgb(),l=1/0,h="black";if(!s.length)for(var u in r)s[u]=new e(r[u]).toRgb();for(var c in r){var d=(n=s[c],Math.pow(a.r-n.r,2)+Math.pow(a.g-n.g,2)+Math.pow(a.b-n.b,2));d<l&&(l=d,h=c)}return h}},t.string.push([function(t){var i=t.toLowerCase(),n="transparent"===i?"#0000":r[i];return n?new e(n).toRgb():null},"name"])}]);let P=class e{get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){let r=typeof e;if(r!==typeof t)return!1;if("number"===r||"string"===r||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((e,r)=>e===t[r]);if(null!==e&&null!==t){let r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every(r=>e[r]===t[r])}return e===t}toRgba(){let[e,t,r,i]=this._components;return{r:e,g:t,b:r,a:i}}toRgb(){let[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){let[e,t,r]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(t,",").concat(r,",").concat(this.alpha,")")}toUint8RgbArray(e){let[t,r,i]=this._components;return(e=null!=e?e:[])[0]=Math.round(255*t),e[1]=Math.round(255*r),e[2]=Math.round(255*i),e}toRgbArray(e){e=null!=e?e:[];let[t,r,i]=this._components;return e[0]=t,e[1]=r,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){let e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){let[r,i,n,s]=e.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(1===e)return -16777216+this._int;if(0===e)return t?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,n=255&this._int;return t&&(r=r*e+.5|0,i=i*e+.5|0,n=n*e+.5|0),(255*e<<24)+(r<<16)+(i<<8)+n}toHex(){let e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){let e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){let[t,r,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=null!=e?e:[];let[t,r,i,n]=this._components;return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}normalize(t){let r,i,n,s;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215){let e=t;r=(e>>16&255)/255,i=(e>>8&255)/255,n=(255&e)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,i,n,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,i,n,s=255]=t,r/=255,i/=255,n/=255,s/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){let r=e.HEX_PATTERN.exec(t);r&&(t="#".concat(r[2]))}let o=C(t);o.isValid()&&({r,g:i,b:n,a:s}=o.rgba,r/=255,i/=255,n/=255)}if(void 0!==r)this._components[0]=r,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt();else throw Error("Unable to convert color ".concat(t))}refreshInt(){this._clamp(this._components);let[e,t,r]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*r|0)}_clamp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof e?Math.min(Math.max(e,t),r):(e.forEach((i,n)=>{e[n]=Math.min(Math.max(i,t),r)}),e)}constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}};P.shared=new P,P.temp=new P,P.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let M=P},3527:function(e,t,r){r.d(t,{A7:function(){return U},G5:function(){return G},I2:function(){return C},N3:function(){return T},Nt:function(){return O},T$:function(){return S},UN:function(){return B},V0:function(){return A},Vi:function(){return E},WB:function(){return L},aH:function(){return D},cB:function(){return F},iw:function(){return k},lg:function(){return R},mr:function(){return W},oT:function(){return M},sp:function(){return I},vK:function(){return P},yl:function(){return N}});var i,n,s,o,a,l,h,u,c,d,p,f,m,g,v,y,_,x,b,w,E=((i=E||{})[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i),T=((n=T||{})[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n),A=((s=A||{})[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s),S=((o=S||{})[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR",o),R=((a=R||{})[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",a),C=((l=C||{})[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.RG=33319]="RG",l[l.RED=6403]="RED",l[l.RGBA_INTEGER=36249]="RGBA_INTEGER",l[l.RGB_INTEGER=36248]="RGB_INTEGER",l[l.RG_INTEGER=33320]="RG_INTEGER",l[l.RED_INTEGER=36244]="RED_INTEGER",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL",l),I=((h=I||{})[h.TEXTURE_2D=3553]="TEXTURE_2D",h[h.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",h[h.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",h[h.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",h[h.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",h[h.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",h[h.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",h[h.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",h[h.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",h),P=((u=P||{})[u.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",u[u.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",u[u.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",u[u.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",u[u.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",u[u.UNSIGNED_INT=5125]="UNSIGNED_INT",u[u.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",u[u.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",u[u.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",u[u.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",u[u.BYTE=5120]="BYTE",u[u.SHORT=5122]="SHORT",u[u.INT=5124]="INT",u[u.FLOAT=5126]="FLOAT",u[u.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",u[u.HALF_FLOAT=36193]="HALF_FLOAT",u),M=((c=M||{})[c.FLOAT=0]="FLOAT",c[c.INT=1]="INT",c[c.UINT=2]="UINT",c),D=((d=D||{})[d.NEAREST=0]="NEAREST",d[d.LINEAR=1]="LINEAR",d),O=((p=O||{})[p.CLAMP=33071]="CLAMP",p[p.REPEAT=10497]="REPEAT",p[p.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",p),L=((f=L||{})[f.OFF=0]="OFF",f[f.POW2=1]="POW2",f[f.ON=2]="ON",f[f.ON_MANUAL=3]="ON_MANUAL",f),k=((m=k||{})[m.NPM=0]="NPM",m[m.UNPACK=1]="UNPACK",m[m.PMA=2]="PMA",m[m.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",m[m.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",m[m.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",m),N=((g=N||{})[g.NO=0]="NO",g[g.YES=1]="YES",g[g.AUTO=2]="AUTO",g[g.BLEND=0]="BLEND",g[g.CLEAR=1]="CLEAR",g[g.BLIT=2]="BLIT",g),B=((v=B||{})[v.AUTO=0]="AUTO",v[v.MANUAL=1]="MANUAL",v),F=((y=F||{}).LOW="lowp",y.MEDIUM="mediump",y.HIGH="highp",y),U=((_=U||{})[_.NONE=0]="NONE",_[_.SCISSOR=1]="SCISSOR",_[_.STENCIL=2]="STENCIL",_[_.SPRITE=3]="SPRITE",_[_.COLOR=4]="COLOR",_),H=((x=H||{})[x.RED=1]="RED",x[x.GREEN=2]="GREEN",x[x.BLUE=4]="BLUE",x[x.ALPHA=8]="ALPHA",x),G=((b=G||{})[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH",b),W=((w=W||{})[w.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",w[w.ARRAY_BUFFER=34962]="ARRAY_BUFFER",w[w.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",w)},3072:function(e,t,r){let i,n;r.d(t,{iw:function(){return s.iw},T$:function(){return s.T$},VL:function(){return _},a$:function(){return x},JZ:function(){return I},Ie:function(){return K},lW:function(){return w},qm:function(){return g},yl:function(){return s.yl},Cd:function(){return P.Cd},Il:function(){return l.I},ZX:function(){return P.ZX},lg:function(){return s.lg},Pj:function(){return P.Pj},nw:function(){return h.n},I2:function(){return s.I2},wn:function(){return J},wG:function(){return C},A7:function(){return s.A7},KI:function(){return s.WB},y3:function(){return P.y3},bO:function(){return q},AB:function(){return P.AB},_b:function(){return P._b},E9:function(){return P.E9},mg:function(){return P.mg},$r:function(){return X},ud:function(){return em},jl:function(){return P.jl},Ae:function(){return P.Ae},TI:function(){return ed},c9:function(){return P.c9},aH:function(){return s.aH},HS:function(){return P.HS},pX:function(){return tf},ex:function(){return Y},ZM:function(){return c},vK:function(){return s.vK},xE:function(){return ec},UX:function(){return eS},vB:function(){return e7.vB},wx:function(){return P.wx},uF:function(){return e7.uF},oo:function(){return j},eH:function(){return tv},Rv:function(){return u},Nt:function(){return s.Nt},e6:function(){return te},Y9:function(){return tr},kP:function(){return tt},Rw:function(){return h.R},Xd:function(){return o.Xd},P6:function(){return a}});var s=r(3527),o=r(5052),a=r(1798),l=r(9016),h=r(3368);class u{get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw Error("".concat(e," isn't a valid view type"))}}constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}}class c{get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==s.T$.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){let e=new c;return e.depthTest=!1,e.blend=!0,e}constructor(){this.data=0,this.blendMode=s.T$.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}}c.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};let d=[];function p(e,t){if(!e)return null;let r="";if("string"==typeof e){let t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(r=t[1].toLowerCase())}for(let i=d.length-1;i>=0;--i){let n=d[i];if(n.test&&n.test(e,r))return new n(e,t)}throw Error("Unrecognized source type to auto-detect Resource")}class f{emit(e,t,r,i,n,s,o,a){if(arguments.length>8)throw Error("max arguments reached");let{name:l,items:h}=this;this._aliasCount++;for(let u=0,c=h.length;u<c;u++)h[u][l](e,t,r,i,n,s,o,a);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){let t=this.items.indexOf(e);return -1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}constructor(e){this.items=[],this._name=e,this._aliasCount=0}}Object.defineProperties(f.prototype,{dispatch:{value:f.prototype.emit},run:{value:f.prototype.emit}});class m{bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new f("setRealSize"),this.onUpdate=new f("update"),this.onError=new f("onError")}}class g extends m{upload(e,t,r){let i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===s.iw.UNPACK);let n=t.realWidth,o=t.realHeight;return r.width===n&&r.height===o?i.texSubImage2D(t.target,0,0,0,n,o,t.format,r.type,this.data):(r.width=n,r.height=o,i.texImage2D(t.target,0,r.internalFormat,n,o,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}constructor(e,t){var r;let{width:i,height:n}=t||{};if(!i||!n)throw Error("BufferResource width or height invalid");super(i,n),this.data=e,this.unpackAlignment=null!==(r=t.unpackAlignment)&&void 0!==r?r:4}}let v={scaleMode:s.aH.NEAREST,alphaMode:s.iw.NPM},y=class e extends a.EventEmitter{get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=(0,a.isPow2)(this.realWidth)&&(0,a.isPow2)(this.realHeight)}setResolution(e){let t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete a.BaseTextureCache[this.cacheId],delete a.TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Xd.STRICT_TEXTURE_CACHE,n="string"==typeof t,s=null;if(n)s=t;else{if(!t._pixiId){let e=(null==r?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId="".concat(e,"_").concat((0,a.uid)())}s=t._pixiId}let l=a.BaseTextureCache[s];if(n&&i&&!l)throw Error('The cacheId "'.concat(s,'" does not exist in BaseTextureCache.'));return l||((l=new e(t,r)).cacheId=s,e.addToCache(l,s)),l}static fromBuffer(t,r,i,n){let o,a;let l=new g(t=t||new Float32Array(r*i*4),{width:r,height:i,...null==n?void 0:n.resourceOptions});return t instanceof Float32Array?(o=s.I2.RGBA,a=s.vK.FLOAT):t instanceof Int32Array?(o=s.I2.RGBA_INTEGER,a=s.vK.INT):t instanceof Uint32Array?(o=s.I2.RGBA_INTEGER,a=s.vK.UNSIGNED_INT):t instanceof Int16Array?(o=s.I2.RGBA_INTEGER,a=s.vK.SHORT):t instanceof Uint16Array?(o=s.I2.RGBA_INTEGER,a=s.vK.UNSIGNED_SHORT):t instanceof Int8Array?(o=s.I2.RGBA,a=s.vK.BYTE):(o=s.I2.RGBA,a=s.vK.UNSIGNED_BYTE),l.internal=!0,new e(l,Object.assign({},v,{type:a,format:o},n))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),a.BaseTextureCache[t]&&a.BaseTextureCache[t]!==e&&console.warn("BaseTexture added to the cache with an id [".concat(t,"] that already had an entry")),a.BaseTextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){let t=a.BaseTextureCache[e];if(t){let r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete a.BaseTextureCache[e],t}}else if(null==e?void 0:e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete a.BaseTextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}constructor(t=null,r=null){super();let{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:l,width:h,height:u,wrapMode:c,format:d,type:f,target:g,resolution:v,resourceOptions:y}=r=Object.assign({},e.defaultOptions,r);!t||t instanceof m||((t=p(t,y)).internal=!0),this.resolution=v||o.Xd.RESOLUTION,this.width=Math.round((h||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=l,this.format=d,this.type=f,this.target=g,this.alphaMode=i,this.uid=(0,a.uid)(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=h>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}};y.defaultOptions={mipmap:s.WB.POW2,anisotropicLevel:0,scaleMode:s.aH.LINEAR,wrapMode:s.Nt.CLAMP,alphaMode:s.iw.UNPACK,target:s.sp.TEXTURE_2D,format:s.I2.RGBA,type:s.vK.UNSIGNED_BYTE},y._globalBatch=0;let _=y;class x{constructor(){this.texArray=null,this.blend=0,this.type=s.lg.TRIANGLES,this.start=0,this.size=0,this.data=null}}let b=0;class w{update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?s.mr.ELEMENT_ARRAY_BUFFER:s.mr.ARRAY_BUFFER}get index(){return this.type===s.mr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new w(e)}constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=b++,this.disposeRunner=new f("disposeBuffer")}}class E{destroy(){this.buffer=null}static from(e,t,r,i,n){return new E(e,t,r,i,n)}constructor(e,t=0,r=!1,i=s.vK.FLOAT,n,o,a,l=1){this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=a,this.divisor=l}}let T={Float32Array,Uint32Array,Int32Array,Uint8Array},A={5126:4,5123:2,5121:1},S=0,R={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class C{addAttribute(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!t)throw Error("You must pass a buffer when creating an attribute");t instanceof w||(t instanceof Array&&(t=new Float32Array(t)),t=new w(t));let l=e.split("|");if(l.length>1){for(let e=0;e<l.length;e++)this.addAttribute(l[e],t,r,i,n);return this}let h=this.buffers.indexOf(t);return -1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new E(h,r,i,n,s,o,a),this.instanced=this.instanced||a,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof w||(e instanceof Array&&(e=new Uint16Array(e)),e=new w(e)),e.type=s.mr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){let e;if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;let t=[],r=[],i=new w;for(e in this.attributes){let i=this.attributes[e],n=this.buffers[i.buffer];t.push(n.data),r.push(i.size*A[i.type]/4),i.buffer=0}for(i.data=function(e,t){let r=0,i=0,n={};for(let n=0;n<e.length;n++)i+=t[n],r+=e[n].length;let s=new ArrayBuffer(4*r),o=null,l=0;for(let r=0;r<e.length;r++){let h=t[r],u=e[r],c=(0,a.getBufferType)(u);n[c]||(n[c]=new T[c](s)),o=n[c];for(let e=0;e<u.length;e++)o[(e/h|0)*i+l+e%h]=u[e];l+=h}return new Float32Array(s)}(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(let e in this.attributes){let t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){let e=new C;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new w(this.buffers[t].data.slice(0));for(let t in this.attributes){let r=this.attributes[t];e.attributes[t]=new E(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=s.mr.ELEMENT_ARRAY_BUFFER),e}static merge(e){let t;let r=new C,i=[],n=[],o=[];for(let r=0;r<e.length;r++){t=e[r];for(let e=0;e<t.buffers.length;e++)n[e]=n[e]||0,n[e]+=t.buffers[e].data.length,o[e]=0}for(let e=0;e<t.buffers.length;e++)i[e]=new R[(0,a.getBufferType)(t.buffers[e].data)](n[e]),r.buffers[e]=new w(i[e]);for(let r=0;r<e.length;r++){t=e[r];for(let e=0;e<t.buffers.length;e++)i[e].set(t.buffers[e].data,o[e]),o[e]+=t.buffers[e].data.length}if(r.attributes=t.attributes,t.indexBuffer){r.indexBuffer=r.buffers[t.buffers.indexOf(t.indexBuffer)],r.indexBuffer.type=s.mr.ELEMENT_ARRAY_BUFFER;let i=0,n=0,o=0,a=0;for(let e=0;e<t.buffers.length;e++)if(t.buffers[e]!==t.indexBuffer){a=e;break}for(let e in t.attributes){let r=t.attributes[e];(0|r.buffer)===a&&(n+=r.size*A[r.type]/4)}for(let t=0;t<e.length;t++){let s=e[t].indexBuffer.data;for(let e=0;e<s.length;e++)r.indexBuffer.data[e+o]+=i;i+=e[t].buffers[a].data.length/n,o+=s.length}}return r}constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=S++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new f("disposeGeometry"),this.refCount=0}}class I extends C{constructor(e=!1){super(),this._buffer=new w(null,e,!1),this._indexBuffer=new w(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,s.vK.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,s.vK.FLOAT).addAttribute("aColor",this._buffer,4,!0,s.vK.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,s.vK.FLOAT).addIndex(this._indexBuffer)}}var P=r(3604);let M=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>'\n            if(uv["'.concat(e,'"] !== ud["').concat(e,'"].value)\n            {\n                ud["').concat(e,'"].value = uv["').concat(e,'"]\n                gl.uniform1f(ud["').concat(e,'"].location, uv["').concat(e,'"])\n            }\n            ')},{test:(e,t)=>("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture),code:e=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(e,'"], t);\n\n            if(ud["').concat(e,'"].value !== t)\n            {\n                ud["').concat(e,'"].value = t;\n                gl.uniform1i(ud["').concat(e,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>'\n            gl.uniformMatrix3fv(ud["'.concat(e,'"].location, false, uv["').concat(e,'"].toArray(true));\n            '),codeUbo:e=>"\n                var ".concat(e,"_matrix = uv.").concat(e,".toArray(true);\n\n                data[offset] = ").concat(e,"_matrix[0];\n                data[offset+1] = ").concat(e,"_matrix[1];\n                data[offset+2] = ").concat(e,"_matrix[2];\n        \n                data[offset + 4] = ").concat(e,"_matrix[3];\n                data[offset + 5] = ").concat(e,"_matrix[4];\n                data[offset + 6] = ").concat(e,"_matrix[5];\n        \n                data[offset + 8] = ").concat(e,"_matrix[6];\n                data[offset + 9] = ").concat(e,"_matrix[7];\n                data[offset + 10] = ").concat(e,"_matrix[8];\n            ")},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(e,'"].location, v.x, v.y);\n                }'),codeUbo:e=>"\n                v = uv.".concat(e,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(e,'"].location, v[0], v[1]);\n                }\n            ')},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:e=>"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(e,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:e=>"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(e,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:e=>"\n                    v = uv.".concat(e,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>'\n                cv = ud["'.concat(e,'"].value;\n                v = uv["').concat(e,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(e,'"].location, v[0], v[1], v[2], v[3])\n                }')}],D={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},O={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},L={},k=L,N={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},B=null,F={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function U(e,t){if(!B){let t=Object.keys(F);B={};for(let r=0;r<t.length;++r){let i=t[r];B[e[i]]=F[i]}}return B[t]}function H(e,t,r){if("precision"!==e.substring(0,9)){let i=t;return t===s.cB.HIGH&&r!==s.cB.HIGH&&(i=s.cB.MEDIUM),"precision ".concat(i," float;\n").concat(e)}return r!==s.cB.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let G=0,W={},z=class e{static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(t,r,i){let n=t+r,s=a.ProgramCache[n];return s||(a.ProgramCache[n]=s=new e(t,r,i)),s}constructor(t,r,n="pixi-shader",a={}){this.extra={},this.id=G++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=a,"#version"!==this.vertexSrc.substring(0,8)&&(W[n=n.replace(/\s+/g,"-")]?(W[n]++,n+="-".concat(W[n])):W[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=H(this.vertexSrc,e.defaultVertexPrecision,s.cB.HIGH),this.fragmentSrc=H(this.fragmentSrc,e.defaultFragmentPrecision,function(){if(!i){i=s.cB.MEDIUM;let e=function(){if(k===L||(null==k?void 0:k.isContextLost())){let e;let t=o.Xd.ADAPTER.createCanvas();o.Xd.PREFER_ENV>=s.Vi.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),k=e}return k}();if(e&&e.getShaderPrecisionFormat){let t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(i=t.precision?s.cB.HIGH:s.cB.MEDIUM)}}return i}())),this.glPrograms={},this.syncUniforms=null}};z.defaultVertexPrecision=s.cB.HIGH,z.defaultFragmentPrecision=a.isMobile.apple.device?s.cB.HIGH:s.cB.MEDIUM;let X=z,V=0;class j{update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(this.ubo)throw Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new j(t,r)}static from(e,t,r){return new j(e,t,r)}static uboFrom(e,t){return new j(e,null==t||t,!0)}constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=V++,this.static=!!t,this.ubo=!!r,e instanceof w?(this.buffer=e,this.buffer.type=s.mr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new w(new Float32Array(1)),this.buffer.type=s.mr.UNIFORM_BUFFER,this.autoManage=!0))}}class Y{checkUniformExists(e,t){if(t.uniforms[e])return!0;for(let r in t.uniforms){let i=t.uniforms[r];if(!0===i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){return new Y(X.from(e,t),r)}constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof j?this.uniformGroup=t:this.uniformGroup=new j(t):this.uniformGroup=new j({}),this.disposeRunner=new f("disposeShader")}}class Z{generateShader(e){if(!this.programCache[e]){let t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=j.from({uSamplers:t},!0);let r=this.fragTemplate;r=(r=r.replace(/%count%/gi,"".concat(e))).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new X(this.vertexSrc,r)}let t={tint:new Float32Array([1,1,1,1]),translationMatrix:new P.y3,default:this.defaultGroupCache[e]};return new Y(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n\n";for(let r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < ".concat(r,".5)")),t+="\n{"+"\n	color = texture2D(uSamplers[".concat(r,"], vTextureCoord);")+"\n}";return t+"\n\n"}constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw Error('Fragment template must contain "%forloop%".')}}class K{clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}constructor(){this.elements=[],this.ids=[],this.count=0}}class q{flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}constructor(e){this.renderer=e}}let $=class e extends q{static get defaultMaxTextures(){var e;return this._defaultMaxTextures=null!==(e=this._defaultMaxTextures)&&void 0!==e?e:function(e){let t=!0,r=o.Xd.ADAPTER.getNavigator();if(o.tq.tablet||o.tq.phone){if(o.tq.apple.device){let e=r.userAgent.match(/OS (\d+)_(\d+)?/);e&&11>parseInt(e[1],10)&&(t=!1)}if(o.tq.android.device){let e=r.userAgent.match(/Android\s([0-9.]*)/);e&&7>parseInt(e[1],10)&&(t=!1)}}return t?32:4}(0),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=null!==(e=this._canUploadSameBuffer)&&void 0!==e?e:!o.tq.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return(0,a.deprecation)("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator(){let{vertex:t=e.defaultVertexSrc,fragment:r=e.defaultFragmentTemplate}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shaderGenerator=new Z(t,r)}contextChange(){let t=this.renderer.gl;o.Xd.PREFER_ENV===s.Vi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let r=t.createShader(t.FRAGMENT_SHADER);for(;;){let i="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}".replace(/%forloop%/gi,function(e){let t="";for(let r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == ".concat(r,".0){}"));return t}(e));if(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){let{_drawCallPool:t,_textureArrayPool:r}=e,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;t.length<i;)t.push(new x);for(;r.length<n;)r.push(new K);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){let{_bufferedTextures:t,maxTextures:r}=this,i=e._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++_._globalBatch,l=0,h=i[0],u=0;n.copyBoundTextures(s,r);for(let e=0;e<this._bufferSize;++e){let c=t[e];t[e]=null,c._batchEnabled!==a&&(h.count>=r&&(n.boundArray(h,s,a,r),this.buildDrawCalls(h,u,e),u=e,h=i[++l],++a),c._batchEnabled=a,c.touched=o,h.elements[h.count++]=c)}h.count>0&&(n.boundArray(h,s,a,r),this.buildDrawCalls(h,u,this._bufferSize),++l,++a);for(let e=0;e<s.length;e++)s[e]=null;_._globalBatch=a}buildDrawCalls(t,r,i){let{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:o,vertexSize:l}=this,h=e._drawCallPool,u=this._dcIndex,c=this._aIndex,d=this._iIndex,p=h[u];p.start=this._iIndex,p.texArray=t;for(let e=r;e<i;++e){let i=n[e],f=i._texture.baseTexture,m=a.premultiplyBlendMode[f.alphaMode?1:0][i.blendMode];n[e]=null,r<e&&p.blend!==m&&(p.size=d-p.start,r=e,(p=h[++u]).texArray=t,p.start=d),this.packInterleavedGeometry(i,s,o,c,d),c+=i.vertexData.length/2*l,d+=i.indices.length,p.blend=m}r<i&&(p.size=d-p.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){let t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){let{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:i}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){let t=this._dcIndex,{gl:r,state:i}=this.renderer,n=e._drawCallPool,s=null;for(let e=0;e<t;e++){let{texArray:t,type:o,size:a,start:l,blend:h}=n[e];s!==t&&(s=t,this.bindAndClearTexArray(t)),this.state.blendMode=h,i.set(this.state),r.drawElements(o,a,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){let t=(0,a.nextPow2)(Math.ceil(e/8)),r=(0,a.log2)(t),i=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new u(i*this.vertexSize*4)),n}getIndexBuffer(e){let t=(0,a.nextPow2)(Math.ceil(e/12)),r=(0,a.log2)(t);this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(12*t)),i}packInterleavedGeometry(e,t,r,i,n){let{uint32View:s,float32View:o}=t,a=i/this.vertexSize,h=e.uvs,u=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),f=l.I.shared.setValue(e._tintRGB).toPremultiplied(p,e._texture.baseTexture.alphaMode>0);for(let e=0;e<c.length;e+=2)o[i++]=c[e],o[i++]=c[e+1],o[i++]=h[e],o[i++]=h[e+1],s[i++]=f,o[i++]=d;for(let e=0;e<u.length;e++)r[n++]=a+u[e]}constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=I,this.vertexSize=6,this.state=c.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}};$.defaultBatchSize=4096,$.extension={name:"batch",type:h.n.RendererPlugin},$._drawCallPool=[],$._textureArrayPool=[],h.R.add($);let Q=class e extends Y{apply(e,t,r,i,n){e.applyFilter(this,t,r,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}constructor(t,r,i){super(X.from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc),i),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new c}};Q.defaultResolution=1,Q.defaultMultisample=s.G5.NONE;let J=Q;class ee{init(e){this.clearBeforeRender=e.clearBeforeRender;let{backgroundColor:t,background:r,backgroundAlpha:i}=e,n=null!=r?r:t;void 0!==n&&(this.color=n),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}constructor(){this.clearBeforeRender=!0,this._backgroundColor=new l.I(0),this.alpha=1}}ee.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},ee.extension={type:[h.n.RendererSystem,h.n.CanvasRendererSystem],name:"background"},h.R.add(ee);class et{setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){let{boundTextures:r}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,r,i){let{elements:n,ids:s,count:o}=e,a=0;for(let e=0;e<o;e++){let o=n[e],l=o._batchLocation;if(l>=0&&l<i&&t[l]===o){s[e]=l;continue}for(;a<i;){let i=t[a];if(i&&i._batchEnabled===r&&i._batchLocation===a){a++;continue}s[e]=a,o._batchLocation=a,t[a]=o;break}}}destroy(){this.renderer=null}constructor(e){this.renderer=e,this.emptyRenderer=new q(e),this.currentRenderer=this.emptyRenderer}}et.extension={type:h.n.RendererSystem,name:"batch"},h.R.add(et);let er=0;class ei{get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=er++}init(e){if(e.context)this.initFromContext(e.context);else{let t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=er++,this.renderer.runners.contextChange.emit(e);let t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){let t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(o.Xd.PREFER_ENV>=s.Vi.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){let{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){let e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){let t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}}ei.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},ei.extension={type:h.n.RendererSystem,name:"context"},h.R.add(ei);class en{get colorTexture(){return this.colorTextures[0]}addColorTexture(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.colorTextures[e]=t||new _(null,{scaleMode:s.aH.NEAREST,resolution:1,mipmap:s.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new _(null,{scaleMode:s.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:s.WB.OFF,format:s.I2.DEPTH_COMPONENT,type:s.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){let i=this.colorTextures[r],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){let r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new f("disposeFramebuffer"),this.multisample=s.G5.NONE}}class es extends _{set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}constructor(e={}){var t,r,i;if("number"==typeof e){let t=arguments[0],r=arguments[1],i=arguments[2],n=arguments[3];e={width:t,height:r,scaleMode:i,resolution:n}}e.width=null!==(t=e.width)&&void 0!==t?t:100,e.height=null!==(r=e.height)&&void 0!==r?r:100,null!==(i=e.multisample)&&void 0!==i||(e.multisample=s.G5.NONE),super(null,e),this.mipmap=s.WB.OFF,this.valid=!0,this._clear=new l.I([0,0,0,0]),this.framebuffer=new en(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}}class eo extends m{static crossOrigin(e,t,r){void 0!==r||t.startsWith("data:")?!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous"):e.crossOrigin=(0,a.determineCrossOrigin)(t)}upload(e,t,r,i){let n=e.gl,o=t.realWidth,a=t.realHeight;if(i=i||this.source,"u">typeof HTMLImageElement&&i instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if("u">typeof HTMLVideoElement&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===s.iw.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||r.width!==o||r.height!==a?(r.width=o,r.height=a,n.texImage2D(t.target,0,r.internalFormat,t.format,r.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,r.type,i),!0}update(){if(this.destroyed)return;let e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}constructor(e){super(e.naturalWidth||e.videoWidth||e.displayWidth||e.width,e.naturalHeight||e.videoHeight||e.displayHeight||e.height),this.source=e,this.noSubImage=!1}}class ea extends eo{load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((e,t)=>{let r=this.source;this.url=r.src;let i=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};r.complete&&r.src?i():(r.onload=i,r.onerror=e=>{t(e),this.onError.emit(e)})})),this._load}process(){let e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);let t=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(e=>e.blob()).then(r=>t(r,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===s.iw.UNPACK?"premultiply":"none"})).then(e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let e=!0,i=t._glTextures;for(let n in i){let s=i[n];if(s!==r&&s.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return"u">typeof HTMLImageElement&&("string"==typeof e||e instanceof HTMLImageElement)}constructor(e,t){var r;if(t=t||{},"string"==typeof e){let r=new Image;eo.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(null!==(r=t.createBitmap)&&void 0!==r?r:o.Xd.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}}class el{set(e,t,r){let i=t.width,n=t.height;if(r){let t=e.width/2/i,s=e.height/2/n,o=e.x/i+t,a=e.y/n+s;r=P.Lv.add(r,P.Lv.NW),this.x0=o+t*P.Lv.uX(r),this.y0=a+s*P.Lv.uY(r),r=P.Lv.add(r,2),this.x1=o+t*P.Lv.uX(r),this.y1=a+s*P.Lv.uY(r),r=P.Lv.add(r,2),this.x2=o+t*P.Lv.uX(r),this.y2=a+s*P.Lv.uY(r),r=P.Lv.add(r,2),this.x3=o+t*P.Lv.uX(r),this.y3=a+s*P.Lv.uY(r)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}}el.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};let eh=new el;function eu(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class ec extends a.EventEmitter{update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){let{resource:e}=this.baseTexture;(null==e?void 0:e.url)&&a.TextureCache[e.url]&&ec.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ec.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var e;let t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new ec(this.baseTexture,!this.noFrame&&t,r,null===(e=this.trim)||void 0===e?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}updateUvs(){this._uvs===eh&&(this._uvs=new el),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Xd.STRICT_TEXTURE_CACHE,i="string"==typeof e,n=null;if(i)n=e;else if(e instanceof _){if(!e.cacheId){let r=(null==t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId="".concat(r,"-").concat((0,a.uid)()),_.addToCache(e,e.cacheId)}n=e.cacheId}else{if(!e._pixiId){let r=(null==t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId="".concat(r,"_").concat((0,a.uid)())}n=e._pixiId}let s=a.TextureCache[n];if(i&&r&&!s)throw Error('The cacheId "'.concat(n,'" does not exist in TextureCache.'));return s||e instanceof _?!s&&e instanceof _&&(s=new ec(e),ec.addToCache(s,n)):(t.resolution||(t.resolution=(0,a.getResolutionOfUrl)(e)),(s=new ec(new _(e,t))).baseTexture.cacheId=n,_.addToCache(s.baseTexture,n),ec.addToCache(s,n)),s}static fromURL(e,t){let r=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),i=ec.from(e,Object.assign({resourceOptions:r},t),!1),n=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):n.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,r,i){return new ec(_.fromBuffer(e,t,r,i))}static fromLoader(e,t,r,i){let n=new _(e,Object.assign({scaleMode:_.defaultOptions.scaleMode,resolution:(0,a.getResolutionOfUrl)(t)},i)),{resource:s}=n;s instanceof ea&&(s.url=t);let o=new ec(n);return r||(r=t),_.addToCache(o.baseTexture,r),ec.addToCache(o,r),r!==t&&(_.addToCache(o.baseTexture,t),ec.addToCache(o,t)),o.baseTexture.valid?Promise.resolve(o):new Promise(e=>{o.baseTexture.once("loaded",()=>e(o))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),a.TextureCache[t]&&a.TextureCache[t]!==e&&console.warn("Texture added to the cache with an id [".concat(t,"] that already had an entry")),a.TextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){let t=a.TextureCache[e];if(t){let r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete a.TextureCache[e],t}}else if(null==e?void 0:e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)a.TextureCache[e.textureCacheIds[t]]===e&&delete a.TextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;let{x:t,y:r,width:i,height:n}=e,s=t+i>this.baseTexture.width,o=r+n>this.baseTexture.height;if(s||o){let e="X: ".concat(t," + ").concat(i," = ").concat(t+i," > ").concat(this.baseTexture.width),a="Y: ".concat(r," + ").concat(n," = ").concat(r+n," > ").concat(this.baseTexture.height);throw Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(e," ").concat(s&&o?"and":"or"," ").concat(a))}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ec._EMPTY||(ec._EMPTY=new ec(new _),eu(ec._EMPTY),eu(ec._EMPTY.baseTexture)),ec._EMPTY}static get WHITE(){if(!ec._WHITE){let e=o.Xd.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ec._WHITE=new ec(_.from(e)),eu(ec._WHITE),eu(ec._WHITE.baseTexture)}return ec._WHITE}constructor(e,t,r,i,n,s,o){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new P.Ae(0,0,1,1)),e instanceof ec&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=eh,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(n||0),!0===n)this._rotate=2;else if(this._rotate%2!=0)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new P.E9(s.x,s.y):new P.E9(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}}class ed extends ec{get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=this.baseTexture.resolution,n=Math.round(e*i)/i,s=Math.round(t*i)/i;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(n,s),this.updateUvs()}setResolution(e){let{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new ed(new es(e))}constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}}class ep{createTexture(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.G5.NONE;return new ed(new es(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions)))}getOptimalTexture(e,t){let r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.G5.NONE;e=Math.max(Math.ceil(e*i-1e-6),1),t=Math.max(Math.ceil(t*i-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?r=n>1?-n:-1:(e=(0,a.nextPow2)(e),t=(0,a.nextPow2)(t),r=((65535&e)<<16|65535&t)>>>0,n>1&&(r+=4294967296*n)),this.texturePool[r]||(this.texturePool[r]=[]);let o=this.texturePool[r].pop();return o||(o=this.createTexture(e,t,n)),o.filterPoolKey=r,o.setResolution(i),o}getFilterTexture(e,t,r){let i=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||s.G5.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){let t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(let e in this.texturePool){let t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){for(let t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool){if(!(0>Number(t)))continue;let e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}}ep.SCREEN_KEY=-1;class ef extends C{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class em extends C{map(e,t){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new w(this.vertices),this.uvBuffer=new w(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}}class eg{clear(){this.target=null,this.filters=null,this.renderTexture=null}constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=s.G5.NONE,this.sourceFrame=new P.Ae,this.destinationFrame=new P.Ae,this.bindingSourceFrame=new P.Ae,this.bindingDestinationFrame=new P.Ae,this.filters=[],this.transform=null}}let ev=[new P.E9,new P.E9,new P.E9,new P.E9],ey=new P.y3;class e_{init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){var r,i,n,s;let o,a;let l=this.renderer,h=this.defaultFilterStack,u=this.statePool.pop()||new eg,c=l.renderTexture;if(c.current){let e=c.current;o=e.resolution,a=e.multisample}else o=l.resolution,a=l.multisample;let d=t[0].resolution||o,p=null!==(r=t[0].multisample)&&void 0!==r?r:a,f=t[0].padding,m=t[0].autoFit,g=null===(i=t[0].legacy)||void 0===i||i;for(let e=1;e<t.length;e++){let r=t[e];d=Math.min(d,r.resolution||o),p=Math.min(p,null!==(n=r.multisample)&&void 0!==n?n:a),f=this.useMaxPadding?Math.max(f,r.padding):f+r.padding,m=m&&r.autoFit,g=g||null===(s=r.legacy)||void 0===s||s}1===h.length&&(this.defaultFilterStack[0].renderTexture=c.current),h.push(u),u.resolution=d,u.multisample=p,u.legacy=g,u.target=e,u.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),u.sourceFrame.pad(f);let v=this.tempRect.copyFrom(c.sourceFrame);l.projection.transform&&this.transformAABB(ey.copyFrom(l.projection.transform).invert(),v),m?(u.sourceFrame.fit(v),(u.sourceFrame.width<=0||u.sourceFrame.height<=0)&&(u.sourceFrame.width=0,u.sourceFrame.height=0)):u.sourceFrame.intersects(v)||(u.sourceFrame.width=0,u.sourceFrame.height=0),this.roundFrame(u.sourceFrame,c.current?c.current.resolution:l.resolution,c.sourceFrame,c.destinationFrame,l.projection.transform),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,d,p),u.filters=t,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height;let y=this.tempRect;y.x=0,y.y=0,y.width=u.sourceFrame.width,y.height=u.sourceFrame.height,u.renderTexture.filterFrame=u.sourceFrame,u.bindingSourceFrame.copyFrom(c.sourceFrame),u.bindingDestinationFrame.copyFrom(c.destinationFrame),u.transform=l.projection.transform,l.projection.transform=null,c.bind(u.renderTexture,u.sourceFrame,y),l.framebuffer.clear(0,0,0,0)}pop(){let e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;let i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;let n=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=Math.round(n[0]*t.resolution),o[1]=Math.round(n[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*n[2]-.5*o[2],a[3]=t.sourceFrame.height*n[3]-.5*o[3],t.legacy){let e=i.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();let l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,l.renderTexture,s.yl.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,i=this.getOptimalFilterTexture(e.width,e.height,t.resolution);i.filterFrame=e.filterFrame;let n=0;for(n=0;n<r.length-1;++n){1===n&&t.multisample>1&&((i=this.getOptimalFilterTexture(e.width,e.height,t.resolution)).filterFrame=e.filterFrame),r[n].apply(this,e,i,s.yl.CLEAR,t);let o=e;e=i,i=o}r[n].apply(this,e,l.renderTexture,s.yl.BLEND,t),n>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(i)}t.clear(),this.statePool.push(t)}bindAndClear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.yl.CLEAR,{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null==e?void 0:e.filterFrame){let t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,r.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);let n=1&i.stateId||this.forceClear;(t===s.yl.CLEAR||t===s.yl.BLIT&&n)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,i){let n=this.renderer;n.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(s.lg.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(s.lg.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){let{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:n}=t._texture,s=e.set(i.width,0,0,i.height,r.x,r.y),o=t.worldTransform.copyTo(P.y3.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/n.width,1/n.height),s.translate(t.anchor.x,t.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.G5.NONE;return this.texturePool.getOptimalTexture(e,t,r,i)}getFilterTexture(e,t,r){if("number"==typeof e){let r=e;e=t,t=r}e=e||this.activeState.renderTexture;let i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||s.G5.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){let r=ev[0],i=ev[1],n=ev[2],s=ev[3];r.set(t.left,t.top),i.set(t.left,t.bottom),n.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(r,r),e.apply(i,i),e.apply(n,n),e.apply(s,s);let o=Math.min(r.x,i.x,n.x,s.x),a=Math.min(r.y,i.y,n.y,s.y),l=Math.max(r.x,i.x,n.x,s.x),h=Math.max(r.y,i.y,n.y,s.y);t.x=o,t.y=a,t.width=l-o,t.height=h-a}roundFrame(e,t,r,i,n){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(n){let{a:e,b:t,c:r,d:i}=n;if((Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4))return}(n=n?ey.copyFrom(n):ey.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}}constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ep,this.statePool=[],this.quad=new ef,this.quadUv=new em,this.tempRect=new P.Ae,this.activeState={},this.globalUniforms=new j({outputFrame:new P.Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}}e_.extension={type:h.n.RendererSystem,name:"filter"},h.R.add(e_);class ex{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=s.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}let eb=new P.Ae;class ew{contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new P.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;o.Xd.PREFER_ENV===s.Vi.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,{gl:i}=this;if(e){let n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=r),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){let r=e.colorTextures[t];this.renderer.texture.unbind(r.parentTextureArray||r)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){let e=t.width>>r,i=t.height>>r,n=e/t.width;this.setViewport(t.x*n,t.y*n,e,i)}else{let t=e.width>>r,i=e.height>>r;this.setViewport(0,0,t,i)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,i){let n=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),(n.width!==r||n.height!==i||n.x!==e||n.y!==t)&&(n.x=e,n.y=t,n.width=r,n.height=i,this.gl.viewport(e,t,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.V0.COLOR|s.V0.DEPTH,{gl:o}=this;o.clearColor(e,t,r,i),o.clear(n)}initFramebuffer(e){let{gl:t}=this,r=new ex(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){let{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){let i;t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),i=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,i,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,i,e.width,e.height)}let i=e.colorTextures,n=i.length;t.drawBuffers||(n=Math.min(n,1));for(let s=0;s<n;s++){let n=i[s],o=n.parentTextureArray||n;this.renderer.texture.bind(o,0),0===s&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){let{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures,s=n.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));let o=[];for(let a=0;a<s;a++){let s=n[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0),0===a&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,s.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(r.COLOR_ATTACHMENT0+a))}if(o.length>1&&r.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){let i=e.depthTexture;this.renderer.texture.bind(i,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,i._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){let t,n;i.stencil=i.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=r.DEPTH_STENCIL_ATTACHMENT,n=r.DEPTH_STENCIL):e.depth&&e.stencil?(t=r.DEPTH_STENCIL_ATTACHMENT,n=r.DEPTH24_STENCIL8):e.depth?(t=r.DEPTH_ATTACHMENT,n=r.DEPTH_COMPONENT24):(t=r.STENCIL_ATTACHMENT,n=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,n,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,n,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,i.stencil)}else i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){let{msaaSamples:t}=this,r=s.G5.NONE;if(e<=1||null===t)return r;for(let i=0;i<t.length;i++)if(t[i]<=e){r=t[i];break}return 1===r&&(r=s.G5.NONE),r}blit(e,t,r){let{current:i,renderer:n,gl:s,CONTEXT_UID:o}=this;if(2!==n.context.webGLVersion||!i)return;let a=i.glFramebuffers[o];if(!a)return;if(!e){if(!a.msaaBuffer)return;let t=i.colorTextures[0];if(!t)return;a.blitFramebuffer||(a.blitFramebuffer=new en(i.width,i.height),a.blitFramebuffer.addColorTexture(0,t)),(e=a.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||((t=eb).width=i.width,t.height=i.height),r||(r=t);let l=t.width===r.width&&t.height===r.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,a.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){let r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];let n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){let t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){let e,t;let r=this.current;if(!r)return;let i=r.glFramebuffers[this.CONTEXT_UID];if(!i||i.stencil&&r.stencil)return;r.stencil=!0;let n=r.width,s=r.height,o=this.gl,a=i.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),1===this.renderer.context.webGLVersion?(e=o.DEPTH_STENCIL_ATTACHMENT,t=o.DEPTH_STENCIL):r.depth?(e=o.DEPTH_STENCIL_ATTACHMENT,t=o.DEPTH24_STENCIL8):(e=o.STENCIL_ATTACHMENT,t=o.STENCIL_INDEX8),i.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,i.multisample,t,n,s):o.renderbufferStorage(o.RENDERBUFFER,t,n,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,e,o.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new P.Ae}destroy(){this.renderer=null}constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new en(10,10),this.msaaSamples=null}}ew.extension={type:h.n.RendererSystem,name:"framebuffer"},h.R.add(ew);let eE={5126:4,5123:2,5121:1};class eT{contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;o.Xd.PREFER_ENV===s.Vi.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){let t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,r)=>t.vertexAttribDivisorANGLE(e,r),e.drawElementsInstanced=(e,r,i,n,s)=>t.drawElementsInstancedANGLE(e,r,i,n,s),e.drawArraysInstanced=(e,r,i,n)=>t.drawArraysInstancedANGLE(e,r,i,n)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;let{gl:r}=this,i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);let s=i[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){let e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){let i=e.buffers[r];t.update(i)}}checkCompatibility(e,t){let r=e.attributes,i=t.attributeData;for(let e in i)if(!r[e])throw Error('shader and geometry incompatible, geometry missing the "'.concat(e,'" attribute'))}getSignature(e,t){let r=e.attributes,i=t.attributeData,n=["g",e.id];for(let e in r)i[e]&&n.push(e,i[e].location);return n.join("-")}initGeometryVao(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=this.gl,n=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program;a.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);let l=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID],u=h[l];if(u)return h[a.id]=u,u;let c=e.buffers,d=e.attributes,p={},f={};for(let e in c)p[e]=0,f[e]=0;for(let e in d)!d[e].size&&a.attributeData[e]?d[e].size=a.attributeData[e].size:d[e].size||console.warn("PIXI Geometry attribute '".concat(e,"' size cannot be determined (likely the bound shader does not have the attribute)")),p[d[e].buffer]+=d[e].size*eE[d[e].type];for(let e in d){let t=d[e],r=t.size;void 0===t.stride&&(p[t.buffer]===r*eE[t.type]?t.stride=0:t.stride=p[t.buffer]),void 0===t.start&&(t.start=f[t.buffer],f[t.buffer]+=r*eE[t.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(let e=0;e<c.length;e++){let t=c[e];o.bind(t),r&&t._glBuffers[n].refCount++}return this.activateVao(e,a),h[a.id]=u,h[l]=u,i.bindVertexArray(null),o.unbind(s.mr.ARRAY_BUFFER),u}disposeGeometry(e,t){var r;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];let i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(e.disposeRunner.remove(this),i){if(o)for(let e=0;e<s.length;e++){let r=s[e]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0!==r.refCount||t||o.dispose(s[e],t))}if(!t){for(let e in i)if("g"===e[0]){let t=i[e];this._activeVao===t&&this.unbind(),n.deleteVertexArray(t)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){let t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){let r=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,s=e.buffers,o=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);let a=null;for(let e in o){let l=o[e],h=s[l.buffer],u=h._glBuffers[i];if(t.attributeData[e]){a!==u&&(n.bind(h),a=u);let i=t.attributeData[e].location;if(r.enableVertexAttribArray(i),r.vertexAttribPointer(i,l.size,l.type||r.FLOAT,l.normalized,l.stride,l.start),l.instance){if(this.hasInstance)r.vertexAttribDivisor(i,l.divisor);else throw Error("geometry error, GPU Instancing is not supported on this device")}}}}draw(e,t,r,i){let{gl:n}=this,s=this._activeGeometry;if(s.indexBuffer){let o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(e,t||s.indexBuffer.data.length,a,(r||0)*o,i||1):n.drawElements(e,t||s.indexBuffer.data.length,a,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(e,r,t||s.getSize(),i||1):n.drawArrays(e,r,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}}eT.extension={type:h.n.RendererSystem,name:"geometry"},h.R.add(eT);let eA=new P.y3;class eS{get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);let r=this.mapCoord;for(let i=0;i<e.length;i+=2){let n=e[i],s=e[i+1];t[i]=n*r.a+s*r.c+r.tx,t[i+1]=n*r.b+s*r.d+r.ty}return t}update(e){let t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;let r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);let i=t.orig,n=t.trim;n&&(eA.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(eA));let s=t.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,l=this.clampOffset;return o[0]=(t._frame.x+a+l)/s.width,o[1]=(t._frame.y+a+l)/s.height,o[2]=(t._frame.x+t._frame.width-a+l)/s.width,o[3]=(t._frame.y+t._frame.height-a+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&0===t.rotate,!0}constructor(e,t){this._texture=e,this.mapCoord=new P.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}}class eR extends J{get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,i){let n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new eS(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))}constructor(e,t,r){let i=null;"string"!=typeof e&&void 0===t&&void 0===r&&(i=e,e=void 0,t=void 0,r=void 0),super(e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",t||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r),this.maskSprite=i,this.maskMatrix=new P.y3}}class eC{get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=s.A7.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}constructor(e=null){this.type=s.A7.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=J.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}}class eI{setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){let e=this.maskDataPool.pop()||new eC;e.pooled=!0,e.maskObject=t,r=e}let i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==s.A7.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case s.A7.SCISSOR:this.renderer.scissor.push(r);break;case s.A7.STENCIL:this.renderer.stencil.push(r);break;case s.A7.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case s.A7.COLOR:this.pushColorMask(r)}r.type===s.A7.SPRITE&&this.maskStack.push(r)}pop(e){let t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case s.A7.SCISSOR:this.renderer.scissor.pop(t);break;case s.A7.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case s.A7.SPRITE:this.popSpriteMask(t);break;case s.A7.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){let e=this.maskStack[this.maskStack.length-1];e.type===s.A7.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){let t=e.maskObject;t?t.isSprite?e.type=s.A7.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=s.A7.SCISSOR:e.type=s.A7.STENCIL:e.type=s.A7.COLOR}pushSpriteMask(e){let{maskObject:t}=e,r=e._target,i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex])||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new eR]),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;let n=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){let t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((1&r)!=0,(2&r)!=0,(4&r)!=0,(8&r)!=0)}popColorMask(e){let t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((1&r)!=0,(2&r)!=0,(4&r)!=0,(8&r)!=0)}destroy(){this.renderer=null}constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}}eI.extension={type:h.n.RendererSystem,name:"mask"},h.R.add(eI);class eP{getStackLength(){return this.maskStack.length}setMaskStack(e){let{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;let i=this.getStackLength();i!==r&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}}let eM=new P.y3,eD=[],eO=class e extends eP{getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var t;if(e._scissorRectLocal)return;let r=e._scissorRect,{maskObject:i}=e,{renderer:n}=this,s=n.renderTexture,o=i.getBounds(!0,null!==(t=eD.pop())&&void 0!==t?t:new P.Ae);this.roundFrameToPixels(o,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;let{a:t,b:r,c:i,d:n}=e;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)}testScissor(t){let{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);let i=t._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(t,r,i,n,s){e.isMatrixRotated(s)||((s=s?eM.copyFrom(s):eM.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,t),t.fit(n),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);let{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){let{gl:t}=this.renderer;e&&eD.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){let e;let t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}constructor(e){super(e),this.glConst=o.Xd.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}};eO.extension={type:h.n.RendererSystem,name:"scissor"},h.R.add(eO);class eL extends eP{getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){let t=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;let n=e._colorMask;0!==n&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==n&&(e._colorMask=n,r.colorMask((1&n)!=0,(2&n)!=0,(4&n)!=0,(8&n)!=0)),this._useCurrent()}pop(e){let t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{let r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;0!==i&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==i&&(r._colorMask=i,t.colorMask((1&i)!=0,(2&i)!=0,(4&i)!=0,(8&i)!=0)),this._useCurrent()}}_useCurrent(){let e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}constructor(e){super(e),this.glConst=o.Xd.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}}eL.extension={type:h.n.RendererSystem,name:"stencil"},h.R.add(eL);class ek{init(){let e=this.rendererPlugins;for(let t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(let e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>((0,a.deprecation)("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>((0,a.deprecation)("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>((0,a.deprecation)("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}}ek.extension={type:[h.n.RendererSystem,h.n.CanvasRendererSystem],name:"_plugin"},h.R.add(ek);class eN{update(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);let n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}calculateProjection(e,t,r,i){let n=this.projectionMatrix,s=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=1/t.height*2*s,n.tx=-1-t.x*n.a,n.ty=-s-t.y*n.d}setTransform(e){}destroy(){this.renderer=null}constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new P.y3,this.transform=null}}eN.extension={type:h.n.RendererSystem,name:"projection"},h.R.add(eN);let eB=new P.wx,eF=new P.Ae;class eU{generateTexture(e,t){var r;let{region:i,...n}=t||{},s=(null==i?void 0:i.copyTo(eF))||e.getLocalBounds(eF,!0),o=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),n.width=s.width,n.height=s.height,n.resolution=o,null!==(r=n.multisample)&&void 0!==r||(n.multisample=this.renderer.multisample);let a=ed.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;let l=e.transform;return e.transform=eB,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}constructor(e){this.renderer=e,this._tempMatrix=new P.y3}}eU.extension={type:[h.n.RendererSystem,h.n.CanvasRendererSystem],name:"textureGenerator"},h.R.add(eU);let eH=new P.Ae,eG=new P.Ae;class eW{contextChange(){var e;let t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(){let e,t,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,o=this.renderer;this.current=i,i?(r=(e=i.baseTexture).resolution,n||(eH.width=i.frame.width,eH.height=i.frame.height,n=eH),s||(eG.x=i.frame.x,eG.y=i.frame.y,eG.width=n.width,eG.height=n.height,s=eG),t=e.framebuffer):(r=o.resolution,n||(eH.width=o._view.screen.width,eH.height=o._view.screen.height,n=eH),s||((s=eH).width=n.width,s.height=n.height));let a=this.viewportFrame;a.x=s.x*r,a.y=s.y*r,a.width=s.width*r,a.height=s.height*r,i||(a.y=o.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(t,a),this.renderer.projection.update(s,n,r,!t),i?this.renderer.mask.setMaskStack(e.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(s)}clear(e,t){let r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=l.I.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);let n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer._view.screen,o=n.width!==s.width||n.height!==s.height;if(o){let{x:e,y:t,width:r,height:i}=this.viewportFrame;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,r,i)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new P.Ae,this.destinationFrame=new P.Ae,this.viewportFrame=new P.Ae}}eW.extension={type:h.n.RendererSystem,name:"renderTexture"},h.R.add(eW);class ez{destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}}function eX(e,t,r){let i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function eV(e){let t=Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}function ej(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return eV(2*t);case"bvec3":return eV(3*t);case"bvec4":return eV(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function eY(e,t){let r=e.getShaderSource(t).split("\n").map((e,t)=>"".concat(t,": ").concat(e)),i=e.getShaderInfoLog(t),n=i.split("\n"),s={},o=n.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!!e&&!s[e]&&(s[e]=!0,!0)),a=[""];o.forEach(e=>{r[e-1]="%c".concat(r[e-1],"%c"),a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let l=r.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function eZ(e,t,r,i,n){r.buffer.update(n)}let eK={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},eq={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64},e$=0,eQ={textureCount:0,uboCount:0};class eJ{systemCheck(){if(!function(){if("boolean"==typeof n)return n;try{n=!0===Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(e){n=!1}return n}())throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;let r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(eQ.textureCount=0,eQ.uboCount=0,this.syncUniformGroup(e.uniformGroup,eQ)),i}setUniforms(e){let t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){let r=this.getGlProgram();e.static&&e.dirtyId===r.uniformDirtyGroups[e.id]||(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){let t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){let r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(let n in e.uniforms){let s=t[n];if(!s){var i;(null===(i=e.uniforms[n])||void 0===i?void 0:i.group)===!0&&(e.uniforms[n].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(n,", '").concat(n,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(n,", syncData);\n                    ")));continue}let o=e.uniforms[n],a=!1;for(let e=0;e<M.length;e++)if(M[e].test(s,o)){r.push(M[e].code(n,o)),a=!0;break}if(!a){let e=(1!==s.size||s.isArray?O:D)[s.type].replace("location",'ud["'.concat(n,'"].location'));r.push('\n            cu = ud["'.concat(n,'"];\n            cv = cu.value;\n            v = uv["').concat(n,'"];\n            ').concat(e,";"))}}return Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){let r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;let i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,eQ,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){let{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);let n=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;let s=this.getSignature(e,this.shader.program.uniformData,"ubo"),o=this._uboCache[s];if(o||(o=this._uboCache[s]=function(e,t){if(!e.autoManage)return{size:0,syncFunc:eZ};let{uboElements:r,size:i}=function(e){let t=e.map(e=>({data:e,offset:0,dataLen:0,dirty:0})),r=0,i=0,n=0;for(let e=0;e<t.length;e++){let s=t[e];if(r=eq[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,i%r!=0&&i<16){let e=i%r%16;i+=e,n+=e}i+r>16?(n=16*Math.ceil(n/16),s.offset=n,n+=r,i=r):(s.offset=n,i+=r,n+=r)}return{uboElements:t,size:n=16*Math.ceil(n/16)}}(function(e,t){let r=[];for(let i in e)t[i]&&r.push(t[i]);return r.sort((e,t)=>e.index-t.index),r}(e.uniforms,t)),n=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let t=0;t<r.length;t++){let i=r[t],s=e.uniforms[i.data.name],o=i.data.name,a=!1;for(let e=0;e<M.length;e++){let t=M[e];if(t.codeUbo&&t.test(i.data,s)){n.push("offset = ".concat(i.offset/4,";"),M[e].codeUbo(i.data.name,s)),a=!0;break}}if(!a){if(i.data.size>1){let e=N[i.data.type],t=Math.max(eq[i.data.type]/16,1),r=e/t,s=(4-r%4)%4;n.push("\n                cv = ud.".concat(o,".value;\n                v = uv.").concat(o,";\n                offset = ").concat(i.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(i.data.size*t,"; i++)\n                {\n                    for(var j = 0; j < ").concat(r,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(s,";\n                }\n\n                "))}else{let e=eK[i.data.type];n.push("\n                cv = ud.".concat(o,".value;\n                v = uv.").concat(o,";\n                offset = ").concat(i.offset/4,";\n                ").concat(e,";\n                "))}}}return n.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:Function("ud","uv","renderer","syncData","buffer",n.join("\n"))}}(e,this.shader.program.uniformData)),e.autoManage){let t=new Float32Array(o.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=o.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){let i=e.uniforms,n=["".concat(r,"-")];for(let e in i)n.push(e),t[e]&&n.push(t[e].type);return n.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){let t=this.gl,r=e.program,i=function(e,t){var r;let i=eX(e,e.VERTEX_SHADER,t.vertexSrc),n=eX(e,e.FRAGMENT_SHADER,t.fragmentSrc),s=e.createProgram();e.attachShader(s,i),e.attachShader(s,n);let o=null===(r=t.extra)||void 0===r?void 0:r.transformFeedbackVaryings;if(o&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(s,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||e.getProgramParameter(s,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||eY(e,i),e.getShaderParameter(n,e.COMPILE_STATUS)||eY(e,n),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(s)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s))),t.attributeData=function(e,t){let r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){let i=t.getActiveAttrib(e,n);if(i.name.startsWith("gl_"))continue;let s=U(t,i.type),o={type:s,name:i.name,size:N[s],location:t.getAttribLocation(e,i.name)};r[i.name]=o}return r}(s,e),t.uniformData=function(e,t){let r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){let i=t.getActiveUniform(e,n),s=i.name.replace(/\[.*?\]$/,""),o=!!i.name.match(/\[.*?\]$/),a=U(t,i.type);r[s]={name:s,index:n,type:a,size:i.size,isArray:o,value:ej(a,i.size)}}return r}(s,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){let r=Object.keys(t.attributeData);r.sort((e,t)=>e>t?1:-1);for(let i=0;i<r.length;i++)t.attributeData[r[i]].location=i,e.bindAttribLocation(s,i,r[i]);e.linkProgram(s)}e.deleteShader(i),e.deleteShader(n);let a={};for(let r in t.uniformData){let i=t.uniformData[r];a[r]={location:e.getUniformLocation(s,r),value:ej(i.type,i.size)}}return new ez(s,a)}(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=e$++}}eJ.extension={type:h.n.RendererSystem,name:"shader"},h.R.add(eJ);class e0{run(e){let{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log("PixiJS 7.4.0 - ".concat(t.rendererLogId," - https://pixijs.com")),t.resize(t.screen.width,t.screen.height)}destroy(){}constructor(e){this.renderer=e}}e0.defaultOptions={hello:!1},e0.extension={type:[h.n.RendererSystem,h.n.CanvasRendererSystem],name:"startup"},h.R.add(e0);let e1=class e{contextChange(e){this.gl=e,this.blendModes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[s.T$.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.ADD]=[e.ONE,e.ONE],t[s.T$.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.NONE]=[0,0],t[s.T$.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[s.T$.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.T$.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[s.T$.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[s.T$.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[s.T$.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[s.T$.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[s.T$.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[s.T$.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[s.T$.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[s.T$.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;let t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){let r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=s.T$.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new c,this.defaultState.blend=!0}};e1.extension={type:h.n.RendererSystem,name:"state"},h.R.add(e1);class e2 extends a.EventEmitter{setup(e){var t;this.addRunners(...e.runners);let r=(null!==(t=e.priority)&&void 0!==t?t:[]).filter(t=>e.systems[t]);for(let t of[...r,...Object.keys(e.systems).filter(e=>!r.includes(e))])this.addSystem(e.systems[t],t)}addRunners(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(e=>{this.runners[e]=new f(e)})}addSystem(e,t){let r=new e(this);if(this[t])throw Error('Whoops! The name "'.concat(t,'" is already in use'));for(let e in this[t]=r,this._systemsHash[t]=r,this.runners)this.runners[e].add(r);return this}emitWithCustomOptions(e,t){let r=Object.keys(this._systemsHash);e.items.forEach(i=>{let n=r.find(e=>this._systemsHash[e]===i);i[e.name](t[n])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}constructor(){super(...arguments),this.runners={},this._systemsHash={}}}let e3=class e{postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==s.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){let e=this.renderer.texture,t=e.managedTextures,r=!1;for(let i=0;i<t.length;i++){let n=t[i];n.resource&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,r=!0)}if(r){let e=0;for(let r=0;r<t.length;r++)null!==t[r]&&(t[e++]=t[r]);t.length=e}}unload(e){let t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let t=e.children.length-1;t>=0;t--)this.unload(e.children[t])}destroy(){this.renderer=null}constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}};e3.defaultMode=s.UN.AUTO,e3.defaultMaxIdle=3600,e3.defaultCheckCountMax=600,e3.extension={type:h.n.RendererSystem,name:"textureGC"},h.R.add(e3);class e4{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=s.vK.UNSIGNED_BYTE,this.internalFormat=s.I2.RGBA,this.samplerType=0}}class e6{contextChange(){let e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[s.vK.UNSIGNED_BYTE]:{[s.I2.RGBA]:e.RGBA8,[s.I2.RGB]:e.RGB8,[s.I2.RG]:e.RG8,[s.I2.RED]:e.R8,[s.I2.RGBA_INTEGER]:e.RGBA8UI,[s.I2.RGB_INTEGER]:e.RGB8UI,[s.I2.RG_INTEGER]:e.RG8UI,[s.I2.RED_INTEGER]:e.R8UI,[s.I2.ALPHA]:e.ALPHA,[s.I2.LUMINANCE]:e.LUMINANCE,[s.I2.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[s.vK.BYTE]:{[s.I2.RGBA]:e.RGBA8_SNORM,[s.I2.RGB]:e.RGB8_SNORM,[s.I2.RG]:e.RG8_SNORM,[s.I2.RED]:e.R8_SNORM,[s.I2.RGBA_INTEGER]:e.RGBA8I,[s.I2.RGB_INTEGER]:e.RGB8I,[s.I2.RG_INTEGER]:e.RG8I,[s.I2.RED_INTEGER]:e.R8I},[s.vK.UNSIGNED_SHORT]:{[s.I2.RGBA_INTEGER]:e.RGBA16UI,[s.I2.RGB_INTEGER]:e.RGB16UI,[s.I2.RG_INTEGER]:e.RG16UI,[s.I2.RED_INTEGER]:e.R16UI,[s.I2.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[s.vK.SHORT]:{[s.I2.RGBA_INTEGER]:e.RGBA16I,[s.I2.RGB_INTEGER]:e.RGB16I,[s.I2.RG_INTEGER]:e.RG16I,[s.I2.RED_INTEGER]:e.R16I},[s.vK.UNSIGNED_INT]:{[s.I2.RGBA_INTEGER]:e.RGBA32UI,[s.I2.RGB_INTEGER]:e.RGB32UI,[s.I2.RG_INTEGER]:e.RG32UI,[s.I2.RED_INTEGER]:e.R32UI,[s.I2.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[s.vK.INT]:{[s.I2.RGBA_INTEGER]:e.RGBA32I,[s.I2.RGB_INTEGER]:e.RGB32I,[s.I2.RG_INTEGER]:e.RG32I,[s.I2.RED_INTEGER]:e.R32I},[s.vK.FLOAT]:{[s.I2.RGBA]:e.RGBA32F,[s.I2.RGB]:e.RGB32F,[s.I2.RG]:e.RG32F,[s.I2.RED]:e.R32F,[s.I2.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[s.vK.HALF_FLOAT]:{[s.I2.RGBA]:e.RGBA16F,[s.I2.RGB]:e.RGB16F,[s.I2.RG]:e.RG16F,[s.I2.RED]:e.R16F},[s.vK.UNSIGNED_SHORT_5_6_5]:{[s.I2.RGB]:e.RGB565},[s.vK.UNSIGNED_SHORT_4_4_4_4]:{[s.I2.RGBA]:e.RGBA4},[s.vK.UNSIGNED_SHORT_5_5_5_1]:{[s.I2.RGBA]:e.RGB5_A1},[s.vK.UNSIGNED_INT_2_10_10_10_REV]:{[s.I2.RGBA]:e.RGB10_A2,[s.I2.RGBA_INTEGER]:e.RGB10_A2UI},[s.vK.UNSIGNED_INT_10F_11F_11F_REV]:{[s.I2.RGB]:e.R11F_G11F_B10F},[s.vK.UNSIGNED_INT_5_9_9_9_REV]:{[s.I2.RGB]:e.RGB9_E5},[s.vK.UNSIGNED_INT_24_8]:{[s.I2.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[s.vK.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[s.I2.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[s.vK.UNSIGNED_BYTE]:{[s.I2.RGBA]:e.RGBA,[s.I2.RGB]:e.RGB,[s.I2.ALPHA]:e.ALPHA,[s.I2.LUMINANCE]:e.LUMINANCE,[s.I2.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[s.vK.UNSIGNED_SHORT_5_6_5]:{[s.I2.RGB]:e.RGB},[s.vK.UNSIGNED_SHORT_4_4_4_4]:{[s.I2.RGBA]:e.RGBA},[s.vK.UNSIGNED_SHORT_5_5_5_1]:{[s.I2.RGBA]:e.RGBA}},this.samplerTypes="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:s.oT.FLOAT,[e.RGBA]:s.oT.FLOAT,[e.ALPHA]:s.oT.FLOAT,[e.LUMINANCE]:s.oT.FLOAT,[e.LUMINANCE_ALPHA]:s.oT.FLOAT,[e.R8]:s.oT.FLOAT,[e.R8_SNORM]:s.oT.FLOAT,[e.RG8]:s.oT.FLOAT,[e.RG8_SNORM]:s.oT.FLOAT,[e.RGB8]:s.oT.FLOAT,[e.RGB8_SNORM]:s.oT.FLOAT,[e.RGB565]:s.oT.FLOAT,[e.RGBA4]:s.oT.FLOAT,[e.RGB5_A1]:s.oT.FLOAT,[e.RGBA8]:s.oT.FLOAT,[e.RGBA8_SNORM]:s.oT.FLOAT,[e.RGB10_A2]:s.oT.FLOAT,[e.RGB10_A2UI]:s.oT.FLOAT,[e.SRGB8]:s.oT.FLOAT,[e.SRGB8_ALPHA8]:s.oT.FLOAT,[e.R16F]:s.oT.FLOAT,[e.RG16F]:s.oT.FLOAT,[e.RGB16F]:s.oT.FLOAT,[e.RGBA16F]:s.oT.FLOAT,[e.R32F]:s.oT.FLOAT,[e.RG32F]:s.oT.FLOAT,[e.RGB32F]:s.oT.FLOAT,[e.RGBA32F]:s.oT.FLOAT,[e.R11F_G11F_B10F]:s.oT.FLOAT,[e.RGB9_E5]:s.oT.FLOAT,[e.R8I]:s.oT.INT,[e.R8UI]:s.oT.UINT,[e.R16I]:s.oT.INT,[e.R16UI]:s.oT.UINT,[e.R32I]:s.oT.INT,[e.R32UI]:s.oT.UINT,[e.RG8I]:s.oT.INT,[e.RG8UI]:s.oT.UINT,[e.RG16I]:s.oT.INT,[e.RG16UI]:s.oT.UINT,[e.RG32I]:s.oT.INT,[e.RG32UI]:s.oT.UINT,[e.RGB8I]:s.oT.INT,[e.RGB8UI]:s.oT.UINT,[e.RGB16I]:s.oT.INT,[e.RGB16UI]:s.oT.UINT,[e.RGB32I]:s.oT.INT,[e.RGB32UI]:s.oT.UINT,[e.RGBA8I]:s.oT.INT,[e.RGBA8UI]:s.oT.UINT,[e.RGBA16I]:s.oT.INT,[e.RGBA16UI]:s.oT.UINT,[e.RGBA32I]:s.oT.INT,[e.RGBA32UI]:s.oT.UINT,[e.DEPTH_COMPONENT16]:s.oT.FLOAT,[e.DEPTH_COMPONENT24]:s.oT.FLOAT,[e.DEPTH_COMPONENT32F]:s.oT.FLOAT,[e.DEPTH_STENCIL]:s.oT.FLOAT,[e.DEPTH24_STENCIL8]:s.oT.FLOAT,[e.DEPTH32F_STENCIL8]:s.oT.FLOAT}:{[e.RGB]:s.oT.FLOAT,[e.RGBA]:s.oT.FLOAT,[e.ALPHA]:s.oT.FLOAT,[e.LUMINANCE]:s.oT.FLOAT,[e.LUMINANCE_ALPHA]:s.oT.FLOAT,[e.DEPTH_STENCIL]:s.oT.FLOAT};let t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let e=0;e<t;e++)this.boundTextures[e]=null;this.emptyTextures={};let r=new e4(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new e4(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let t=0;t<6;t++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{gl:r}=this;if((null==(e=null==e?void 0:e.castToBaseTexture())?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;let i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){let{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<r.length;e++)r[e]===this.unknownTexture&&this.bind(null,e)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){let{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let r=e-1;r>=0;--r){let e=t[r];e&&e._glTextures[i].samplerType!==s.oT.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){let t=new e4(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r,i,n;t.internalFormat=null!==(i=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==i?i:e.format,t.samplerType=null!==(n=this.samplerTypes[t.internalFormat])&&void 0!==n?n:s.oT.FLOAT,2===this.webGLVersion&&e.type===s.vK.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var t;let r=e._glTextures[this.CONTEXT_UID];if(!r)return;let i=this.renderer;if(this.initTextureType(e,r),null===(t=e.resource)||void 0===t?void 0:t.upload(i,e,r))r.samplerType!==s.oT.FLOAT&&(this.hasIntegerTextures=!0);else{let t=e.realWidth,n=e.realHeight,s=i.gl;(r.width!==t||r.height!==n||r.dirtyId<0)&&(r.width=t,r.height=n,s.texImage2D(e.target,0,r.internalFormat,t,n,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,t){let{gl:r}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){let t=this.managedTextures.indexOf(e);-1!==t&&(0,a.removeItems)(this.managedTextures,t,1)}}updateTextureStyle(e){var t;let r=e._glTextures[this.CONTEXT_UID];r&&(e.mipmap!==s.WB.POW2&&2===this.webGLVersion||e.isPowerOfTwo?r.mipmap=e.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?r.wrapMode=e.wrapMode:r.wrapMode=s.Nt.CLAMP,(null===(t=e.resource)||void 0===t?void 0:t.style(this.renderer,e,r))||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){let r=this.gl;if(t.mipmap&&e.mipmap!==s.WB.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===s.aH.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);let t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===s.aH.LINEAR){let i=Math.min(e.anisotropicLevel,r.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===s.aH.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===s.aH.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new _,this.hasIntegerTextures=!1}}e6.extension={type:h.n.RendererSystem,name:"texture"},h.R.add(e6);class e5{contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){let{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){let{gl:r,renderer:i}=this;t&&i.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){let{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){let{gl:t,renderer:r,CONTEXT_UID:i}=this,n=t.createTransformFeedback();e._glTransformFeedbacks[i]=n,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n);for(let n=0;n<e.buffers.length;n++){let s=e.buffers[n];s&&(r.buffer.update(s),s._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,n,s._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),n}disposeTransformFeedback(e,t){let r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);let n=this.renderer.buffer;if(n)for(let r=0;r<e.buffers.length;r++){let i=e.buffers[r];if(!i)continue;let s=i._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0!==s.refCount||t||n.dispose(i,t))}r&&(t||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}constructor(e){this.renderer=e}}e5.extension={type:h.n.RendererSystem,name:"transformFeedback"},h.R.add(e5);class e8{init(e){this.screen=new P.Ae(0,0,e.width,e.height),this.element=e.view||o.Xd.ADAPTER.createCanvas(),this.resolution=e.resolution||o.Xd.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);let r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width="".concat(r,"px"),this.element.style.height="".concat(i,"px")),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&(null===(t=this.element.parentNode)||void 0===t||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}constructor(e){this.renderer=e}}e8.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},e8.extension={type:[h.n.RendererSystem,h.n.CanvasRendererSystem],name:"_view"},h.R.add(e8),o.Xd.PREFER_ENV=s.Vi.WEBGL2,o.Xd.STRICT_TEXTURE_CACHE=!1,o.Xd.RENDER_OPTIONS={...ei.defaultOptions,...ee.defaultOptions,...e8.defaultOptions,...e0.defaultOptions},Object.defineProperties(o.Xd,{WRAP_MODE:{get:()=>_.defaultOptions.wrapMode,set(e){(0,a.deprecation)("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),_.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>_.defaultOptions.scaleMode,set(e){(0,a.deprecation)("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),_.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>_.defaultOptions.mipmap,set(e){(0,a.deprecation)("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),_.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>_.defaultOptions.anisotropicLevel,set(e){(0,a.deprecation)("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),_.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>((0,a.deprecation)("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),J.defaultResolution),set(e){J.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>((0,a.deprecation)("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),J.defaultMultisample),set(e){J.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>$.defaultMaxTextures,set(e){(0,a.deprecation)("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),$.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>$.defaultBatchSize,set(e){(0,a.deprecation)("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),$.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>$.canUploadSameBuffer,set(e){(0,a.deprecation)("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),$.canUploadSameBuffer=e}},GC_MODE:{get:()=>e3.defaultMode,set(e){(0,a.deprecation)("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),e3.defaultMode=e}},GC_MAX_IDLE:{get:()=>e3.defaultMaxIdle,set(e){(0,a.deprecation)("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),e3.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>e3.defaultCheckCountMax,set(e){(0,a.deprecation)("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),e3.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>X.defaultVertexPrecision,set(e){(0,a.deprecation)("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),X.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>X.defaultFragmentPrecision,set(e){(0,a.deprecation)("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),X.defaultFragmentPrecision=e}}});var e7=r(4691);let e9=[];function te(e){for(let t of e9)if(t.test(e))return new t(e);throw Error("Unable to auto-detect a suitable renderer.")}h.R.handleByList(h.n.Renderer,e9);let tt="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",tr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class ti{contextChange(e){let t;if(1===this.renderer.context.webGLVersion){let r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{let r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=s.G5.HIGH?this.multisample=s.G5.HIGH:t>=s.G5.MEDIUM?this.multisample=s.G5.MEDIUM:t>=s.G5.LOW?this.multisample=s.G5.LOW:this.multisample=s.G5.NONE}destroy(){}constructor(e){this.renderer=e}}ti.extension={type:h.n.RendererSystem,name:"_multisample"},h.R.add(ti);class tn{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ts{destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){let{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){let{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){let n=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,n.buffer)}}bindBufferRange(e,t,r){let{gl:i,CONTEXT_UID:n}=this;r=r||0;let s=e._glBuffers[n]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,s.buffer,256*r,256)}update(e){let{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID){if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{let r=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,r)}}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];let r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){let t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){let{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new tn(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}}ts.extension={type:h.n.RendererSystem,name:"buffer"},h.R.add(ts);class to{render(e,t){let r,i,n,s;let o=this.renderer;if(t&&(r=t.renderTexture,i=t.clear,n=t.transform,s=t.skipUpdateTransform),this.renderingToScreen=!r,o.runners.prerender.emit(),o.emit("prerender"),o.projection.transform=n,!o.context.isLost){if(r||(this.lastObjectRendered=e),!s){let t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}o.renderTexture.bind(r),o.batch.currentRenderer.start(),(null!=i?i:o.background.clearBeforeRender)&&o.renderTexture.clear(),e.render(o),o.batch.currentRenderer.flush(),r&&(t.blit&&o.framebuffer.blit(),r.baseTexture.update()),o.runners.postrender.emit(),o.projection.transform=null,o.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}constructor(e){this.renderer=e}}to.extension={type:h.n.RendererSystem,name:"objectRenderer"},h.R.add(to);let ta=class e extends e2{static test(e){return(null==e||!e.forceCanvas)&&(0,a.isWebGLSupported)()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return(0,a.deprecation)("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return(0,a.deprecation)("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return(0,a.deprecation)("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return(0,a.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){(0,a.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return(0,a.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){(0,a.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return(0,a.deprecation)("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}constructor(t){super(),this.type=s.N3.WEBGL,t=Object.assign({},o.Xd.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new j({projectionMatrix:new P.y3},!0);let r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&((0,a.deprecation)("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}};ta.extension={type:h.n.Renderer,priority:1},ta.__plugins={},ta.__systems={},h.R.handleByMap(h.n.RendererPlugin,ta.__plugins),h.R.handleByMap(h.n.RendererSystem,ta.__systems),h.R.add(ta);class tl extends m{initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof m?this.addResourceAt(e[r],r):this.addResourceAt(p(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw Error("Index ".concat(t," is out of bounds"));return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;let e=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(e).then(()=>{let{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)}),this._load}constructor(e,t){let{width:r,height:i}=t||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let t=0;t<e;t++){let e=new _;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}}class th extends tl{addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=s.sp.TEXTURE_2D_ARRAY}upload(e,t,r){let{length:i,itemDirtyIds:n,items:s}=this,{gl:o}=e;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,t.format,r.type,null);for(let e=0;e<i;e++){let i=s[e];n[e]<i.dirtyId&&(n[e]=i.dirtyId,i.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,e,i.resource.width,i.resource.height,1,t.format,r.type,i.resource.source))}return!0}constructor(e,t){let r,i;let{width:n,height:s}=t||{};Array.isArray(e)?(r=e,i=e.length):i=e,super(i,{width:n,height:s}),r&&this.initFromArray(r,t)}}class tu extends eo{static test(e){let{OffscreenCanvas:t}=globalThis;return!!t&&e instanceof t||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}constructor(e){super(e)}}let tc=class e extends tl{bind(e){super.bind(e),e.target=s.sp.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw Error("Index ".concat(t," is out of bounds"));if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(e.resource)this.addResourceAt(e.resource,t);else throw Error("CubeResource does not support copying of renderTexture.")}else e.target=s.sp.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,r,i){let n=this.itemDirtyIds;for(let s=0;s<e.SIDES;s++){let e=this.items[s];(n[s]<e.dirtyId||i.dirtyId<r.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,i),n[s]=e.dirtyId):n[s]<-1&&(t.gl.texImage2D(e.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}constructor(t,r){let{width:i,height:n,autoLoad:o,linkBaseTexture:a}=r||{};if(t&&t.length!==e.SIDES)throw Error("Invalid length. Got ".concat(t.length,", expected 6"));super(6,{width:i,height:n});for(let t=0;t<e.SIDES;t++)this.items[t].target=s.sp.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==a,t&&this.initFromArray(t,r),!1!==o&&this.load()}};tc.SIDES=6;class td extends eo{load(){return this._load||(this._load=new Promise(async(e,t)=>{if(null===this.url){e(this);return}try{let t=await o.Xd.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;let r=await t.blob();if(this.destroyed)return;let i=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===s.iw.UNPACK?"premultiply":"none"});if(this.destroyed){i.close();return}this.source=i,this.update(),e(this)}catch(e){if(this.destroyed)return;t(e),this.onError.emit(e)}})),this._load}upload(e,t,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&"u">typeof ImageBitmap&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){var e;return td._EMPTY=null!==(e=td._EMPTY)&&void 0!==e?e:o.Xd.ADAPTER.createCanvas(0,0),td._EMPTY}constructor(e,t){var r,i;let n,s,o;t=t||{},"string"==typeof e?(n=td.EMPTY,s=e,o=!0):(n=e,s=null,o=!1),super(n),this.url=s,this.crossOrigin=null===(r=t.crossOrigin)||void 0===r||r,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=null!==(i=t.ownsImageBitmap)&&void 0!==i?i:o,this._load=null,!1!==t.autoLoad&&this.load()}}let tp=class e extends eo{load(){return this._load||(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()})),this._load}_loadSvg(){let e=new Image;eo.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;let t=e.width,r=e.height;if(!t||!r)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,n=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*t,n=this._overrideHeight||this._overrideWidth/t*r),i=Math.round(i),n=Math.round(n);let s=this.source;s.width=i,s.height=n,s._pixiId="canvas_".concat((0,a.uid)()),s.getContext("2d").drawImage(e,0,0,t,r,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(t){let r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}constructor(e,t){t=t||{},super(o.Xd.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}};tp.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,tp.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let tf=tp;class tm extends eo{static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}constructor(e){super(e)}}let tg=class e extends eo{update(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],!this.destroyed){if(this._updateFPS){let e=e7.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;let e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){let e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){let e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);let t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();let e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(e7.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(e7.vB.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(e7.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(r)}constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){let i=document.createElement("video");!1!==r.autoLoad&&i.setAttribute("preload","auto"),!1!==r.playsinline&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),!0===r.muted&&(i.setAttribute("muted",""),i.muted=!0),!0===r.loop&&i.setAttribute("loop",""),!1!==r.autoPlay&&i.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);let n=t[0].src||t[0];eo.crossOrigin(i,n,r.crossorigin);for(let r=0;r<t.length;++r){let n=document.createElement("source"),{src:s,mime:o}=t[r];if((s=s||t[r]).startsWith("data:"))o=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){let t=s.split("?").shift().toLowerCase(),r=t.slice(t.lastIndexOf(".")+1);o=o||e.MIME_TYPES[r]||"video/".concat(r)}n.src=s,o&&(n.type=o),i.appendChild(n)}t=i}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}};tg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],tg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let tv=tg;d.push(td,ea,tu,tv,tm,tf,g,tc,th)},1373:function(e,t,r){r.d(t,{YZ:function(){return n},W2:function(){return u},s$:function(){return s}});var i=r(3072);class n{isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?i.Ae.EMPTY:((e=e||new i.Ae(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){let{a:r,b:i,c:n,d:s,tx:o,ty:a}=e,l=r*t.x+n*t.y+o,h=i*t.x+s*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let t=this.minX,r=this.minY,i=this.maxX,n=this.maxY,s=e[0],o=e[1];t=s<t?s:t,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=e[2],o=e[3],t=s<t?s:t,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=e[4],o=e[5],t=s<t?s:t,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,s=e[6],o=e[7],t=s<t?s:t,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,this.minX=t,this.minY=r,this.maxX=i,this.maxY=n}addFrame(e,t,r,i,n){this.addFrameMatrix(e.worldTransform,t,r,i,n)}addFrameMatrix(e,t,r,i,n){let s=e.a,o=e.b,a=e.c,l=e.d,h=e.tx,u=e.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=s*t+a*r+h,g=o*t+l*r+u;c=m<c?m:c,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,m=s*i+a*r+h,g=o*i+l*r+u,c=m<c?m:c,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,m=s*t+a*n+h,g=o*t+l*n+u,c=m<c?m:c,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,m=s*i+a*n+h,g=o*i+l*n+u,c=m<c?m:c,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,this.minX=c,this.minY=d,this.maxX=p,this.maxY=f}addVertexData(e,t,r){let i=this.minX,n=this.minY,s=this.maxX,o=this.maxY;for(let a=t;a<r;a+=2){let t=e[a],r=e[a+1];i=t<i?t:i,n=r<n?r:n,s=t>s?t:s,o=r>o?r:o}this.minX=i,this.minY=n,this.maxX=s,this.maxY=o}addVertices(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)}addVerticesMatrix(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n,o=e.a,a=e.b,l=e.c,h=e.d,u=e.tx,c=e.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY;for(let e=r;e<i;e+=2){let r=t[e],i=t[e+1],g=o*r+l*i+u,v=h*i+a*r+c;d=Math.min(d,g-n),f=Math.max(f,g+n),p=Math.min(p,v-s),m=Math.max(m,v+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m}addBounds(e){let t=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>n?e.maxY:n}addBoundsMask(e,t){let r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&i<=s){let e=this.minX,t=this.minY,o=this.maxX,a=this.maxY;this.minX=r<e?r:e,this.minY=i<t?i:t,this.maxX=n>o?n:o,this.maxY=s>a?s:a}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){let r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&i<=s){let e=this.minX,t=this.minY,o=this.maxX,a=this.maxY;this.minX=r<e?r:e,this.minY=i<t?i:t,this.maxX=n>o?n:o,this.maxY=s>a?s:a}}pad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,i,n,s){e-=n,t-=s,r+=n,i+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}}class s extends i.P6.EventEmitter{static mixin(e){let t=Object.keys(e);for(let r=0;r<t.length;++r){let i=t[r];Object.defineProperty(s.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new i.Ae),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){var t;e||(this._localBoundsRect||(this._localBoundsRect=new i.Ae),e=this._localBoundsRect),this._localBounds||(this._localBounds=new n);let r=this.transform,s=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!==(t=null==s?void 0:s.worldAlpha)&&void 0!==t?t:1,this.transform=this._tempDisplayObjectParent.transform;let o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;let l=this.getBounds(!1,e);return this.parent=s,this.transform=r,this._bounds=o,this._bounds.updateID+=this._boundsID-a,l}toGlobal(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}setTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new o),this.tempDisplayObjectParent}enableTempParent(){let e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*i.jl}set angle(e){this.transform.rotation=e*i.ZX}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){let e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){let e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new i.wx,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new n,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}}class o extends s{constructor(){super(...arguments),this.sortDirty=null}}s.prototype.displayObjectUpdateTransform=s.prototype.updateTransform;let a=new i.y3;function l(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}let h=class e extends s{onChildrenChange(e){}addChild(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{let e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(this.children.length));return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;let r=this.getChildIndex(e),i=this.getChildIndex(t);this.children[r]=t,this.children[i]=e,this.onChildrenChange(r<i?r:i)}getChildIndex(e){let t=this.children.indexOf(e);if(-1===t)throw Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));let r=this.getChildIndex(e);i.P6.removeItems(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]}removeChild(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{let e=t[0],r=this.children.indexOf(e);if(-1===r)return null;e.parent=null,e.transform._parentID=-1,i.P6.removeItems(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(e){let t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,i.P6.removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length,i=r-t;if(i>0&&i<=r){e=this.children.splice(t,i);for(let t=0;t<e.length;++t)e[t].parent=null,e[t].transform&&(e[t].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let t=0;t<e.length;++t)e[t].emit("removed",this),this.emit("childRemoved",e[t],this,t);return e}if(0===i&&0===this.children.length)return[];throw RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){let r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(l),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){let t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){let t=this.children[e];if(!(!t.visible||!t.renderable)){if(t.calculateBounds(),t._mask){let e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}}this._bounds.updateID=this._boundsID}getLocalBounds(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=super.getLocalBounds(e);if(!t)for(let e=0,t=this.children.length;e<t;++e){let t=this.children[e];t.visible&&t.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){let r,i;let n=t.renderTexture.sourceFrame;if(!(n.width>0&&n.height>0))return;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(r=this.getBounds(!0));let s=t.projection.transform;if(s&&(i?(i=a.copyFrom(i)).prepend(s):i=s),r&&n.intersects(r,i))this._render(t);else if(this.cullArea)return;for(let e=0,r=this.children.length;e<r;++e){let r=this.children[e],i=r.cullable;r.cullable=i||!this.cullArea,r.render(t),r.cullable=i}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){if(this._mask||(null===(t=this.filters)||void 0===t?void 0:t.length))this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}}}renderAdvanced(e){var t,r,n;let s=this.filters,o=this._mask;if(s){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<s.length;e++)s[e].enabled&&this._enabledFilters.push(s[e])}let a=s&&(null===(t=this._enabledFilters)||void 0===t?void 0:t.length)||o&&(!o.isMaskData||o.enabled&&(o.autoDetect||o.type!==i.A7.NONE));if(a&&e.batch.flush(),s&&(null===(r=this._enabledFilters)||void 0===r?void 0:r.length)&&e.filter.push(this,this._enabledFilters),o&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}a&&e.batch.flush(),o&&e.mask.pop(this),s&&(null===(n=this._enabledFilters)||void 0===n?void 0:n.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;let t="boolean"==typeof e?e:null==e?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let t=0;t<r.length;++t)r[t].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){let t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){let t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}};h.defaultSortableChildren=!1;let u=h;u.prototype.containerUpdateTransform=u.prototype.updateTransform,Object.defineProperties(i.Xd,{SORTABLE_CHILDREN:{get:()=>u.defaultSortableChildren,set(e){i.P6.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),u.defaultSortableChildren=e}}})},3368:function(e,t,r){r.d(t,{R:function(){return a},n:function(){return n}});var i,n=((i=n||{}).Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i);let s=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"==typeof e)e={...e};else throw Error("Invalid extension type");return"string"==typeof e.type&&(e.type=[e.type]),e},o=(e,t)=>{var r;return null!==(r=s(e).priority)&&void 0!==r?r:t},a={_addHandlers:{},_removeHandlers:{},_queue:{},remove(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map(s).forEach(e=>{e.type.forEach(t=>{var r,i;return null===(r=(i=this._removeHandlers)[t])||void 0===r?void 0:r.call(i,e)})}),this},add(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.map(s).forEach(e=>{e.type.forEach(t=>{var r,i;let n=this._addHandlers,s=this._queue;n[t]?null===(r=n[t])||void 0===r||r.call(n,e):(s[t]=s[t]||[],null===(i=s[t])||void 0===i||i.push(e))})}),this},handle(e,t,r){var i;let n=this._addHandlers,s=this._removeHandlers;if(n[e]||s[e])throw Error("Extension type ".concat(e," already has a handler"));n[e]=t,s[e]=r;let o=this._queue;return o[e]&&(null===(i=o[e])||void 0===i||i.forEach(e=>t(e)),delete o[e]),this},handleByMap(e,t){return this.handle(e,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>o(t,r)-o(e,r)))},e=>{let r=t.indexOf(e.ref);-1!==r&&t.splice(r,1)})}}},5273:function(e,t,r){r.d(t,{r:function(){return n}});var i=r(3072);class n extends i.wn{apply(e,t,r,i){this.uniforms._mix=this.mix,e.applyFilter(this,t,r,i)}get colorSize(){return this._size}get colorMap(){return this._colorMap}set colorMap(e){e&&(e instanceof i.xE||(e=i.xE.from(e)),null!=e&&e.baseTexture&&(e.baseTexture.scaleMode=this._scaleMode,e.baseTexture.mipmap=i.KI.OFF,this._size=e.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=e),this._colorMap=e)}get nearest(){return this._nearest}set nearest(e){this._nearest=e,this._scaleMode=e?i.aH.NEAREST:i.aH.LINEAR;let t=this._colorMap;t&&t.baseTexture&&(t.baseTexture._glTextures={},t.baseTexture.scaleMode=this._scaleMode,t.baseTexture.mipmap=i.KI.OFF,t._updateID++,t.baseTexture.emit("update",t.baseTexture))}updateColorMap(){let e=this._colorMap;e&&e.baseTexture&&(e._updateID++,e.baseTexture.emit("update",e.baseTexture),this.colorMap=e)}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._colorMap&&this._colorMap.destroy(e),super.destroy()}constructor(e,t=!1,r=1){super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D colorMap;\nuniform float _mix;\nuniform float _size;\nuniform float _sliceSize;\nuniform float _slicePixelSize;\nuniform float _sliceInnerSize;\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\n\n    vec4 adjusted;\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n        float innerWidth = _size - 1.0;\n        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);\n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);\n        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\n        float s0 = xOffset + (zSlice0 * _sliceSize);\n        float s1 = xOffset + (zSlice1 * _sliceSize);\n        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);\n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));\n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));\n        float zOffset = fract(color.b * innerWidth);\n        adjusted = mix(slice0Color, slice1Color, zOffset);\n\n        color.rgb *= color.a;\n    }\n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);\n\n}"),this.mix=1,this._size=0,this._sliceSize=0,this._slicePixelSize=0,this._sliceInnerSize=0,this._nearest=!1,this._scaleMode=null,this._colorMap=null,this._scaleMode=null,this.nearest=t,this.mix=r,this.colorMap=e}}},7931:function(e,t,r){r.d(t,{TC:function(){return P}});var i,n,s=r(3072);let o={build(e){let t,r,i,n,o,a;let l=e.points;if(e.type===s.HS.CIRC){let s=e.shape;t=s.x,r=s.y,o=a=s.radius,i=n=0}else if(e.type===s.HS.ELIP){let s=e.shape;t=s.x,r=s.y,o=s.width,a=s.height,i=n=0}else{let s=e.shape,l=s.width/2,h=s.height/2;t=s.x+l,r=s.y+h,o=a=Math.max(0,Math.min(s.radius,Math.min(l,h))),i=l-o,n=h-a}if(!(o>=0&&a>=0&&i>=0&&n>=0)){l.length=0;return}let h=Math.ceil(2.3*Math.sqrt(o+a)),u=8*h+(i?4:0)+(n?4:0);if(l.length=u,0===u)return;if(0===h){l.length=8,l[0]=l[6]=t+i,l[1]=l[3]=r+n,l[2]=l[4]=t-i,l[5]=l[7]=r-n;return}let c=0,d=4*h+(i?2:0)+2,p=d,f=u;{let e=i+o,s=n,a=t+e,h=t-e,u=r+s;if(l[c++]=a,l[c++]=u,l[--d]=u,l[--d]=h,n){let e=r-s;l[p++]=h,l[p++]=e,l[--f]=e,l[--f]=a}}for(let e=1;e<h;e++){let s=Math.PI/2*(e/h),u=i+Math.cos(s)*o,m=n+Math.sin(s)*a,g=t+u,v=t-u,y=r+m,_=r-m;l[c++]=g,l[c++]=y,l[--d]=y,l[--d]=v,l[p++]=v,l[p++]=_,l[--f]=_,l[--f]=g}{let e=i,s=n+a,o=t+e,h=t-e,u=r+s,d=r-s;l[c++]=o,l[c++]=u,l[--f]=d,l[--f]=o,i&&(l[c++]=h,l[c++]=u,l[--f]=d,l[--f]=h)}},triangulate(e,t){let r,i;let n=e.points,o=t.points,a=t.indices;if(0===n.length)return;let l=o.length/2,h=l;if(e.type!==s.HS.RREC){let t=e.shape;r=t.x,i=t.y}else{let t=e.shape;r=t.x+t.width/2,i=t.y+t.height/2}let u=e.matrix;o.push(e.matrix?u.a*r+u.c*i+u.tx:r,e.matrix?u.b*r+u.d*i+u.ty:i),l++,o.push(n[0],n[1]);for(let e=2;e<n.length;e+=2)o.push(n[e],n[e+1]),a.push(l++,h,l);a.push(h+1,h,l)}};function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.length;if(r<6)return;let i=0;for(let t=0,n=e[r-2],s=e[r-1];t<r;t+=2){let r=e[t],o=e[t+1];i+=(r-n)*(o+s),n=r,s=o}if(!t&&i>0||t&&i<=0){let t=r/2;for(let i=t+t%2;i<r;i+=2){let t=r-i-2,n=r-i-1,s=i,o=i+1;[e[t],e[s]]=[e[s],e[t]],[e[n],e[o]]=[e[o],e[n]]}}}let l={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points,i=e.holes,n=t.points,o=t.indices;if(r.length>=6){a(r,!1);let e=[];for(let t=0;t<i.length;t++){let n=i[t];a(n.points,!0),e.push(r.length/2),r=r.concat(n.points)}let t=s.P6.earcut(r,e,2);if(!t)return;let l=n.length/2;for(let e=0;e<t.length;e+=3)o.push(t[e]+l),o.push(t[e+1]+l),o.push(t[e+2]+l);for(let e=0;e<r.length;e++)n.push(r[e])}}};var h=((i=h||{}).MITER="miter",i.BEVEL="bevel",i.ROUND="round",i),u=((n=u||{}).BUTT="butt",n.ROUND="round",n.SQUARE="square",n);let c={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class d{static curveTo(e,t,r,i,n,s){let o=s[s.length-2],a=s[s.length-1]-t,l=o-e,h=i-t,u=r-e,c=Math.abs(a*u-l*h);if(c<1e-8||0===n)return(s[s.length-2]!==e||s[s.length-1]!==t)&&s.push(e,t),null;let d=a*a+l*l,p=h*h+u*u,f=a*h+l*u,m=n*Math.sqrt(d)/c,g=n*Math.sqrt(p)/c,v=m*f/d,y=g*f/p,_=m*u+g*l,x=m*h+g*a;return{cx:_+e,cy:x+t,radius:n,startAngle:Math.atan2(a*(g+v)-x,l*(g+v)-_),endAngle:Math.atan2(h*(m+y)-x,u*(m+y)-_),anticlockwise:l*h>u*a}}static arc(e,t,r,i,n,o,a,l,h){let u=a-o,d=c._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/s._b)),p=u/(2*d),f=2*p,m=Math.cos(p),g=Math.sin(p),v=d-1,y=v%1/v;for(let e=0;e<=v;++e){let t=p+o+f*(e+y*e),s=Math.cos(t),a=-Math.sin(t);h.push((m*s+g*a)*n+r,(-(m*a)+g*s)*n+i)}}}class p{static curveLength(e,t,r,i,n,s,o,a){let l=0,h=0,u=0,c=0,d=0,p=0,f=0,m=0,g=0,v=0,y=0,_=e,x=t;for(let b=1;b<=10;++b)c=(u=(h=b/10)*h)*h,m=(f=(p=(d=1-h)*d)*d)*e+3*p*h*r+3*d*u*n+c*o,g=f*t+3*p*h*i+3*d*u*s+c*a,v=_-m,y=x-g,_=m,x=g,l+=Math.sqrt(v*v+y*y);return l}static curveTo(e,t,r,i,n,s,o){let a=o[o.length-2],l=o[o.length-1];o.length-=2;let h=c._segmentsCount(p.curveLength(a,l,e,t,r,i,n,s)),u=0,d=0,f=0,m=0,g=0;o.push(a,l);for(let c=1,p=0;c<=h;++c)f=(d=(u=1-(p=c/h))*u)*u,g=(m=p*p)*p,o.push(f*a+3*d*p*e+3*u*m*r+g*n,f*l+3*d*p*t+3*u*m*i+g*s)}}function f(e,t,r,i,n,s,o,a){let l,h;o?(l=i,h=-r):(l=-i,h=r);let u=e-r*n+l,c=t-i*n+h,d=e+r*s+l,p=t+i*s+h;return a.push(u,c,d,p),2}function m(e,t,r,i,n,s,o,a){let l=r-e,h=i-t,u=Math.atan2(l,h),c=Math.atan2(n-e,s-t);a&&u<c?u+=2*Math.PI:!a&&u>c&&(c+=2*Math.PI);let d=u,p=c-u,f=Math.sqrt(l*l+h*h),m=(15*Math.abs(p)*Math.sqrt(f)/Math.PI>>0)+1,g=p/m;if(d+=g,a){o.push(e,t,r,i);for(let r=1,i=d;r<m;r++,i+=g)o.push(e,t,e+Math.sin(i)*f,t+Math.cos(i)*f);o.push(e,t,n,s)}else{o.push(r,i,e,t);for(let r=1,i=d;r<m;r++,i+=g)o.push(e+Math.sin(i)*f,t+Math.cos(i)*f,e,t);o.push(n,s,e,t)}return 2*m}function g(e,t){e.lineStyle.native?function(e,t){let r=0,i=e.shape,n=e.points||i.points,o=i.type!==s.HS.POLY||i.closeStroke;if(0===n.length)return;let a=t.points,l=t.indices,h=n.length/2,u=a.length/2,c=u;for(a.push(n[0],n[1]),r=1;r<h;r++)a.push(n[2*r],n[2*r+1]),l.push(c,c+1),c++;o&&l.push(c,u)}(e,t):function(e,t){let r=e.shape,i=e.points||r.points.slice(),n=t.closePointEps;if(0===i.length)return;let o=e.lineStyle,a=new s.E9(i[0],i[1]),l=new s.E9(i[i.length-2],i[i.length-1]),d=r.type!==s.HS.POLY||r.closeStroke,p=Math.abs(a.x-l.x)<n&&Math.abs(a.y-l.y)<n;if(d){i=i.slice(),p&&(i.pop(),i.pop(),l.set(i[i.length-2],i[i.length-1]));let e=(a.x+l.x)*.5,t=(l.y+a.y)*.5;i.unshift(e,t),i.push(e,t)}let g=t.points,v=i.length/2,y=i.length,_=g.length/2,x=o.width/2,b=x*x,w=o.miterLimit*o.miterLimit,E=i[0],T=i[1],A=i[2],S=i[3],R=0,C=0,I=-(T-S),P=E-A,M=0,D=0,O=Math.sqrt(I*I+P*P);I/=O,P/=O,I*=x,P*=x;let L=o.alignment,k=(1-L)*2,N=2*L;d||(o.cap===u.ROUND?y+=m(E-I*(k-N)*.5,T-P*(k-N)*.5,E-I*k,T-P*k,E+I*N,T+P*N,g,!0)+2:o.cap===u.SQUARE&&(y+=f(E,T,I,P,k,N,!0,g))),g.push(E-I*k,T-P*k,E+I*N,T+P*N);for(let e=1;e<v-1;++e){E=i[(e-1)*2],T=i[(e-1)*2+1],A=i[2*e],S=i[2*e+1],R=i[(e+1)*2],C=i[(e+1)*2+1],O=Math.sqrt((I=-(T-S))*I+(P=E-A)*P),I/=O,P/=O,I*=x,P*=x,O=Math.sqrt((M=-(S-C))*M+(D=A-R)*D),M/=O,D/=O,M*=x,D*=x;let t=A-E,r=T-S,n=A-R,s=C-S,a=t*n+r*s,l=r*n-s*t,u=l<0;if(Math.abs(l)<.001*Math.abs(a)){g.push(A-I*k,S-P*k,A+I*N,S+P*N),a>=0&&(o.join===h.ROUND?y+=m(A,S,A-I*k,S-P*k,A-M*k,S-D*k,g,!1)+4:y+=2,g.push(A-M*N,S-D*N,A+M*k,S+D*k));continue}let c=(-I+E)*(-P+S)-(-I+A)*(-P+T),d=(-M+R)*(-D+S)-(-M+A)*(-D+C),p=(t*d-n*c)/l,f=(s*c-r*d)/l,v=(p-A)*(p-A)+(f-S)*(f-S),_=A+(p-A)*k,L=S+(f-S)*k,B=A-(p-A)*N,F=S-(f-S)*N,U=u?k:N,H=v<=Math.min(t*t+r*r,n*n+s*s)+U*U*b,G=o.join;if(G===h.MITER&&v/b>w&&(G=h.BEVEL),H)switch(G){case h.MITER:g.push(_,L,B,F);break;case h.BEVEL:u?g.push(_,L,A+I*N,S+P*N,_,L,A+M*N,S+D*N):g.push(A-I*k,S-P*k,B,F,A-M*k,S-D*k,B,F),y+=2;break;case h.ROUND:u?(g.push(_,L,A+I*N,S+P*N),y+=m(A,S,A+I*N,S+P*N,A+M*N,S+D*N,g,!0)+4,g.push(_,L,A+M*N,S+D*N)):(g.push(A-I*k,S-P*k,B,F),y+=m(A,S,A-I*k,S-P*k,A-M*k,S-D*k,g,!1)+4,g.push(A-M*k,S-D*k,B,F))}else{switch(g.push(A-I*k,S-P*k,A+I*N,S+P*N),G){case h.MITER:u?g.push(B,F,B,F):g.push(_,L,_,L),y+=2;break;case h.ROUND:u?y+=m(A,S,A+I*N,S+P*N,A+M*N,S+D*N,g,!0)+2:y+=m(A,S,A-I*k,S-P*k,A-M*k,S-D*k,g,!1)+2}g.push(A-M*k,S-D*k,A+M*N,S+D*N),y+=2}}E=i[(v-2)*2],T=i[(v-2)*2+1],A=i[(v-1)*2],O=Math.sqrt((I=-(T-(S=i[(v-1)*2+1])))*I+(P=E-A)*P),I/=O,P/=O,I*=x,P*=x,g.push(A-I*k,S-P*k,A+I*N,S+P*N),d||(o.cap===u.ROUND?y+=m(A-I*(k-N)*.5,S-P*(k-N)*.5,A-I*k,S-P*k,A+I*N,S+P*N,g,!1)+2:o.cap===u.SQUARE&&(y+=f(A,S,I,P,k,N,!1,g)));let B=t.indices,F=c.epsilon*c.epsilon;for(let e=_;e<y+_-2;++e)E=g[2*e],T=g[2*e+1],A=g[(e+1)*2],S=g[(e+1)*2+1],R=g[(e+2)*2],Math.abs(E*(S-(C=g[(e+2)*2+1]))+A*(C-T)+R*(T-S))<F||B.push(e,e+1,e+2)}(e,t)}class v{static curveLength(e,t,r,i,n,s){let o=e-2*r+n,a=t-2*i+s,l=2*r-2*e,h=2*i-2*t,u=4*(o*o+a*a),c=4*(o*l+a*h),d=l*l+h*h,p=2*Math.sqrt(u+c+d),f=Math.sqrt(u),m=2*u*f,g=2*Math.sqrt(d),v=c/f;return(m*p+f*c*(p-g)+(4*d*u-c*c)*Math.log((2*f+v+p)/(v+g)))/(4*m)}static curveTo(e,t,r,i,n){let s=n[n.length-2],o=n[n.length-1],a=c._segmentsCount(v.curveLength(s,o,e,t,r,i)),l=0,h=0;for(let u=1;u<=a;++u){let c=u/a;l=s+(e-s)*c,h=o+(t-o)*c,n.push(l+(e+(r-e)*c-l)*c,h+(t+(i-t)*c-h)*c)}}}let y={[s.HS.POLY]:l,[s.HS.CIRC]:o,[s.HS.ELIP]:o,[s.HS.RECT]:{build(e){let t=e.shape,r=t.x,i=t.y,n=t.width,s=t.height,o=e.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(e,t){let r=e.points,i=t.points;if(0===r.length)return;let n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},[s.HS.RREC]:{build(e){o.build(e)},triangulate(e,t){o.triangulate(e,t)}}},_=[],x=[];var b=r(1373);class w{clone(){return new w(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}constructor(e,t=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=i,this.type=e.type}}class E{begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}constructor(){this.reset()}}let T=new s.E9,A=class e extends s.JZ{get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),x.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t.reset(),_.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=new w(e,t,r,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;let r=new w(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){let t=this.graphicsData;for(let r=0;r<t.length;++r){let i=t[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,T):T.copyFrom(e),i.shape.contains(T.x,T.y))){let e=!1;if(i.holes){for(let t=0;t<i.holes.length;t++)if(i.holes[t].shape.contains(T.x,T.y)){e=!0;break}}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;let e=this.uvs,t=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(let n=this.shapeIndex;n<t.length;n++){this.shapeIndex++;let o=t[n],a=o.fillStyle,l=o.lineStyle;y[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(a.visible||l.visible)&&this.processHoles(o.holes);for(let t=0;t<2;t++){let n=0===t?a:l;if(!n.visible)continue;let h=n.texture.baseTexture,u=this.indices.length,c=this.points.length/2;h.wrapMode=s.Nt.REPEAT,0===t?this.processFill(o):this.processLine(o);let d=this.points.length/2-c;0!==d&&(r&&!this._compareStyles(i,n)&&(r.end(u,c),r=null),r||((r=_.pop()||new E).begin(n,u,c),this.batches.push(r),i=n),this.addUvs(this.points,e,n.texture,c,d,n.matrix))}}let n=this.indices.length,o=this.points.length/2;if(r&&r.end(n,o),0===this.batches.length){this.batchable=!0;return}let a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){let t=this.graphicsData[e],r=t.fillStyle,i=t.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);let e=this.batches;for(let t=0,r=e.length;t<r;t++){let r=e[t];for(let e=0;e<r.size;e++){let t=r.start+e;this.indicesUint16[t]=this.indicesUint16[t]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;let t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++s.VL._globalBatch;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),x.push(this.drawCalls[e]);this.drawCalls.length=0;let t=this.colors,r=this.textureIds,i=x.pop();i||((i=new s.a$).texArray=new s.Ie),i.texArray.count=0,i.start=0,i.size=0,i.type=s.lg.TRIANGLES;let n=0,o=null,a=0,l=!1,h=s.lg.TRIANGLES,u=0;this.drawCalls.push(i);for(let c=0;c<this.batches.length;c++){let d=this.batches[c],p=d.style,f=p.texture.baseTexture;!!p.native!==l&&(h=(l=!!p.native)?s.lg.LINES:s.lg.TRIANGLES,o=null,n=8,e++),o!==f&&(o=f,f._batchEnabled!==e&&(8===n&&(e++,n=0,i.size>0&&((i=x.pop())||((i=new s.a$).texArray=new s.Ie),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=h),f.touched=1,f._batchEnabled=e,f._batchLocation=n,f.wrapMode=s.Nt.REPEAT,i.texArray.elements[i.texArray.count++]=f,n++)),i.size+=d.size,u+=d.size,a=f._batchLocation,this.addColors(t,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,a,d.attribSize,d.attribStart)}s.VL._globalBatch=e,this.packAttributes()}packAttributes(){let e=this.points,t=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(12*e.length),s=new Float32Array(n),o=new Uint32Array(n),a=0;for(let n=0;n<e.length/2;n++)s[a++]=e[2*n],s[a++]=e[2*n+1],s[a++]=t[2*n],s[a++]=t[2*n+1],o[a++]=r[n],s[a++]=i[n];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?l.triangulate(e,this):y[e.type].triangulate(e,this)}processLine(e){g(e,this);for(let t=0;t<e.holes.length;t++)g(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){let r=e[t];y[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){let e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){let i=e[2*r],n=e[2*r+1];e[2*r]=t.a*i+t.c*n+t.tx,e[2*r+1]=t.b*i+t.d*n+t.ty}}addColors(e,t,r,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=s.Il.shared.setValue(t).toLittleEndianNumber(),a=s.Il.shared.setValue(o).toPremultiplied(r);e.length=Math.max(e.length,n+i);for(let t=0;t<i;t++)e[n+t]=a}addTextureIds(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e.length=Math.max(e.length,i+r);for(let n=0;n<r;n++)e[i+n]=t}addUvs(e,t,r,i,n){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=0,a=t.length,l=r.frame;for(;o<n;){let r=e[(i+o)*2],n=e[(i+o)*2+1];if(s){let e=s.a*r+s.c*n+s.tx;n=s.b*r+s.d*n+s.ty,r=e}o++,t.push(r/l.width,n/l.height)}let h=r.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(t,r,a,n)}adjustUvs(e,t,r,i){let n=t.baseTexture,s=r+2*i,o=t.frame,a=o.width/n.width,l=o.height/n.height,h=o.x/o.width,u=o.y/o.height,c=Math.floor(e[r]+1e-6),d=Math.floor(e[r+1]+1e-6);for(let t=r+2;t<s;t+=2)c=Math.min(c,Math.floor(e[t]+1e-6)),d=Math.min(d,Math.floor(e[t+1]+1e-6));h-=c,u-=d;for(let t=r;t<s;t+=2)e[t]=(e[t]+h)*a,e[t+1]=(e[t+1]+u)*l}constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new b.YZ,this.boundsDirty=-1}};A.BATCHABLE_SIZE=100;class S{clone(){let e=new S;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=s.xE.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}constructor(){this.color=16777215,this.alpha=1,this.texture=s.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}}class R extends S{clone(){let e=new R;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=u.BUTT,this.join=h.MITER,this.miterLimit=10}constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=u.BUTT,this.join=h.MITER,this.miterLimit=10}}let C={},I=class e extends b.W2{get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return"number"==typeof e&&(e={width:e,color:t,alpha:r,alignment:i,native:n}),this.lineTextureStyle(e)}lineTextureStyle(e){e=Object.assign({width:0,texture:s.xE.WHITE,color:(null==e?void 0:e.texture)?16777215:0,matrix:null,alignment:.5,native:!1,cap:u.BUTT,join:h.MITER,miterLimit:10},e),this.normalizeColor(e),this.currentPath&&this.startPoly();let t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){let e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new s.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new s.mg,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);let r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return(i!==e||n!==t)&&r.push(e,t),this}_initCurve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,i){this._initCurve();let n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),v.curveTo(e,t,r,i,n),this}bezierCurveTo(e,t,r,i,n,s){return this._initCurve(),p.curveTo(e,t,r,i,n,s,this.currentPath.points),this}arcTo(e,t,r,i,n){this._initCurve(e,t);let s=this.currentPath.points,o=d.curveTo(e,t,r,i,n,s);if(o){let{cx:e,cy:t,radius:r,startAngle:i,endAngle:n,anticlockwise:s}=o;this.arc(e,t,r,i,n,s)}return this}arc(e,t,r,i,n){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i===n||(!o&&n<=i?n+=s._b:o&&i<=n&&(i+=s._b),n-i==0))return this;let a=e+Math.cos(i)*r,l=t+Math.sin(i)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){let e=Math.abs(u[u.length-2]-a),t=Math.abs(u[u.length-1]-l);e<h&&t<h||u.push(a,l)}else this.moveTo(a,l),u=this.currentPath.points;return d.arc(a,l,e,t,r,i,n,o,u),this}beginFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:s.xE.WHITE,color:e,alpha:t})}normalizeColor(e){var t,r;let i=s.Il.shared.setValue(null!==(t=e.color)&&void 0!==t?t:0);e.color=i.toNumber(),null!==(r=e.alpha)&&void 0!==r||(e.alpha=i.alpha)}beginTextureFill(e){e=Object.assign({texture:s.xE.WHITE,color:16777215,matrix:null},e),this.normalizeColor(e),this.currentPath&&this.startPoly();let t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,i){return this.drawShape(new s.Ae(e,t,r,i))}drawRoundedRect(e,t,r,i,n){return this.drawShape(new s.c9(e,t,r,i,n))}drawCircle(e,t,r){return this.drawShape(new s.Cd(e,t,r))}drawEllipse(e,t,r,i){return this.drawShape(new s.Pj(e,t,r,i))}drawPolygon(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let i,n=!0,o=t[0];o.points?(n=o.closeStroke,i=o.points):i=Array.isArray(t[0])?t[0]:t;let a=new s.mg(i);return a.closeStroke=n,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){let e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===s.HS.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();let t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){let e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let i=0;i<r;i++){let r=e.batches[i],n=r.style.color,o=new Float32Array(this.vertexData.buffer,8*r.attribStart,2*r.attribSize),a=new Float32Array(e.uvsFloat32.buffer,8*r.attribStart,2*r.attribSize),l={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*r.start,r.size),uvs:a,_batchRGB:s.Il.shared.setValue(n).toRgbArray(),_tintRGB:n,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[i]=l}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){let r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}_renderDirect(e){let t=this._resolveDirectShader(e),r=this._geometry,i=this.worldAlpha,n=t.uniforms,o=r.drawCalls;n.translationMatrix=this.transform.worldTransform,s.Il.shared.setValue(this._tintColor).premultiply(i).toArray(n.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let t=0,i=o.length;t<i;t++)this._renderDrawCallDirect(e,r.drawCalls[t])}_renderDrawCallDirect(e,t){let{texArray:r,type:i,size:n,start:s}=t,o=r.count;for(let t=0;t<o;t++)e.texture.bind(r.elements[t],t);e.geometry.draw(i,n,s)}_resolveDirectShader(e){let t=this.shader,r=this.pluginName;if(!t){if(!C[r]){let{maxTextures:t}=e.plugins[r],i=new Int32Array(t);for(let e=0;e<t;e++)i[e]=e;let n={tint:new Float32Array([1,1,1,1]),translationMatrix:new s.y3,default:s.oo.from({uSamplers:i},!0)},o=e.plugins[r]._shader.program;C[r]=new s.ex(o,n)}t=C[r]}return t}_calculateBounds(){this.finishPoly();let e=this._geometry;if(!e.graphicsData.length)return;let{minX:t,minY:r,maxX:i,maxY:n}=e.bounds;this._bounds.addFrame(this.transform,t,r,i,n)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t._tintRGB=s.Il.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){let e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;let t=this.transform.worldTransform,r=t.a,i=t.b,n=t.c,s=t.d,o=t.tx,a=t.ty,l=this._geometry.points,h=this.vertexData,u=0;for(let e=0;e<l.length;e+=2){let t=l[e],c=l[e+1];h[u++]=r*t+n*c+o,h[u++]=s*c+i*t+a}}closePath(){let e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new S,this._lineStyle=new R,this._matrix=null,this._holeMode=!1,this.state=s.ZM.for2d(),this._geometry=e||new A,this._geometry.refCount++,this._transformID=-1,this._tintColor=new s.Il(16777215),this.blendMode=s.T$.NORMAL}};I.curves=c,I._TEMP_POINT=new s.E9;let P=I},3604:function(e,t,r){r.d(t,{Cd:function(){return c},ZX:function(){return s},Pj:function(){return d},y3:function(){return m},AB:function(){return T},_b:function(){return i},E9:function(){return l},mg:function(){return p},jl:function(){return n},Ae:function(){return u},c9:function(){return f},HS:function(){return a},wx:function(){return S},Lv:function(){return E}});let i=2*Math.PI,n=180/Math.PI,s=Math.PI/180;var o,a=((o=a||{})[o.POLY=0]="POLY",o[o.RECT=1]="RECT",o[o.CIRC=2]="CIRC",o[o.ELIP=3]="ELIP",o[o.RREC=4]="RREC",o);class l{clone(){return new l(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}}l.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};let h=[new l,new l,new l,new l];class u{get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new u(0,0,0,0)}clone(){return new u(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0)&&!(this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){let t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;let r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}let r=this.left,i=this.right,n=this.top,s=this.bottom;if(i<=r||s<=n)return!1;let o=h[0].set(e.left,e.top),a=h[1].set(e.left,e.bottom),l=h[2].set(e.right,e.top),u=h[3].set(e.right,e.bottom);if(l.x<=o.x||a.y<=o.y)return!1;let c=Math.sign(t.a*t.d-t.b*t.c);if(0===c||(t.apply(o,o),t.apply(a,a),t.apply(l,l),t.apply(u,u),Math.max(o.x,a.x,l.x,u.x)<=r||Math.min(o.x,a.x,l.x,u.x)>=i||Math.max(o.y,a.y,l.y,u.y)<=n||Math.min(o.y,a.y,l.y,u.y)>=s))return!1;let d=c*(a.y-o.y),p=c*(o.x-a.x),f=d*r+p*n,m=d*i+p*n,g=d*r+p*s,v=d*i+p*s;if(Math.max(f,m,g,v)<=d*o.x+p*o.y||Math.min(f,m,g,v)>=d*u.x+p*u.y)return!1;let y=c*(o.y-l.y),_=c*(l.x-o.x),x=y*r+_*n,b=y*i+_*n,w=y*r+_*s,E=y*i+_*s;return!(Math.max(x,b,w,E)<=y*o.x+_*o.y||Math.min(x,b,w,E)>=y*u.x+_*u.y)}pad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){let t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(n-i,0),this}ceil(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){let t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=n-i,this}constructor(e=0,t=0,r=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i),this.type=a.RECT}}u.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class c{clone(){return new c(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;let r=this.radius*this.radius,i=this.x-e,n=this.y-t;return i*=i,n*=n,i+n<=r}getBounds(){return new u(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=a.CIRC}}c.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class d{clone(){return new d(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(t-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new u(this.x-this.width,this.y-this.height,this.width,this.height)}constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.width=r,this.height=i,this.type=a.ELIP}}d.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class p{clone(){let e=new p(this.points.slice());return e.closeStroke=this.closeStroke,e}contains(e,t){let r=!1,i=this.points.length/2;for(let n=0,s=i-1;n<i;s=n++){let i=this.points[2*n],o=this.points[2*n+1],a=this.points[2*s],l=this.points[2*s+1];o>t!=l>t&&e<(t-o)/(l-o)*(a-i)+i&&(r=!r)}return r}constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){let e=[];for(let r=0,i=t.length;r<i;r++)e.push(t[r].x,t[r].y);t=e}this.points=t,this.type=a.POLY,this.closeStroke=!0}}p.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce((e,t)=>"".concat(e,", ").concat(t),""),"]")};class f{clone(){return new f(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){let r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),n=t-(this.y+r),s=r*r;if(i*i+n*n<=s||(i=e-(this.x+this.width-r))*i+n*n<=s||i*i+(n=t-(this.y+this.height-r))*n<=s||(i=e-(this.x+r))*i+n*n<=s)return!0}return!1}constructor(e=0,t=0,r=0,i=0,n=20){this.x=e,this.y=t,this.width=r,this.height=i,this.radius=n,this.type=a.RREC}}f.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class m{fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,i,n,s){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));let r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0),r[8]=1,r}apply(e,t){t=t||new l;let r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t}applyInverse(e,t){t=t||new l;let r=1/(this.a*this.d+-(this.c*this.b)),i=e.x,n=e.y;return t.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.a,n=this.c,s=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this}append(e){let t=this.a,r=this.b,i=this.c,n=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this}setTransform(e,t,r,i,n,s,o,a,l){return this.a=Math.cos(o+l)*n,this.b=Math.sin(o+l)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this}prepend(e){let t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){let t=this.a,r=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){let t=this.a,r=this.b,n=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-n,s),l=Math.atan2(r,t),h=Math.abs(a+l);return h<1e-5||1e-5>Math.abs(i-h)?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*t+o.y*n),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){let e=this.a,t=this.b,r=this.c,i=this.d,n=this.tx,s=e*i-t*r;return this.a=i/s,this.b=-t/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(e*this.ty-t*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let e=new m;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new m}static get TEMP_MATRIX(){return new m}constructor(e=1,t=0,r=0,i=1,n=0,s=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=s}}m.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};let g=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],v=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],y=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],x=[],b=[],w=Math.sign;!function(){for(let e=0;e<16;e++){let t=[];x.push(t);for(let r=0;r<16;r++){let i=w(g[e]*g[r]+y[e]*v[r]),n=w(v[e]*g[r]+_[e]*v[r]),s=w(g[e]*y[r]+y[e]*_[r]),o=w(v[e]*y[r]+_[e]*_[r]);for(let e=0;e<16;e++)if(g[e]===i&&v[e]===n&&y[e]===s&&_[e]===o){t.push(e);break}}}for(let e=0;e<16;e++){let t=new m;t.set(g[e],v[e],y[e],_[e],0,0),b.push(t)}}();let E={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>g[e],uY:e=>v[e],vX:e=>y[e],vY:e=>_[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>x[e][t],sub:(e,t)=>x[e][E.inv(t)],rotate180:e=>4^e,isVertical:e=>(3&e)==2,byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?E.S:E.N:2*Math.abs(t)<=Math.abs(e)?e>0?E.E:E.W:t>0?e>0?E.SE:E.SW:e>0?E.NE:E.NW,matrixAppendRotationInv:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=b[E.inv(t)];n.tx=r,n.ty=i,e.append(n)}};class T{clone(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope;return new T(e,t,this._x,this._y)}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}constructor(e,t,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=t}}T.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};let A=class{onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){let e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){let t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){let r=e.worldTransform,i=this.worldTransform;i.a=t.a*r.a+t.b*r.c,i.b=t.a*r.b+t.b*r.d,i.c=t.c*r.a+t.d*r.c,i.d=t.c*r.b+t.d*r.d,i.tx=t.tx*r.a+t.ty*r.c+r.tx,i.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}constructor(){this.worldTransform=new m,this.localTransform=new m,this.position=new T(this.onChange,this,0,0),this.scale=new T(this.onChange,this,1,1),this.pivot=new T(this.onChange,this,0,0),this.skew=new T(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}};A.IDENTITY=new A;let S=A;S.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")}},2692:function(e,t,r){r.d(t,{ZT:function(){return l},AL:function(){return h},IE:function(){return u}});var i=r(502);class n extends i.xc{build(){let e=this.segWidth*this.segHeight,t=[],r=[],i=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s;for(let i=0;i<e;i++){let e=i%this.segWidth,l=i/this.segWidth|0;t.push(e*o,l*a),r.push(e/n,l/s)}let l=n*s;for(let e=0;e<l;e++){let t=e%n,r=e/n|0,s=r*this.segWidth+t,o=r*this.segWidth+t+1,a=(r+1)*this.segWidth+t,l=(r+1)*this.segWidth+t+1;i.push(s,o,a,o,l,a)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}constructor(e=100,t=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=t,this.build()}}class s extends i.xc{get width(){return this._width}build(){let e=this.points;if(!e)return;let t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),i.data=new Uint16Array((e.length-1)*6));let n=r.data,s=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;let o=0,a=e[0],l=this._width*this.textureScale,h=e.length;for(let t=0;t<h;t++){let r=4*t;if(this.textureScale>0){let r=a.x-e[t].x,i=a.y-e[t].y,n=Math.sqrt(r*r+i*i);a=e[t],o+=n/l}else o=t/(h-1);n[r]=o,n[r+1]=0,n[r+2]=o,n[r+3]=1}let u=0;for(let e=0;e<h-1;e++){let t=2*e;s[u++]=t,s[u++]=t+1,s[u++]=t+2,s[u++]=t+2,s[u++]=t+1,s[u++]=t+3}r.update(),i.update(),this.updateVertices()}updateVertices(){let e=this.points;if(e.length<1)return;let t=e[0],r,i=0,n=0,s=this.buffers[0].data,o=e.length,a=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<o;l++){let h=e[l],u=4*l;n=-((r=l<e.length-1?e[l+1]:h).x-t.x),i=r.y-t.y;let c=(1-l/(o-1))*10;c>1&&(c=1);let d=Math.sqrt(i*i+n*n);d<1e-6?(i=0,n=0):(i/=d,n/=d,i*=a,n*=a),s[u]=h.x+i,s[u+1]=h.y+n,s[u+2]=h.x-i,s[u+3]=h.y-n,t=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}constructor(e=200,t,r=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}}var o=r(3072);class a extends i.Kj{textureUpdated(){this._textureID=this.shader.texture._updateID;let e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}constructor(e,t,r){super(new n(e.width,e.height,t,r),new i.rY(o.xE.WHITE)),this.texture=e,this.autoResize=!0}}class l extends a{textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){let e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){let e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){let e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight;return Math.min(t,this._height>r?1:this._height/r)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){let e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;let r=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}constructor(e,t,r,i,n){var s,a,l,h,u,c,d,p;super(o.xE.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=null!==(u=null!=t?t:null===(s=e.defaultBorders)||void 0===s?void 0:s.left)&&void 0!==u?u:10,this._rightWidth=null!==(c=null!=i?i:null===(a=e.defaultBorders)||void 0===a?void 0:a.right)&&void 0!==c?c:10,this._topHeight=null!==(d=null!=r?r:null===(l=e.defaultBorders)||void 0===l?void 0:l.top)&&void 0!==d?d:10,this._bottomHeight=null!==(p=null!=n?n:null===(h=e.defaultBorders)||void 0===h?void 0:h.bottom)&&void 0!==p?p:10,this.texture=e}}class h extends i.Kj{get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}constructor(e=o.xE.EMPTY,t,r,n,s){let a=new i.xc(t,r,n);a.getBuffer("aVertexPosition").static=!1,super(a,new i.rY(e),null,s),this.autoUpdate=!0}}class u extends i.Kj{_render(e){let t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}constructor(e,t,r=0){let n=new s(e.height,t,r),a=new i.rY(e);r>0&&(e.baseTexture.wrapMode=o.Nt.REPEAT),super(n,a),this.autoUpdate=!0}}},502:function(e,t,r){r.d(t,{Kj:function(){return h},xc:function(){return u},rY:function(){return c}});var i=r(3072),n=r(1373);class s{update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;let t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}}let o=new i.E9,a=new i.mg,l=class e extends n.W2{get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){let r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===i.lg.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){let t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){let t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;let i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){let e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));let n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,h=n.tx,u=n.ty,c=this.vertexData;for(let e=0;e<c.length/2;e++){let r=t[2*e],i=t[2*e+1];c[2*e]=s*r+a*i+h,c[2*e+1]=o*r+l*i+u}if(this._roundPixels){let e=i.Xd.RESOLUTION;for(let t=0;t<c.length;++t)c[t]=Math.round(c[t]*e)/e}this.vertexDirty=r}calculateUvs(){let e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new s(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,o);let t=this.geometry.getBuffer("aVertexPosition").data,r=a.points,i=this.geometry.getIndex().data,n=i.length,s=4===this.drawMode?3:1;for(let e=0;e+2<n;e+=s){let n=2*i[e],s=2*i[e+1],l=2*i[e+2];if(r[0]=t[n],r[1]=t[n+1],r[2]=t[s],r[3]=t[s+1],r[4]=t[l],r[5]=t[l+1],a.contains(o.x,o.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}constructor(e,t,r,n=i.lg.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||i.ZM.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=i.Xd.ROUND_PIXELS,this.batchUvs=null}};l.BATCHABLE_SIZE=100;let h=l;class u extends i.wG{get vertexDirtyId(){return this.buffers[0]._updateID}constructor(e,t,r){super();let n=new i.lW(e),s=new i.lW(t,!0),o=new i.lW(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,i.vK.FLOAT).addAttribute("aTextureCoord",s,2,!1,i.vK.FLOAT).addIndex(o),this._updateId=-1}}class c extends i.ex{get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;let e=this.texture.baseTexture.alphaMode;i.Il.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}constructor(e,t){let r={uSampler:e,alpha:1,uTextureMatrix:i.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(r,t.uniforms),super(t.program||i.$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r),this._colorDirty=!1,this.uvMatrix=new i.UX(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new i.Il(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}}},6917:function(e,t,r){r.d(t,{T:function(){return s}});var i=r(3072),n=r(1373);class s extends n.W2{setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){let t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}constructor(e=1500,t,r=16384,n=!1){super(),r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=i.T$.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new i.Il(0),this.tintRgb=new Float32Array(3),this.tint=16777215}}class o{initBuffers(){let e=this.geometry,t=0;this.indexBuffer=new i.lW(i.P6.createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let e=0;e<this.dynamicProperties.length;++e){let r=this.dynamicProperties[e];r.offset=t,t+=r.size,this.dynamicStride+=r.size}let r=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new i.lW(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let e=0;e<this.staticProperties.length;++e){let t=this.staticProperties[e];t.offset=n,n+=t.size,this.staticStride+=t.size}let s=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new i.lW(this.staticData,!0,!1);for(let t=0;t<this.dynamicProperties.length;++t){let r=this.dynamicProperties[t];e.addAttribute(r.attributeName,this.dynamicBuffer,0,r.type===i.vK.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset)}for(let t=0;t<this.staticProperties.length;++t){let r=this.staticProperties[t];e.addAttribute(r.attributeName,this.staticBuffer,0,r.type===i.vK.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}}uploadDynamic(e,t,r){for(let n=0;n<this.dynamicProperties.length;n++){let s=this.dynamicProperties[n];s.uploadFunction(e,t,r,s.type===i.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let n=0;n<this.staticProperties.length;n++){let s=this.staticProperties[n];s.uploadFunction(e,t,r,s.type===i.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}constructor(e,t,r){this.geometry=new i.wG,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let r=0;r<e.length;++r){let n=e[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||i.vK.FLOAT,offset:n.offset},t[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}}class a extends i.bO{render(e){let t=e.children,r=e._maxSize,n=e._batchSize,s=this.renderer,o=t.length;if(0===o)return;o>r&&!e.autoResize&&(o=r);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));let l=t[0]._texture.baseTexture,h=l.alphaMode>0;this.state.blendMode=i.P6.correctBlendMode(e.blendMode,h),s.state.set(this.state);let u=s.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=i.Il.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let r=0,i=0;r<o;r+=n,i+=1){let l=o-r;l>n&&(l=n),i>=a.length&&a.push(this._generateOneMoreBuffer(e));let h=a[i];h.uploadDynamic(t,r,l);let c=e._bufferUpdateIDs[i]||0;(d=d||h._updateID<c)&&(h._updateID=e._updateID,h.uploadStatic(t,r,l)),s.geometry.bind(h.geometry),u.drawElements(u.TRIANGLES,6*l,u.UNSIGNED_SHORT,0)}}generateBuffers(e){let t=[],r=e._maxSize,i=e._batchSize,n=e._properties;for(let e=0;e<r;e+=i)t.push(new o(this.properties,n,i));return t}_generateOneMoreBuffer(e){let t=e._batchSize,r=e._properties;return new o(this.properties,r,t)}uploadVertices(e,t,r,i,n,s){let o=0,a=0,l=0,h=0;for(let u=0;u<r;++u){let r=e[t+u],c=r._texture,d=r.scale.x,p=r.scale.y,f=c.trim,m=c.orig;f?(o=(a=f.x-r.anchor.x*m.width)+f.width,l=(h=f.y-r.anchor.y*m.height)+f.height):(o=m.width*(1-r.anchor.x),a=-(m.width*r.anchor.x),l=m.height*(1-r.anchor.y),h=-(m.height*r.anchor.y)),i[s]=a*d,i[s+1]=h*p,i[s+n]=o*d,i[s+n+1]=h*p,i[s+2*n]=o*d,i[s+2*n+1]=l*p,i[s+3*n]=a*d,i[s+3*n+1]=l*p,s+=4*n}}uploadPosition(e,t,r,i,n,s){for(let o=0;o<r;o++){let r=e[t+o].position;i[s]=r.x,i[s+1]=r.y,i[s+n]=r.x,i[s+n+1]=r.y,i[s+2*n]=r.x,i[s+2*n+1]=r.y,i[s+3*n]=r.x,i[s+3*n+1]=r.y,s+=4*n}}uploadRotation(e,t,r,i,n,s){for(let o=0;o<r;o++){let r=e[t+o].rotation;i[s]=r,i[s+n]=r,i[s+2*n]=r,i[s+3*n]=r,s+=4*n}}uploadUvs(e,t,r,i,n,s){for(let o=0;o<r;++o){let r=e[t+o]._texture._uvs;r?(i[s]=r.x0,i[s+1]=r.y0,i[s+n]=r.x1,i[s+n+1]=r.y1,i[s+2*n]=r.x2,i[s+2*n+1]=r.y2,i[s+3*n]=r.x3,i[s+3*n+1]=r.y3):(i[s]=0,i[s+1]=0,i[s+n]=0,i[s+n+1]=0,i[s+2*n]=0,i[s+2*n+1]=0,i[s+3*n]=0,i[s+3*n+1]=0),s+=4*n}}uploadTint(e,t,r,n,s,o){for(let a=0;a<r;++a){let r=e[t+a],l=i.Il.shared.setValue(r._tintRGB).toPremultiplied(r.alpha,r.texture.baseTexture.alphaMode>0);n[o]=l,n[o+s]=l,n[o+2*s]=l,n[o+3*s]=l,o+=4*s}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new i.y3,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:i.vK.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=i.ex.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=i.ZM.for2d()}}a.extension={name:"particle",type:i.nw.RendererPlugin},i.Rw.add(a)},5052:function(e,t,r){r.d(t,{tq:function(){return w},Xd:function(){return i}});let i={ADAPTER:{createCanvas:(e,t)=>{let r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")},RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var n,s=/iPhone/i,o=/iPod/i,a=/iPad/i,l=/\biOS-universal(?:.+)Mac\b/i,h=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,v=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i,x=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function b(e){var t,r={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?r.userAgent=e:e&&e.userAgent&&(r={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=r.userAgent,n=i.split("[FBAN");void 0!==n[1]&&(i=n[0]),void 0!==(n=i.split("Twitter"))[1]&&(i=n[0]);var b=(t=i,function(e){return e.test(t)}),w={apple:{phone:b(s)&&!b(p),ipod:b(o),tablet:!b(s)&&(b(a)||x(r))&&!b(p),universal:b(l),device:(b(s)||b(o)||b(a)||b(l)||x(r))&&!b(p)},amazon:{phone:b(c),tablet:!b(c)&&b(d),device:b(c)||b(d)},android:{phone:!b(p)&&b(c)||!b(p)&&b(h),tablet:!b(p)&&!b(c)&&!b(h)&&(b(d)||b(u)),device:!b(p)&&(b(c)||b(d)||b(h)||b(u))||b(/\bokhttp\b/i)},windows:{phone:b(p),tablet:b(f),device:b(p)||b(f)},other:{blackberry:b(m),blackberry10:b(g),opera:b(v),firefox:b(_),chrome:b(y),device:b(m)||b(g)||b(v)||b(_)||b(y)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}let w=(null!==(n=b.default)&&void 0!==n?n:b)(globalThis.navigator)},6341:function(e,t,r){r.d(t,{K:function(){return s}});var i=r(3072),n=r(9169);class s extends n.j{stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(i.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(i.vB.shared.add(this.update,this,i.uF.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;let t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];let i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){let e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){let t=[];for(let r=0;r<e.length;++r)t.push(i.xE.from(e[r]));return new s(t)}static fromImages(e){let t=[];for(let r=0;r<e.length;++r)t.push(i.xE.from(e[r]));return new s(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof i.xE)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));let t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(i.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(i.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))}constructor(e,t=!0){super(e[0]instanceof i.xE?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}}},9676:function(e,t,r){r.d(t,{o:function(){return o}});var i=r(3072),n=r(9169);let s=new i.E9;class o extends n.j{get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){let t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){let e=-(this._width*this._anchor._x),t=-(this._height*this._anchor._y),r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,i)}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=-(this._width*this._anchor._x),this._bounds.minY=-(this._height*this._anchor._y),this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,s);let t=this._width,r=this._height,i=-t*this.anchor._x;if(s.x>=i&&s.x<i+t){let e=-r*this.anchor._y;if(s.y>=e&&s.y<e+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){return new o(e instanceof i.xE?e:i.xE.from(e,t),t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}constructor(e,t=100,r=100){super(e),this.tileTransform=new i.wx,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new i.UX(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}}var a="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";let l=new i.y3;class h extends i.bO{contextChange(){let e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=i.ex.from(a,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?i.ex.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):i.ex.from(a,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)}render(e){let t=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=-(e._width*e.anchor.x),n[1]=n[3]=-(e._height*e.anchor.y),n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);let s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;(n=r.uvs)[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,r.invalidate();let a=e._texture,h=a.baseTexture,u=h.alphaMode>0,c=e.tileTransform.localTransform,d=e.uvMatrix,p=h.isPowerOfTwo&&a.frame.width===h.width&&a.frame.height===h.height;p&&(h._glTextures[t.CONTEXT_UID]?p=h.wrapMode!==i.Nt.CLAMP:h.wrapMode===i.Nt.CLAMP&&(h.wrapMode=i.Nt.REPEAT));let f=p?this.simpleShader:this.shader,m=a.width,g=a.height,v=e._width,y=e._height;l.set(c.a*m/v,c.b*m/y,c.c*g/v,c.d*g/y,c.tx/v,c.ty/y),l.invert(),p?l.prepend(d.mapCoord):(f.uniforms.uMapCoord=d.mapCoord.toArray(!0),f.uniforms.uClampFrame=d.uClampFrame,f.uniforms.uClampOffset=d.uClampOffset),f.uniforms.uTransform=l.toArray(!0),f.uniforms.uColor=i.Il.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,t.shader.bind(f),t.geometry.bind(r),this.state.blendMode=i.P6.correctBlendMode(e.blendMode,u),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new i.ud,this.state=i.ZM.for2d()}}h.extension={name:"tilingSprite",type:i.nw.RendererPlugin},i.Rw.add(h)},9169:function(e,t,r){r.d(t,{j:function(){return a}});var i=r(3072),n=r(1373);let s=new i.E9,o=new Uint16Array([0,1,2,0,2,3]);class a extends n.W2{_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=i.P6.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=i.P6.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){let e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;let t=this.transform.worldTransform,r=t.a,n=t.b,s=t.c,o=t.d,a=t.tx,l=t.ty,h=this.vertexData,u=e.trim,c=e.orig,d=this._anchor,p=0,f=0,m=0,g=0;if(u?(p=(f=u.x-d._x*c.width)+u.width,m=(g=u.y-d._y*c.height)+u.height):(p=(f=-d._x*c.width)+c.width,m=(g=-d._y*c.height)+c.height),h[0]=r*f+s*g+a,h[1]=o*g+n*f+l,h[2]=r*p+s*g+a,h[3]=o*g+n*p+l,h[4]=r*p+s*m+a,h[5]=o*m+n*p+l,h[6]=r*f+s*m+a,h[7]=o*m+n*f+l,this._roundPixels){let e=i.Xd.RESOLUTION;for(let t=0;t<h.length;++t)h[t]=Math.round(h[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;let e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,h=s.d,u=s.tx,c=s.ty,d=-n._x*r.width,p=d+r.width,f=-n._y*r.height,m=f+r.height;if(t[0]=o*d+l*f+u,t[1]=h*f+a*d+c,t[2]=o*p+l*f+u,t[3]=h*f+a*p+c,t[4]=o*p+l*m+u,t[5]=h*m+a*p+c,t[6]=o*d+l*m+u,t[7]=h*m+a*d+c,this._roundPixels){let e=i.Xd.RESOLUTION;for(let r=0;r<t.length;++r)t[r]=Math.round(t[r]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){let e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new n.YZ),this._localBounds.minX=-(this._texture.orig.width*this._anchor._x),this._localBounds.minY=-(this._texture.orig.height*this._anchor._y),this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Ae),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,s);let t=this._texture.orig.width,r=this._texture.orig.height,i=-t*this.anchor.x,n=0;return s.x>=i&&s.x<i+t&&(n=-r*this.anchor.y,s.y>=n&&s.y<n+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:null==e?void 0:e.texture){let t="boolean"==typeof e?e:null==e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){return new a(e instanceof i.xE?e:i.xE.from(e,t))}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){let t=i.P6.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){let t=i.P6.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||i.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}constructor(e){super(),this._anchor=new i.AB(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new i.Il(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=i.T$.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||i.xE.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=o,this.pluginName="batch",this.isSprite=!0,this._roundPixels=i.Xd.ROUND_PIXELS}}},4914:function(e,t,r){r.d(t,{Xz:function(){return _}});var i=r(3072),n=r(819);class s{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class o{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){let t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let e in t){let i=t[e].match(/^[a-z]+/gm)[0],n=t[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(let e in n){let t=n[e].split("="),r=t[0],i=t[1].replace(/"/gm,""),o=parseFloat(i),a=isNaN(o)?i:o;s[r]=a}r[i].push(s)}let i=new s;return r.info.forEach(e=>i.info.push({face:e.face,size:parseInt(e.size,10)})),r.common.forEach(e=>i.common.push({lineHeight:parseInt(e.lineHeight,10)})),r.page.forEach(e=>i.page.push({id:parseInt(e.id,10),file:e.file})),r.char.forEach(e=>i.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})),r.kerning.forEach(e=>i.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})),r.distanceField.forEach(e=>i.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})),i}}class a{static test(e){return"string"!=typeof e&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){let t=new s,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let e=0;e<r.length;e++)t.info.push({face:r[e].getAttribute("face"),size:parseInt(r[e].getAttribute("size"),10)});for(let e=0;e<i.length;e++)t.common.push({lineHeight:parseInt(i[e].getAttribute("lineHeight"),10)});for(let e=0;e<n.length;e++)t.page.push({id:parseInt(n[e].getAttribute("id"),10)||0,file:n[e].getAttribute("file")});for(let e=0;e<o.length;e++){let r=o[e];t.char.push({id:parseInt(r.getAttribute("id"),10),page:parseInt(r.getAttribute("page"),10)||0,x:parseInt(r.getAttribute("x"),10),y:parseInt(r.getAttribute("y"),10),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10),xoffset:parseInt(r.getAttribute("xoffset"),10),yoffset:parseInt(r.getAttribute("yoffset"),10),xadvance:parseInt(r.getAttribute("xadvance"),10)})}for(let e=0;e<a.length;e++)t.kerning.push({first:parseInt(a[e].getAttribute("first"),10),second:parseInt(a[e].getAttribute("second"),10),amount:parseInt(a[e].getAttribute("amount"),10)});for(let e=0;e<l.length;e++)t.distanceField.push({fieldType:l[e].getAttribute("fieldType"),distanceRange:parseInt(l[e].getAttribute("distanceRange"),10)});return t}}class l{static test(e){return!!("string"==typeof e&&e.includes("<font>"))&&a.test(i.Xd.ADAPTER.parseXML(e))}static parse(e){return a.parse(i.Xd.ADAPTER.parseXML(e))}}let h=[o,a,l];function u(e){return Array.from?Array.from(e):e.split("")}function c(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}let d=class e{destroy(){for(let e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(let e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,r,n){let o;if(t instanceof s)o=t;else{let e=function(e){for(let t=0;t<h.length;t++)if(h[t].test(e))return h[t];return null}(t);if(!e)throw Error("Unrecognized data format for font.");o=e.parse(t)}r instanceof i.xE&&(r=[r]);let a=new e(o,r,n);return e.available[a.font]=a,a}static uninstall(t){let r=e.available[t];if(!r)throw Error("No font found named '".concat(t,"'"));r.destroy(),delete e.available[t]}static from(t,r,o){if(!t)throw Error("[BitmapFont] Property `name` is required.");let{chars:a,padding:l,resolution:h,textureWidth:d,textureHeight:p,...f}=Object.assign({},e.defaultOptions,o),m=function(e){"string"==typeof e&&(e=[e]);let t=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];if(Array.isArray(i)){if(2!==i.length)throw Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(i.length,"."));let e=i[0].charCodeAt(0),r=i[1].charCodeAt(0);if(r<e)throw Error("[BitmapFont]: Invalid character range.");for(let i=e;i<=r;i++)t.push(String.fromCharCode(i))}else t.push(...u(i))}if(0===t.length)throw Error("[BitmapFont]: Empty set when resolving characters.");return t}(a),g=r instanceof n.pn?r:new n.pn(r),v=new s;v.info[0]={face:g.fontFamily,size:g.fontSize},v.common[0]={lineHeight:g.fontSize};let y=0,_=0,x,b,w,E=0,T=[],A=[];for(let e=0;e<m.length;e++){x||((x=i.Xd.ADAPTER.createCanvas()).width=d,x.height=p,b=x.getContext("2d"),w=new i.VL(x,{resolution:h,...f}),T.push(w),A.push(new i.xE(w)),v.page.push({id:A.length-1,file:""}));let t=m[e],r=n._A.measureText(t,g,!1,x),s=r.width,o=Math.ceil(r.height),a=Math.ceil(("italic"===g.fontStyle?2:1)*s);if(_>=p-o*h){if(0===_)throw Error("[BitmapFont] textureHeight ".concat(p,"px is too small (fontFamily: '").concat(g.fontFamily,"', fontSize: ").concat(g.fontSize,"px, char: '").concat(t,"')"));--e,x=null,b=null,w=null,_=0,y=0,E=0;continue}if(E=Math.max(o+r.fontProperties.descent,E),a*h+y>=d){if(0===y)throw Error("[BitmapFont] textureWidth ".concat(d,"px is too small (fontFamily: '").concat(g.fontFamily,"', fontSize: ").concat(g.fontSize,"px, char: '").concat(t,"')"));--e,_+=E*h,_=Math.ceil(_),y=0,E=0;continue}!function(e,t,r,s,o,a,l){let h=r.text,u=r.fontProperties;t.translate(s,o),t.scale(a,a);let c=l.strokeThickness/2,d=-(l.strokeThickness/2);if(t.font=l.toFontString(),t.lineWidth=l.strokeThickness,t.textBaseline=l.textBaseline,t.lineJoin=l.lineJoin,t.miterLimit=l.miterLimit,t.fillStyle=function(e,t,r,i,s,o){let a;let l=r.fill;if(!Array.isArray(l))return l;if(1===l.length)return l[0];let h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=e.width/i-h-2*u,d=e.height/i-h-2*u,p=l.slice(),f=r.fillGradientStops.slice();if(!f.length){let e=p.length+1;for(let t=1;t<e;++t)f.push(t/e)}if(p.unshift(l[0]),f.unshift(0),p.push(l[l.length-1]),f.push(1),r.fillGradientType===n.M_.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,u,c/2,d+u);let e=0,i=(o.fontProperties.fontSize+r.strokeThickness)/d;for(let t=0;t<s.length;t++){let r=o.lineHeight*t;for(let t=0;t<p.length;t++){let n=Math.max(e,r/d+("number"==typeof f[t]?f[t]:t/p.length)*i);n=Math.min(n,1),a.addColorStop(n,p[t]),e=n}}}else{a=t.createLinearGradient(u,d/2,c+u,d/2);let e=p.length+1,r=1;for(let t=0;t<p.length;t++){let i;i="number"==typeof f[t]?f[t]:r/e,a.addColorStop(i,p[t]),r++}}return a}(e,t,l,a,[h],r),t.strokeStyle=l.stroke,l.dropShadow){let e=l.dropShadowColor,r=l.dropShadowBlur*a,n=l.dropShadowDistance*a;t.shadowColor=i.Il.shared.setValue(e).setAlpha(l.dropShadowAlpha).toRgbaString(),t.shadowBlur=r,t.shadowOffsetX=Math.cos(l.dropShadowAngle)*n,t.shadowOffsetY=Math.sin(l.dropShadowAngle)*n}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;l.stroke&&l.strokeThickness&&t.strokeText(h,c,d+r.lineHeight-u.descent),l.fill&&t.fillText(h,c,d+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}(x,b,r,y,_,h,g);let u=c(r.text);v.char.push({id:u,page:A.length-1,x:y/h,y:_/h,width:a,height:o,xoffset:0,yoffset:0,xadvance:s-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),y+=(a+2*l)*h,y=Math.ceil(y)}if(!(null==o?void 0:o.skipKerning))for(let e=0,t=m.length;e<t;e++){let r=m[e];for(let e=0;e<t;e++){let t=m[e],i=b.measureText(r).width,n=b.measureText(t).width,s=b.measureText(r+t).width-(i+n);s&&v.kerning.push({first:c(r),second:c(t),amount:s})}}let S=new e(v,A,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=S,S}constructor(e,t,r){var n,s;let[o]=e.info,[a]=e.common,[l]=e.page,[h]=e.distanceField,u=i.P6.getResolutionOfUrl(l.file),c={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/u,this.chars={},this.pageTextures=c;for(let r=0;r<e.page.length;r++){let{id:n,file:s}=e.page[r];c[n]=t instanceof Array?t[r]:t[s],(null==h?void 0:h.fieldType)&&"none"!==h.fieldType&&(c[n].baseTexture.alphaMode=i.iw.NO_PREMULTIPLIED_ALPHA,c[n].baseTexture.mipmap=i.KI.OFF)}for(let t=0;t<e.char.length;t++){let{id:r,page:n}=e.char[t],{x:s,y:o,width:a,height:l,xoffset:h,yoffset:d,xadvance:p}=e.char[t];s/=u,o/=u,a/=u,l/=u,h/=u,d/=u,p/=u;let f=new i.Ae(s+c[n].frame.x/u,o+c[n].frame.y/u,a,l);this.chars[r]={xOffset:h,yOffset:d,xAdvance:p,kerning:{},texture:new i.xE(c[n].baseTexture,f),page:n}}for(let t=0;t<e.kerning.length;t++){let{first:r,second:i,amount:n}=e.kerning[t];r/=u,i/=u,n/=u,this.chars[i]&&(this.chars[i].kerning[r]=n)}this.distanceFieldRange=null==h?void 0:h.distanceRange,this.distanceFieldType=null!==(s=null==h?void 0:null===(n=h.fieldType)||void 0===n?void 0:n.toLowerCase())&&void 0!==s?s:"none"}};d.ALPHA=[["a","z"],["A","Z"]," "],d.NUMERIC=[["0","9"]],d.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],d.ASCII=[[" ","~"]],d.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:d.ALPHANUMERIC},d.available={};var p=r(1373),f=r(502);let m=[],g=[],v=[],y=class e extends p.W2{updateText(){let e=d.available[this._fontName],t=this.fontSize,r=t/e.size,n=new i.E9,s=[],o=[],a=[],l=u(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),h=this._maxWidth*e.size/t,p="none"===e.distanceFieldType?m:g,y=null,_=0,x=0,b=0,w=-1,E=0,T=0,A=0,S=0;for(let t=0;t<l.length;t++){let r=l[t],u=c(r);if(/(?:\s)/.test(r)&&(w=t,E=_,S++),"\r"===r||"\n"===r){o.push(_),a.push(-1),x=Math.max(x,_),++b,++T,n.x=0,n.y+=e.lineHeight,y=null,S=0;continue}let d=e.chars[u];if(!d)continue;y&&d.kerning[y]&&(n.x+=d.kerning[y]);let p=v.pop()||{texture:i.xE.EMPTY,line:0,charCode:0,prevSpaces:0,position:new i.E9};p.texture=d.texture,p.line=b,p.charCode=u,p.position.x=Math.round(n.x+d.xOffset+this._letterSpacing/2),p.position.y=Math.round(n.y+d.yOffset),p.prevSpaces=S,s.push(p),_=p.position.x+Math.max(d.xAdvance-d.xOffset,d.texture.orig.width),n.x+=d.xAdvance+this._letterSpacing,A=Math.max(A,d.yOffset+d.texture.height),y=u,-1!==w&&h>0&&n.x>h&&(++T,i.P6.removeItems(s,1+w-T,1+t-w),t=w,w=-1,o.push(E),a.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,E),b++,n.x=0,n.y+=e.lineHeight,y=null,S=0)}let R=l[l.length-1];"\r"!==R&&"\n"!==R&&(/(?:\s)/.test(R)&&(_=E),o.push(_),x=Math.max(x,_),a.push(-1));let C=[];for(let e=0;e<=b;e++){let t=0;"right"===this._align?t=x-o[e]:"center"===this._align?t=(x-o[e])/2:"justify"===this._align&&(t=a[e]<0?0:(x-o[e])/a[e]),C.push(t)}let I=s.length,P={},M=[],D=this._activePagesMeshData;p.push(...D);for(let t=0;t<I;t++){let r=s[t].texture,n=r.baseTexture.uid;if(!P[n]){let t=p.pop();if(!t){let r,n;let s=new f.xc;"none"===e.distanceFieldType?(r=new f.rY(i.xE.EMPTY),n=i.T$.NORMAL):(r=new f.rY(i.xE.EMPTY,{program:i.$r.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),n=i.T$.NORMAL_NPM);let o=new f.Kj(s,r);o.blendMode=n,t={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:o,vertices:null,uvs:null,indices:null}}t.index=0,t.indexCount=0,t.vertexCount=0,t.uvsCount=0,t.total=0;let{_textureCache:s}=this;s[n]=s[n]||new i.xE(r.baseTexture),t.mesh.texture=s[n],t.mesh.tint=this._tintColor.value,M.push(t),P[n]=t}P[n].total++}for(let e=0;e<D.length;e++)M.includes(D[e])||this.removeChild(D[e].mesh);for(let e=0;e<M.length;e++)M[e].mesh.parent!==this&&this.addChild(M[e].mesh);for(let e in this._activePagesMeshData=M,P){var O;let t=P[e],r=t.total;if(!((null===(O=t.indices)||void 0===O?void 0:O.length)>6*r)||t.vertices.length<2*f.Kj.BATCHABLE_SIZE)t.vertices=new Float32Array(8*r),t.uvs=new Float32Array(8*r),t.indices=new Uint16Array(6*r);else{let e=t.total,r=t.vertices;for(let t=8*e;t<r.length;t++)r[t]=0}t.mesh.size=6*r}for(let e=0;e<I;e++){let t=s[e],i=t.position.x+C[t.line]*("justify"===this._align?t.prevSpaces:1);this._roundPixels&&(i=Math.round(i));let n=i*r,o=t.position.y*r,a=t.texture,l=P[a.baseTexture.uid],h=a.frame,u=a._uvs,c=l.index++;l.indices[6*c+0]=0+4*c,l.indices[6*c+1]=1+4*c,l.indices[6*c+2]=2+4*c,l.indices[6*c+3]=0+4*c,l.indices[6*c+4]=2+4*c,l.indices[6*c+5]=3+4*c,l.vertices[8*c+0]=n,l.vertices[8*c+1]=o,l.vertices[8*c+2]=n+h.width*r,l.vertices[8*c+3]=o,l.vertices[8*c+4]=n+h.width*r,l.vertices[8*c+5]=o+h.height*r,l.vertices[8*c+6]=n,l.vertices[8*c+7]=o+h.height*r,l.uvs[8*c+0]=u.x0,l.uvs[8*c+1]=u.y0,l.uvs[8*c+2]=u.x1,l.uvs[8*c+3]=u.y1,l.uvs[8*c+4]=u.x2,l.uvs[8*c+5]=u.y2,l.uvs[8*c+6]=u.x3,l.uvs[8*c+7]=u.y3}for(let t in this._textWidth=x*r,this._textHeight=(n.y+e.lineHeight)*r,P){let e=P[t];if(0!==this.anchor.x||0!==this.anchor.y){let t=0,r=this._textWidth*this.anchor.x,i=this._textHeight*this.anchor.y;for(let n=0;n<e.total;n++)e.vertices[t++]-=r,e.vertices[t++]-=i,e.vertices[t++]-=r,e.vertices[t++]-=i,e.vertices[t++]-=r,e.vertices[t++]-=i,e.vertices[t++]-=r,e.vertices[t++]-=i}this._maxLineHeight=A*r;let i=e.mesh.geometry.getBuffer("aVertexPosition"),n=e.mesh.geometry.getBuffer("aTextureCoord"),s=e.mesh.geometry.getIndex();i.data=e.vertices,n.data=e.uvs,s.data=e.indices,i.update(),n.update(),s.update()}for(let e=0;e<s.length;e++)v.push(s[e]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);let{distanceFieldRange:t,distanceFieldType:r,size:i}=d.available[this._fontName];if("none"!==r){let{a:r,b:n,c:s,d:o}=this.worldTransform,a=(Math.abs(Math.sqrt(r*r+n*n))+Math.abs(Math.sqrt(s*s+o*o)))/2,l=this.fontSize/i,h=e._view.resolution;for(let e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=a*t*l*h}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){let e=d.available[this._fontName];if(!e)throw Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!d.available[e])throw Error('Missing BitmapFont "'.concat(e,'"'));this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:d.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(null!=e?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){let{_textureCache:t}=this,r="none"===d.available[this._fontName].distanceFieldType?m:g;for(let e of(r.push(...this._activePagesMeshData),this._activePagesMeshData))this.removeChild(e.mesh);for(let e in this._activePagesMeshData=[],r.filter(e=>t[e.mesh.texture.baseTexture.uid]).forEach(e=>{e.mesh.texture=i.xE.EMPTY}),t)t[e].destroy(),delete t[e];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}constructor(t,r={}){super();let{align:n,tint:s,maxWidth:o,letterSpacing:a,fontName:l,fontSize:h}=Object.assign({},e.styleDefaults,r);if(!d.available[l])throw Error('Missing BitmapFont "'.concat(l,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new i.Il(s),this._font=void 0,this._fontName=l,this._fontSize=h,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new i.AB(()=>{this.dirty=!0},this,0,0),this._roundPixels=i.Xd.ROUND_PIXELS,this.dirty=!0,this._resolution=i.Xd.RESOLUTION,this._autoResolution=!0,this._textureCache={}}};y.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let _=y;var x=r(8398);let b=[".xml",".fnt"],w={extension:{type:i.nw.LoadParser,priority:x.Q2.Normal},name:"loadBitmapFont",test:e=>b.includes(i.P6.path.extname(e).toLowerCase()),testParse:async e=>o.test(e)||l.test(e),async parse(e,t,r){let n=o.test(e)?o.parse(e):l.parse(e),{src:s}=t,{page:a}=n,h=[];for(let e=0;e<a.length;++e){let t=a[e].file,r=i.P6.path.join(i.P6.path.dirname(s),t);r=(0,x.uz)(r,s),h.push(r)}let u=await r.load(h),c=h.map(e=>u[e]);return d.install(n,c,!0)},load:async(e,t)=>(await i.Xd.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};i.Rw.add(w)},819:function(e,t,r){r.d(t,{M_:function(){return n},xv:function(){return v},_A:function(){return h},pn:function(){return d}});var i,n=((i=n||{})[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i),s=r(3072),o=r(9169);let a={willReadFrequently:!0},l=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){let r=s.Xd.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}static measureText(t,r,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e._canvas;i=null!=i?i:r.wordWrap;let s=r.toFontString(),o=e.measureFont(s);0===o.fontSize&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);let l=n.getContext("2d",a);l.font=s;let h=(i?e.wordWrap(t,r,n):t).split(/(?:\r\n|\r|\n)/),u=Array(h.length),c=0;for(let t=0;t<h.length;t++){let i=e._measureText(h[t],r.letterSpacing,l);u[t]=i,c=Math.max(c,i)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);let p=r.lineHeight||o.fontSize+r.strokeThickness,f=Math.max(p,o.fontSize+2*r.strokeThickness)+r.leading+(h.length-1)*(p+r.leading);return r.dropShadow&&(f+=r.dropShadowDistance),new e(t,r,d,f,h,u,p+r.leading,c,o)}static _measureText(t,r,i){let n=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(i.letterSpacing="".concat(r,"px"),i.textLetterSpacing="".concat(r,"px"),n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(t).width;return s>0&&(n?s-=r:s+=(e.graphemeSegmenter(t).length-1)*r),s}static wordWrap(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas,n=i.getContext("2d",a),s=0,o="",l="",h=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=e.collapseSpaces(c),p=e.collapseNewlines(c),f=!d,m=r.wordWrapWidth+u,g=e.tokenize(t);for(let t=0;t<g.length;t++){let i=g[t];if(e.isNewline(i)){if(!p){l+=e.addLine(o),f=!d,o="",s=0;continue}i=" "}if(d){let t=e.isBreakingSpace(i),r=e.isBreakingSpace(o[o.length-1]);if(t&&r)continue}let a=e.getFromCache(i,u,h,n);if(a>m){if(""!==o&&(l+=e.addLine(o),o="",s=0),e.canBreakWords(i,r.breakWords)){let t=e.wordWrapSplit(i);for(let a=0;a<t.length;a++){let c=t[a],d=c,p=1;for(;t[a+p];){let n=t[a+p];if(e.canBreakChars(d,n,i,a,r.breakWords))break;c+=n,d=n,p++}a+=p-1;let g=e.getFromCache(c,u,h,n);g+s>m&&(l+=e.addLine(o),f=!1,o="",s=0),o+=c,s+=g}}else{o.length>0&&(l+=e.addLine(o),o="",s=0);let r=t===g.length-1;l+=e.addLine(i,!r),f=!1,o="",s=0}}else a+s>m&&(f=!1,l+=e.addLine(o),o="",s=0),(o.length>0||!e.isBreakingSpace(i)||f)&&(o+=i,s+=a)}return l+e.addLine(o,!1)}static addLine(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t=e.trimRight(t),t=r?"".concat(t,"\n"):t}static getFromCache(t,r,i,n){let s=i[t];return"number"!=typeof s&&(s=e._measureText(t,r,n)+r,i[t]=s),s}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let r=t.length-1;r>=0;r--){let i=t[r];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){let r=[],i="";if("string"!=typeof t)return r;for(let n=0;n<t.length;n++){let s=t[n],o=t[n+1];if(e.isBreakingSpace(s,o)||e.isNewline(s)){""!==i&&(r.push(i),i=""),r.push(s);continue}i+=s}return""!==i&&r.push(i),r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,i,n){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];let r={ascent:0,descent:0,fontSize:0},i=e._canvas,n=e._context;n.font=t;let s=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(n.measureText(s).width),a=Math.ceil(n.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*a);if(a=a*e.BASELINE_MULTIPLIER|0,0===o||0===l)return e._fonts[t]=r,r;i.width=o,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,o,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,a);let h=n.getImageData(0,0,o,l).data,u=h.length,c=4*o,d=0,p=0,f=!1;for(d=0;d<a;++d){for(let e=0;e<c;e+=4)if(255!==h[p+e]){f=!0;break}if(f)break;p+=c}for(r.ascent=a-d,p=u-c,f=!1,d=l;d>a;--d){for(let e=0;e<c;e+=4)if(255!==h[p+e]){f=!0;break}if(f)break;p-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r}static clearMetrics(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let r;try{var t;let i=new OffscreenCanvas(0,0);if(null===(t=i.getContext("2d",a))||void 0===t?void 0:t.measureText)return e.__canvas=i,i;r=s.Xd.ADAPTER.createCanvas()}catch(e){r=s.Xd.ADAPTER.createCanvas()}r.width=r.height=10,e.__canvas=r}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",a)),e.__context}constructor(e,t,r,i,n,s,o,a,l){this.text=e,this.style=t,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}};l.METRICS_STRING="|\xc9q\xc5",l.BASELINE_SYMBOL="M",l.BASELINE_MULTIPLIER=1.4,l.HEIGHT_MULTIPLIER=2,l.graphemeSegmenter=(()=>{var e;if("function"==typeof(null===(e=Intl)||void 0===e?void 0:e.Segmenter)){let e=new Intl.Segmenter;return t=>[...e.segment(t)].map(e=>e.segment)}return e=>[...e]})(),l.experimentalLetterSpacing=!1,l._fonts={},l._newlines=[10,13],l._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let h=l,u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],c=class e{clone(){let t={};return f(t,this,e.defaultStyle),new e(t)}reset(){f(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){let t=p(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){let t=p(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){let t=p(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){let e="number"==typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let e=t.length-1;e>=0;e--){let r=t[e].trim();/([\"\'])[^\'\"]+\1/.test(r)||u.includes(r)||(r='"'.concat(r,'"')),t[e]=r}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(e," ").concat(t.join(","))}constructor(e){this.styleID=0,this.reset(),f(this,e,e)}};c.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let d=c;function p(e){let t=s.Il.shared,r=e=>{let r=t.setValue(e);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(e)?e.map(r):r(e)}function f(e,t,r){for(let i in r)Array.isArray(t[i])?e[i]=t[i].slice():e[i]=t[i]}let m={texture:!0,children:!1,baseTexture:!0},g=class e extends o.j{static get experimentalLetterSpacing(){return h.experimentalLetterSpacing}static set experimentalLetterSpacing(e){s.P6.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),h.experimentalLetterSpacing=e}updateText(e){let t,r;let i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();let n=this.context,o=h.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,l=o.height,u=o.lines,c=o.lineHeight,d=o.lineWidths,p=o.maxLineWidth,f=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*i.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=i.strokeThickness,n.textBaseline=i.textBaseline,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit;let m=i.dropShadow?2:1;for(let e=0;e<m;++e){let a=i.dropShadow&&0===e,h=a?Math.ceil(Math.max(1,l)+2*i.padding):0,m=h*this._resolution;if(a){n.fillStyle="black",n.strokeStyle="black";let e=i.dropShadowColor,t=i.dropShadowBlur*this._resolution,r=i.dropShadowDistance*this._resolution;n.shadowColor=s.Il.shared.setValue(e).setAlpha(i.dropShadowAlpha).toRgbaString(),n.shadowBlur=t,n.shadowOffsetX=Math.cos(i.dropShadowAngle)*r,n.shadowOffsetY=Math.sin(i.dropShadowAngle)*r+m}else n.fillStyle=this._generateFillStyle(i,u,o),n.strokeStyle=i.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let g=(c-f.fontSize)/2;c-f.fontSize<0&&(g=0);for(let e=0;e<u.length;e++)t=i.strokeThickness/2,r=i.strokeThickness/2+e*c+f.ascent+g,"right"===i.align?t+=p-d[e]:"center"===i.align&&(t+=(p-d[e])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(u[e],t+i.padding,r+i.padding-h,!0),i.fill&&this.drawLetterSpacing(u[e],t+i.padding,r+i.padding-h)}this.updateTexture()}drawLetterSpacing(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this._style.letterSpacing,s=!1;if(h.experimentalLetterSpacingSupported&&(h.experimentalLetterSpacing?(this.context.letterSpacing="".concat(n,"px"),this.context.textLetterSpacing="".concat(n,"px"),s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===n||s){i?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let o=t,a=h.graphemeSegmenter(e),l=this.context.measureText(e).width,u=0;for(let e=0;e<a.length;++e){let t=a[e];i?this.context.strokeText(t,o,r):this.context.fillText(t,o,r);let s="";for(let t=e+1;t<a.length;++t)s+=a[t];o+=l-(u=this.context.measureText(s).width)+n,l=u}}updateTexture(){let e=this.canvas;if(this._style.trim){let t=s.P6.trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}let t=this._texture,r=this._style,i=r.trim?0:r.padding,n=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),n.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){let i;let s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];let o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-2*a,h=this.canvas.height/this._resolution-o-2*a,u=s.slice(),c=e.fillGradientStops.slice();if(!c.length){let e=u.length+1;for(let t=1;t<e;++t)c.push(t/e)}if(u.unshift(s[0]),c.unshift(0),u.push(s[s.length-1]),c.push(1),e.fillGradientType===n.LINEAR_VERTICAL){i=this.context.createLinearGradient(l/2,a,l/2,h+a);let n=r.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){let s=r.lineHeight*(e-1)+n,o=r.lineHeight*e,a=o;e>0&&s>o&&(a=(o+s)/2);let l=o+n,d=r.lineHeight*(e+1),p=l;e+1<t.length&&d<l&&(p=(l+d)/2);let f=(p-a)/h;for(let e=0;e<u.length;e++){let t=Math.min(1,Math.max(0,a/h+("number"==typeof c[e]?c[e]:e/u.length)*f));t=Number(t.toFixed(5)),i.addColorStop(t,u[e])}}}else{i=this.context.createLinearGradient(a,h/2,l+a,h/2);let e=u.length+1,t=1;for(let r=0;r<u.length;r++){let n;n="number"==typeof c[r]?c[r]:t/e,i.addColorStop(n,u[r]),t++}}return i}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},m,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);let t=s.P6.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);let t=s.P6.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){(e=e||{})instanceof d?this._style=e:this._style=new d(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(null!=e?e:""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}constructor(t,r,i){var n;let o=!1;i||(i=s.Xd.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;let a=s.xE.from(i);a.orig=new s.Ae,a.trim=new s.Ae,super(a),this._ownCanvas=o,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=null!==(n=e.defaultResolution)&&void 0!==n?n:s.Xd.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=r,this.localStyleID=-1}};g.defaultAutoResolution=!0;let v=g},4691:function(e,t,r){r.d(t,{vB:function(){return h},uF:function(){return o}});var i,n=r(5052),s=r(1798),o=((i=o||{})[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i);class a{match(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));let t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);let t=this.next;return this.next=e?null:t,this.previous=null,t}constructor(e,t=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=i}}let l=class e{_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NORMAL;return this._addListener(new a(e,t,r))}addOnce(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.NORMAL;return this._addListener(new a(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(r>this.lastTime){if((t=this.elapsedMS=r-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){let e=r-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=r-e%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;let i=this._head,n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){let r=Math.min(Math.max(0,Math.min(this.maxFPS,t))/1e3,e.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{let t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){let t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){let t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new a(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}};l.targetFPMS=.06;let h=l;Object.defineProperties(n.Xd,{TARGET_FPMS:{get:()=>h.targetFPMS,set(e){(0,s.deprecation)("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),h.targetFPMS=e}}});var u=r(3368);class c{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,o.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?h.shared:new h,e.autoStart&&this.start()}static destroy(){if(this._ticker){let e=this._ticker;this.ticker=null,e.destroy()}}}c.extension=u.n.Application,u.R.add(c)},1798:function(e,t,r){let i,n;r.r(t),r.d(t,{BaseTextureCache:function(){return j},BoundingBox:function(){return z},CanvasRenderTarget:function(){return K},DATA_URI:function(){return P},EventEmitter:function(){return o},ProgramCache:function(){return X},TextureCache:function(){return V},clearTextureCache:function(){return Z},correctBlendMode:function(){return S},createIndicesForQuads:function(){return M},decomposeDataUri:function(){return ee},deprecation:function(){return u},destroyTextureCache:function(){return Y},detectVideoAlphaMode:function(){return g},determineCrossOrigin:function(){return et},earcut:function(){return a},getBufferType:function(){return D},getCanvasBoundingBox:function(){return Q},getResolutionOfUrl:function(){return er},hex2rgb:function(){return b},hex2string:function(){return w},interleaveTypedArrays:function(){return L},isMobile:function(){return s.tq},isPow2:function(){return N},isWebGLSupported:function(){return _},log2:function(){return B},nextPow2:function(){return k},path:function(){return f},premultiplyBlendMode:function(){return A},premultiplyRgba:function(){return R},premultiplyTint:function(){return C},premultiplyTintToRgba:function(){return I},removeItems:function(){return F},rgb2hex:function(){return T},sayHello:function(){return y},sign:function(){return U},skipHello:function(){return v},string2hex:function(){return E},trimCanvas:function(){return J},uid:function(){return G},url:function(){return c}});var s=r(5052);s.Xd.RETINA_PREFIX=/@([0-9\.]+)x/,s.Xd.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var o=r(7374),a=r(6066),l=r(8126);let h={};function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(h[t])return;let i=Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(i))),h[t]=!0}let c={get parse(){return u("7.3.0","utils.url.parse is deprecated, use native URL API instead."),l.parse},get format(){return u("7.3.0","utils.url.format is deprecated, use native URL API instead."),l.format},get resolve(){return u("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),l.resolve}};function d(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function p(e){return e.split("?")[0].split("#")[0]}let f={toPosix:e=>e.replace(RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){d(e),e=this.toPosix(e);let t=/^file:\/\/\//.exec(e);if(t)return t[0];let r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(d(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;let i=p(this.toPosix(null!=t?t:s.Xd.ADAPTER.getBaseUrl())),n=p(this.toPosix(null!=r?r:this.rootname(i)));return(e=this.toPosix(e)).startsWith("/")?f.join(n,e.slice(1)):this.isAbsolute(e)?e:this.join(i,e)},normalize(e){if(d(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="",r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));let i=e.endsWith("/");return(e=function(e,t){let r="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(47===o)break;o=47}if(47===o){if(!(n===a-1||1===s)){if(n!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){let e=r.lastIndexOf("/");if(e!==r.length-1){-1===e?(r="",i=0):i=(r=r.slice(0,e)).length-1-r.lastIndexOf("/"),n=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,n=a,s=0;continue}}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/".concat(e.slice(n+1,a)):r=e.slice(n+1,a),i=a-n-1}n=a,s=0}else 46===o&&-1!==s?++s:s=-1}return r}(e,!1)).length>0&&i&&(e+="/"),r?"/".concat(e):t+e},isAbsolute(e){return d(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(){let e;for(var t,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];if(0===i.length)return".";for(let r=0;r<i.length;++r){let n=i[r];if(d(n),n.length>0){if(void 0===e)e=n;else{let s=null!==(t=i[r-1])&&void 0!==t?t:"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+="/../".concat(n):e+="/".concat(n)}}}return void 0===e?".":this.normalize(e)},dirname(e){if(d(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0),r=47===t,i=-1,n=!0,s=this.getProtocol(e),o=e;e=e.slice(s.length);for(let r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!n){i=r;break}}else n=!1;return -1===i?r?"/":this.isUrl(o)?s+e:s:r&&1===i?"//":s+e.slice(0,i)},rootname(e){d(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){let r=e.indexOf("/",t.length);(t=-1!==r?e.slice(0,r):e).endsWith("/")||(t+="/")}return t},basename(e,t){d(e),t&&d(t),e=p(this.toPosix(e));let r=0,i=-1,n=!0,s;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,a=-1;for(s=e.length-1;s>=0;--s){let l=e.charCodeAt(s);if(47===l){if(!n){r=s+1;break}}else -1===a&&(n=!1,a=s+1),o>=0&&(l===t.charCodeAt(o)?-1==--o&&(i=s):(o=-1,i=a))}return r===i?i=a:-1===i&&(i=e.length),e.slice(r,i)}for(s=e.length-1;s>=0;--s)if(47===e.charCodeAt(s)){if(!n){r=s+1;break}}else -1===i&&(n=!1,i=s+1);return -1===i?"":e.slice(r,i)},extname(e){d(e),e=p(this.toPosix(e));let t=-1,r=0,i=-1,n=!0,s=0;for(let o=e.length-1;o>=0;--o){let a=e.charCodeAt(o);if(47===a){if(!n){r=o+1;break}continue}-1===i&&(n=!1,i=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1)}return -1===t||-1===i||0===s||1===s&&t===i-1&&t===r+1?"":e.slice(t,i)},parse(e){let t;d(e);let r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;let i=(e=p(this.toPosix(e))).charCodeAt(0),n=this.isAbsolute(e);r.root=this.rootname(e),t=n||this.hasProtocol(e)?1:0;let s=-1,o=0,a=-1,l=!0,h=e.length-1,u=0;for(;h>=t;--h){if(47===(i=e.charCodeAt(h))){if(!l){o=h+1;break}continue}-1===a&&(l=!1,a=h+1),46===i?-1===s?s=h:1!==u&&(u=1):-1!==s&&(u=-1)}return -1===s||-1===a||0===u||1===u&&s===a-1&&s===o+1?-1!==a&&(0===o&&n?r.base=r.name=e.slice(1,a):r.base=r.name=e.slice(o,a)):(0===o&&n?(r.name=e.slice(1,s),r.base=e.slice(1,a)):(r.name=e.slice(o,s),r.base=e.slice(o,a)),r.ext=e.slice(s,a)),r.dir=this.dirname(e),r},sep:"/",delimiter:":",joinExtensions:[".html"]};var m=r(3527);async function g(){return null!=i||(i=(async()=>{var e;let t=document.createElement("canvas").getContext("webgl");if(!t)return m.iw.UNPACK;let r=await new Promise(e=>{let t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!r)return m.iw.UNPACK;let i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);let n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r);let s=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,s),t.deleteFramebuffer(n),t.deleteTexture(i),null===(e=t.getExtension("WEBGL_lose_context"))||void 0===e||e.loseContext(),s[0]<=s[3]?m.iw.PMA:m.iw.UNPACK})()),i}function v(){u("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function y(){u("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}function _(){return typeof n>"u"&&(n=function(){let e={stencil:!0,failIfMajorPerformanceCaveat:s.Xd.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var t;if(!s.Xd.ADAPTER.getWebGLRenderingContext())return!1;let r=s.Xd.ADAPTER.createCanvas(),i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),n=!!(null==i?void 0:null===(t=i.getContextAttributes())||void 0===t?void 0:t.stencil);if(i){let e=i.getExtension("WEBGL_lose_context");e&&e.loseContext()}return i=null,n}catch(e){return!1}}()),n}var x=r(9016);function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),x.I.shared.setValue(e).toRgbArray(t)}function w(e){return u("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),x.I.shared.setValue(e).toHex()}function E(e){return u("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),x.I.shared.setValue(e).toNumber()}function T(e){return u("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),x.I.shared.setValue(e).toNumber()}let A=function(){let e=[],t=[];for(let r=0;r<32;r++)e[r]=r,t[r]=r;e[m.T$.NORMAL_NPM]=m.T$.NORMAL,e[m.T$.ADD_NPM]=m.T$.ADD,e[m.T$.SCREEN_NPM]=m.T$.SCREEN,t[m.T$.NORMAL]=m.T$.NORMAL_NPM,t[m.T$.ADD]=m.T$.ADD_NPM,t[m.T$.SCREEN]=m.T$.SCREEN_NPM;let r=[];return r.push(t),r.push(e),r}();function S(e,t){return A[t?1:0][e]}function R(e,t,r){let i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return u("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),x.I.shared.setValue(e).premultiply(t,i).toArray(null!=r?r:new Float32Array(4))}function C(e,t){return u("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),x.I.shared.setValue(e).toPremultiplied(t)}function I(e,t,r){let i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return u("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),x.I.shared.setValue(e).premultiply(t,i).toArray(null!=r?r:new Float32Array(4))}let P=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(r));for(let e=0,i=0;e<r;e+=6,i+=4)t[e+0]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3;return t}function D(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}let O={Float32Array,Uint32Array,Int32Array,Uint8Array};function L(e,t){let r=0,i=0,n={};for(let n=0;n<e.length;n++)i+=t[n],r+=e[n].length;let s=new ArrayBuffer(4*r),o=null,a=0;for(let r=0;r<e.length;r++){let l=t[r],h=e[r],u=D(h);n[u]||(n[u]=new O[u](s)),o=n[u];for(let e=0;e<h.length;e++)o[(e/l|0)*i+a+e%l]=h[e];a+=l}return new Float32Array(s)}function k(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function N(e){return!(e&e-1)&&!!e}function B(e){let t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,(t|=r)|e>>1}function F(e,t,r){let i;let n=e.length;if(t>=n||0===r)return;r=t+r>n?n-t:r;let s=n-r;for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}function U(e){return 0===e?0:e<0?-1:1}let H=0;function G(){return++H}let W=class{get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}constructor(e,t,r,i){this.left=e,this.top=t,this.right=r,this.bottom=i}};W.EMPTY=new W(0,0,0,0);let z=W,X={},V=Object.create(null),j=Object.create(null);function Y(){let e;for(e in V)V[e].destroy();for(e in j)j[e].destroy()}function Z(){let e;for(e in V)delete V[e];for(e in j)delete j[e]}class K{clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw TypeError("The CanvasRenderTarget has already been destroyed")}constructor(e,t,r){this._canvas=s.Xd.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||s.Xd.RESOLUTION,this.resize(e,t)}}function q(e,t,r){for(let i=0,n=4*r*t;i<t;++i,n+=4)if(0!==e[n+3])return!1;return!0}function $(e,t,r,i,n){let s=4*t;for(let t=i,o=i*s+4*r;t<=n;++t,o+=s)if(0!==e[o+3])return!1;return!0}function Q(e){let{width:t,height:r}=e,i=e.getContext("2d",{willReadFrequently:!0});if(null===i)throw TypeError("Failed to get canvas 2D context");let n=i.getImageData(0,0,t,r).data,s=0,o=0,a=t-1,l=r-1;for(;o<r&&q(n,t,o);)++o;if(o===r)return z.EMPTY;for(;q(n,t,l);)--l;for(;$(n,t,s,o,l);)++s;for(;$(n,t,a,o,l);)--a;return new z(s,o,++a,++l)}function J(e){let t=Q(e),{width:r,height:i}=t,n=null;if(!t.isEmpty()){let s=e.getContext("2d");if(null===s)throw TypeError("Failed to get canvas 2D context");n=s.getImageData(t.left,t.top,r,i)}return{width:r,height:i,data:n}}function ee(e){let t=P.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t=t||globalThis.location;let r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}function er(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=null===(t=s.Xd.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return i?parseFloat(i[1]):r}},5081:function(e,t,r){r.d(t,{u:function(){return i}});function i(e,t){let[r,i]=t;return Math.min(i,Math.max(r,e))}},8281:function(e,t,r){r.d(t,{M:function(){return i}});function i(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(i){if(null==e||e(i),!1===r||!i.defaultPrevented)return null==t?void 0:t(i)}}},747:function(e,t,r){r.d(t,{aU:function(){return eu},$j:function(){return ec},VY:function(){return eh},dk:function(){return ep},aV:function(){return el},h_:function(){return ea},fC:function(){return es},Dx:function(){return ed},xz:function(){return eo}});var i=r(4646),n=r(4209),s=r(3905),o=r(7365),a=r(8281),l=r(2664),h=r(6911),u=r(1428),c=r(599),d=r(9303),p=r(9643),f=r(6166),m=r(594),g=r(609),v=r(1894),y=r(2957);let _="Dialog",[x,b]=(0,s.b)(_),[w,E]=x(_),T=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,l=E("DialogTrigger",r),h=(0,o.e)(t,l.triggerRef);return(0,n.createElement)(f.WV.button,(0,i.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":H(l.open)},s,{ref:h,onClick:(0,a.M)(e.onClick,l.onOpenToggle)}))}),A="DialogPortal",[S,R]=x(A,{forceMount:void 0}),C="DialogOverlay",I=(0,n.forwardRef)((e,t)=>{let r=R(C,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,a=E(C,e.__scopeDialog);return a.modal?(0,n.createElement)(p.z,{present:s||a.open},(0,n.createElement)(P,(0,i.Z)({},o,{ref:t}))):null}),P=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E(C,r);return(0,n.createElement)(g.Z,{as:y.g7,allowPinchZoom:!0,shards:[o.contentRef]},(0,n.createElement)(f.WV.div,(0,i.Z)({"data-state":H(o.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),M="DialogContent",D=(0,n.forwardRef)((e,t)=>{let r=R(M,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,a=E(M,e.__scopeDialog);return(0,n.createElement)(p.z,{present:s||a.open},a.modal?(0,n.createElement)(O,(0,i.Z)({},o,{ref:t})):(0,n.createElement)(L,(0,i.Z)({},o,{ref:t})))}),O=(0,n.forwardRef)((e,t)=>{let r=E(M,e.__scopeDialog),s=(0,n.useRef)(null),l=(0,o.e)(t,r.contentRef,s);return(0,n.useEffect)(()=>{let e=s.current;if(e)return(0,v.Ry)(e)},[]),(0,n.createElement)(k,(0,i.Z)({},e,{ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,a.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.M)(e.onFocusOutside,e=>e.preventDefault())}))}),L=(0,n.forwardRef)((e,t)=>{let r=E(M,e.__scopeDialog),s=(0,n.useRef)(!1),o=(0,n.useRef)(!1);return(0,n.createElement)(k,(0,i.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,n;null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented||(s.current||null===(n=r.triggerRef.current)||void 0===n||n.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{var i,n;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let a=t.target;(null===(n=r.triggerRef.current)||void 0===n?void 0:n.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),k=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...h}=e,d=E(M,r),p=(0,n.useRef)(null),f=(0,o.e)(t,p);return(0,m.EW)(),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l},(0,n.createElement)(u.XB,(0,i.Z)({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":H(d.open)},h,{ref:f,onDismiss:()=>d.onOpenChange(!1)}))),!1)}),N="DialogTitle",B=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E(N,r);return(0,n.createElement)(f.WV.h2,(0,i.Z)({id:o.titleId},s,{ref:t}))}),F=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E("DialogDescription",r);return(0,n.createElement)(f.WV.p,(0,i.Z)({id:o.descriptionId},s,{ref:t}))}),U=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E("DialogClose",r);return(0,n.createElement)(f.WV.button,(0,i.Z)({type:"button"},s,{ref:t,onClick:(0,a.M)(e.onClick,()=>o.onOpenChange(!1))}))});function H(e){return e?"open":"closed"}let[G,W]=(0,s.k)("DialogTitleWarning",{contentName:M,titleName:N,docsSlug:"dialog"}),z=e=>{let{__scopeDialog:t,children:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,u=(0,n.useRef)(null),c=(0,n.useRef)(null),[d=!1,p]=(0,h.T)({prop:i,defaultProp:s,onChange:o});return(0,n.createElement)(w,{scope:t,triggerRef:u,contentRef:c,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:d,onOpenChange:p,onOpenToggle:(0,n.useCallback)(()=>p(e=>!e),[p]),modal:a},r)},X=e=>{let{__scopeDialog:t,forceMount:r,children:i,container:s}=e,o=E(A,t);return(0,n.createElement)(S,{scope:t,forceMount:r},n.Children.map(i,e=>(0,n.createElement)(p.z,{present:r||o.open},(0,n.createElement)(d.h,{asChild:!0,container:s},e))))},[V,j]=(0,s.b)("AlertDialog",[b]),Y=b(),Z=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=Y(r);return(0,n.createElement)(T,(0,i.Z)({},o,s,{ref:t}))}),K=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=Y(r);return(0,n.createElement)(I,(0,i.Z)({},o,s,{ref:t}))}),q="AlertDialogContent",[$,Q]=V(q),J=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,children:s,...l}=e,h=Y(r),u=(0,n.useRef)(null),c=(0,o.e)(t,u),d=(0,n.useRef)(null);return(0,n.createElement)(G,{contentName:q,titleName:ee,docsSlug:"alert-dialog"},(0,n.createElement)($,{scope:r,cancelRef:d},(0,n.createElement)(D,(0,i.Z)({role:"alertdialog"},h,l,{ref:c,onOpenAutoFocus:(0,a.M)(l.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=d.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault()}),(0,n.createElement)(y.A4,null,s),!1)))}),ee="AlertDialogTitle",et=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=Y(r);return(0,n.createElement)(B,(0,i.Z)({},o,s,{ref:t}))}),er=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=Y(r);return(0,n.createElement)(F,(0,i.Z)({},o,s,{ref:t}))}),ei=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=Y(r);return(0,n.createElement)(U,(0,i.Z)({},o,s,{ref:t}))}),en=(0,n.forwardRef)((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=Q("AlertDialogCancel",r),l=Y(r),h=(0,o.e)(t,a);return(0,n.createElement)(U,(0,i.Z)({},l,s,{ref:h}))}),es=e=>{let{__scopeAlertDialog:t,...r}=e,s=Y(t);return(0,n.createElement)(z,(0,i.Z)({},s,r,{modal:!0}))},eo=Z,ea=e=>{let{__scopeAlertDialog:t,...r}=e,s=Y(t);return(0,n.createElement)(X,(0,i.Z)({},s,r))},el=K,eh=J,eu=ei,ec=en,ed=et,ep=er},7617:function(e,t,r){r.d(t,{f:function(){return o}});var i=r(4646),n=r(4209),s=r(6166);let o=(0,n.forwardRef)((e,t)=>{let{children:r,width:o=10,height:a=5,...l}=e;return(0,n.createElement)(s.WV.svg,(0,i.Z)({},l,{ref:t,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:(0,n.createElement)("polygon",{points:"0,0 30,0 15,10"}))})},7588:function(e,t,r){r.d(t,{B:function(){return a}});var i=r(4209),n=r(3905),s=r(7365),o=r(2957);function a(e){let t=e+"CollectionProvider",[r,a]=(0,n.b)(t),[l,h]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=e+"CollectionSlot",c=i.forwardRef((e,t)=>{let{scope:r,children:n}=e,a=h(u,r),l=(0,s.e)(t,a.collectionRef);return i.createElement(o.g7,{ref:l},n)}),d=e+"CollectionItemSlot",p="data-radix-collection-item";return[{Provider:e=>{let{scope:t,children:r}=e,n=i.useRef(null),s=i.useRef(new Map).current;return i.createElement(l,{scope:t,itemMap:s,collectionRef:n},r)},Slot:c,ItemSlot:i.forwardRef((e,t)=>{let{scope:r,children:n,...a}=e,l=i.useRef(null),u=(0,s.e)(t,l),c=h(d,r);return i.useEffect(()=>(c.itemMap.set(l,{ref:l,...a}),()=>void c.itemMap.delete(l))),i.createElement(o.g7,{[p]:"",ref:u},n)})},function(t){let r=h(e+"CollectionConsumer",t);return i.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}},7365:function(e,t,r){r.d(t,{F:function(){return n},e:function(){return s}});var i=r(4209);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.useCallback)(n(...t),t)}},3905:function(e,t,r){r.d(t,{b:function(){return s},k:function(){return n}});var i=r(4209);function n(e,t){let r=(0,i.createContext)(t);function n(e){let{children:t,...n}=e,s=(0,i.useMemo)(()=>n,Object.values(n));return(0,i.createElement)(r.Provider,{value:s},t)}return n.displayName=e+"Provider",[n,function(n){let s=(0,i.useContext)(r);if(s)return s;if(void 0!==t)return t;throw Error("`".concat(n,"` must be used within `").concat(e,"`"))}]}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=()=>{let t=r.map(e=>(0,i.createContext)(e));return function(r){let n=(null==r?void 0:r[e])||t;return(0,i.useMemo)(()=>({["__scope".concat(e)]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let s=(0,i.createContext)(n),o=r.length;function a(t){let{scope:r,children:n,...a}=t,l=(null==r?void 0:r[e][o])||s,h=(0,i.useMemo)(()=>a,Object.values(a));return(0,i.createElement)(l.Provider,{value:h},n)}return r=[...r,n],a.displayName=t+"Provider",[a,function(r,a){let l=(null==a?void 0:a[e][o])||s,h=(0,i.useContext)(l);if(h)return h;if(void 0!==n)return n;throw Error("`".concat(r,"` must be used within `").concat(t,"`"))}]},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=t[0];if(1===t.length)return n;let s=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let r=e.reduce((e,r)=>{let{useScope:i,scopeName:n}=r,s=i(t)["__scope".concat(n)];return{...e,...s}},{});return(0,i.useMemo)(()=>({["__scope".concat(n.scopeName)]:r}),[r])}};return s.scopeName=n.scopeName,s}(n,...t)]}},5566:function(e,t,r){r.d(t,{Dx:function(){return Z},VY:function(){return Y},aV:function(){return j},dk:function(){return K},fC:function(){return z},h_:function(){return V},x8:function(){return q},xz:function(){return X}});var i=r(4646),n=r(4209),s=r(8281),o=r(7365),a=r(3905),l=r(2664),h=r(6911),u=r(8156),c=r(6655),d=r(4252),p=r(9643),f=r(6166),m=r(594),g=r(609),v=r(1894),y=r(2957);let _="Dialog",[x,b]=(0,a.b)(_),[w,E]=x(_),T=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...a}=e,l=E("DialogTrigger",r),h=(0,o.e)(t,l.triggerRef);return(0,n.createElement)(f.WV.button,(0,i.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":H(l.open)},a,{ref:h,onClick:(0,s.M)(e.onClick,l.onOpenToggle)}))}),A="DialogPortal",[S,R]=x(A,{forceMount:void 0}),C="DialogOverlay",I=(0,n.forwardRef)((e,t)=>{let r=R(C,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,a=E(C,e.__scopeDialog);return a.modal?(0,n.createElement)(p.z,{present:s||a.open},(0,n.createElement)(P,(0,i.Z)({},o,{ref:t}))):null}),P=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E(C,r);return(0,n.createElement)(g.Z,{as:y.g7,allowPinchZoom:!0,shards:[o.contentRef]},(0,n.createElement)(f.WV.div,(0,i.Z)({"data-state":H(o.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),M="DialogContent",D=(0,n.forwardRef)((e,t)=>{let r=R(M,e.__scopeDialog),{forceMount:s=r.forceMount,...o}=e,a=E(M,e.__scopeDialog);return(0,n.createElement)(p.z,{present:s||a.open},a.modal?(0,n.createElement)(O,(0,i.Z)({},o,{ref:t})):(0,n.createElement)(L,(0,i.Z)({},o,{ref:t})))}),O=(0,n.forwardRef)((e,t)=>{let r=E(M,e.__scopeDialog),a=(0,n.useRef)(null),l=(0,o.e)(t,r.contentRef,a);return(0,n.useEffect)(()=>{let e=a.current;if(e)return(0,v.Ry)(e)},[]),(0,n.createElement)(k,(0,i.Z)({},e,{ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())}))}),L=(0,n.forwardRef)((e,t)=>{let r=E(M,e.__scopeDialog),s=(0,n.useRef)(!1),o=(0,n.useRef)(!1);return(0,n.createElement)(k,(0,i.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,n;null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented||(s.current||null===(n=r.triggerRef.current)||void 0===n||n.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{var i,n;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let a=t.target;(null===(n=r.triggerRef.current)||void 0===n?void 0:n.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),k=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...h}=e,d=E(M,r),p=(0,n.useRef)(null),f=(0,o.e)(t,p);return(0,m.EW)(),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l},(0,n.createElement)(u.XB,(0,i.Z)({role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":H(d.open)},h,{ref:f,onDismiss:()=>d.onOpenChange(!1)}))),!1)}),N="DialogTitle",B=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E(N,r);return(0,n.createElement)(f.WV.h2,(0,i.Z)({id:o.titleId},s,{ref:t}))}),F=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...s}=e,o=E("DialogDescription",r);return(0,n.createElement)(f.WV.p,(0,i.Z)({id:o.descriptionId},s,{ref:t}))}),U=(0,n.forwardRef)((e,t)=>{let{__scopeDialog:r,...o}=e,a=E("DialogClose",r);return(0,n.createElement)(f.WV.button,(0,i.Z)({type:"button"},o,{ref:t,onClick:(0,s.M)(e.onClick,()=>a.onOpenChange(!1))}))});function H(e){return e?"open":"closed"}let[G,W]=(0,a.k)("DialogTitleWarning",{contentName:M,titleName:N,docsSlug:"dialog"}),z=e=>{let{__scopeDialog:t,children:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,u=(0,n.useRef)(null),c=(0,n.useRef)(null),[d=!1,p]=(0,h.T)({prop:i,defaultProp:s,onChange:o});return(0,n.createElement)(w,{scope:t,triggerRef:u,contentRef:c,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:d,onOpenChange:p,onOpenToggle:(0,n.useCallback)(()=>p(e=>!e),[p]),modal:a},r)},X=T,V=e=>{let{__scopeDialog:t,forceMount:r,children:i,container:s}=e,o=E(A,t);return(0,n.createElement)(S,{scope:t,forceMount:r},n.Children.map(i,e=>(0,n.createElement)(p.z,{present:r||o.open},(0,n.createElement)(d.h,{asChild:!0,container:s},e))))},j=I,Y=D,Z=B,K=F,q=U},6997:function(e,t,r){r.d(t,{gm:function(){return s}});var i=r(4209);let n=(0,i.createContext)(void 0);function s(e){let t=(0,i.useContext)(n);return e||t||"ltr"}},8156:function(e,t,r){let i;r.d(t,{XB:function(){return p}});var n=r(4646),s=r(4209),o=r(8281),a=r(6166),l=r(7365),h=r(9938),u=r(7786);let c="dismissableLayer.update",d=(0,s.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p=(0,s.forwardRef)((e,t)=>{var r;let{disableOutsidePointerEvents:p=!1,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:_,onDismiss:x,...b}=e,w=(0,s.useContext)(d),[E,T]=(0,s.useState)(null),A=null!==(r=null==E?void 0:E.ownerDocument)&&void 0!==r?r:null==globalThis?void 0:globalThis.document,[,S]=(0,s.useState)({}),R=(0,l.e)(t,e=>T(e)),C=Array.from(w.layers),[I]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),P=C.indexOf(I),M=E?C.indexOf(E):-1,D=w.layersWithOutsidePointerEventsDisabled.size>0,O=M>=P,L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,h.W)(e),i=(0,s.useRef)(!1),n=(0,s.useRef)(()=>{});return(0,s.useEffect)(()=>{let e=e=>{if(e.target&&!i.current){let i={originalEvent:e};function s(){m("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",n.current),n.current=s,t.addEventListener("click",n.current,{once:!0})):s()}i.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...w.branches].some(e=>e.contains(t));!O||r||(null==v||v(e),null==_||_(e),e.defaultPrevented||null==x||x())},A),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,h.W)(e),i=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let e=e=>{e.target&&!i.current&&m("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;[...w.branches].some(e=>e.contains(t))||(null==y||y(e),null==_||_(e),e.defaultPrevented||null==x||x())},A);return(0,u.e)(e=>{M!==w.layers.size-1||(null==g||g(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))},A),(0,s.useEffect)(()=>{if(E)return p&&(0===w.layersWithOutsidePointerEventsDisabled.size&&(i=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(E)),w.layers.add(E),f(),()=>{p&&1===w.layersWithOutsidePointerEventsDisabled.size&&(A.body.style.pointerEvents=i)}},[E,A,p,w]),(0,s.useEffect)(()=>()=>{E&&(w.layers.delete(E),w.layersWithOutsidePointerEventsDisabled.delete(E),f())},[E,w]),(0,s.useEffect)(()=>{let e=()=>S({});return document.addEventListener(c,e),()=>document.removeEventListener(c,e)},[]),(0,s.createElement)(a.WV.div,(0,n.Z)({},b,{ref:R,style:{pointerEvents:D?O?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.M)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,o.M)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,o.M)(e.onPointerDownCapture,L.onPointerDownCapture)}))});function f(){let e=new CustomEvent(c);document.dispatchEvent(e)}function m(e,t,r,i){let{discrete:n}=i,s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?(0,a.jH)(s,o):s.dispatchEvent(o)}},1428:function(e,t,r){let i;r.d(t,{XB:function(){return p}});var n=r(4646),s=r(4209),o=r(8281),a=r(6166),l=r(7365),h=r(9938),u=r(7786);let c="dismissableLayer.update",d=(0,s.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p=(0,s.forwardRef)((e,t)=>{var r;let{disableOutsidePointerEvents:p=!1,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:_,onDismiss:x,...b}=e,w=(0,s.useContext)(d),[E,T]=(0,s.useState)(null),A=null!==(r=null==E?void 0:E.ownerDocument)&&void 0!==r?r:null==globalThis?void 0:globalThis.document,[,S]=(0,s.useState)({}),R=(0,l.e)(t,e=>T(e)),C=Array.from(w.layers),[I]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),P=C.indexOf(I),M=E?C.indexOf(E):-1,D=w.layersWithOutsidePointerEventsDisabled.size>0,O=M>=P,L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,h.W)(e),i=(0,s.useRef)(!1),n=(0,s.useRef)(()=>{});return(0,s.useEffect)(()=>{let e=e=>{if(e.target&&!i.current){let i={originalEvent:e};function s(){m("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",n.current),n.current=s,t.addEventListener("click",n.current,{once:!0})):s()}else t.removeEventListener("click",n.current);i.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}(e=>{let t=e.target,r=[...w.branches].some(e=>e.contains(t));!O||r||(null==v||v(e),null==_||_(e),e.defaultPrevented||null==x||x())},A),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,h.W)(e),i=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let e=e=>{e.target&&!i.current&&m("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}(e=>{let t=e.target;[...w.branches].some(e=>e.contains(t))||(null==y||y(e),null==_||_(e),e.defaultPrevented||null==x||x())},A);return(0,u.e)(e=>{M!==w.layers.size-1||(null==g||g(e),!e.defaultPrevented&&x&&(e.preventDefault(),x()))},A),(0,s.useEffect)(()=>{if(E)return p&&(0===w.layersWithOutsidePointerEventsDisabled.size&&(i=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(E)),w.layers.add(E),f(),()=>{p&&1===w.layersWithOutsidePointerEventsDisabled.size&&(A.body.style.pointerEvents=i)}},[E,A,p,w]),(0,s.useEffect)(()=>()=>{E&&(w.layers.delete(E),w.layersWithOutsidePointerEventsDisabled.delete(E),f())},[E,w]),(0,s.useEffect)(()=>{let e=()=>S({});return document.addEventListener(c,e),()=>document.removeEventListener(c,e)},[]),(0,s.createElement)(a.WV.div,(0,n.Z)({},b,{ref:R,style:{pointerEvents:D?O?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.M)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,o.M)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,o.M)(e.onPointerDownCapture,L.onPointerDownCapture)}))});function f(){let e=new CustomEvent(c);document.dispatchEvent(e)}function m(e,t,r,i){let{discrete:n}=i,s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?(0,a.jH)(s,o):s.dispatchEvent(o)}},594:function(e,t,r){r.d(t,{EW:function(){return s}});var i=r(4209);let n=0;function s(){(0,i.useEffect)(()=>{var e,t;let r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=r[0])&&void 0!==e?e:o()),document.body.insertAdjacentElement("beforeend",null!==(t=r[1])&&void 0!==t?t:o()),n++,()=>{1===n&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),n--}},[])}function o(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}},6655:function(e,t,r){let i;r.d(t,{M:function(){return d}});var n=r(4646),s=r(4209),o=r(7365),a=r(6166),l=r(9938);let h="focusScope.autoFocusOnMount",u="focusScope.autoFocusOnUnmount",c={bubbles:!1,cancelable:!0},d=(0,s.forwardRef)((e,t)=>{let{loop:r=!1,trapped:i=!1,onMountAutoFocus:d,onUnmountAutoFocus:v,...y}=e,[_,x]=(0,s.useState)(null),b=(0,l.W)(d),w=(0,l.W)(v),E=(0,s.useRef)(null),T=(0,o.e)(t,e=>x(e)),A=(0,s.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,s.useEffect)(()=>{if(i){function e(e){if(A.paused||!_)return;let t=e.target;_.contains(t)?E.current=t:m(E.current,{select:!0})}function t(e){if(A.paused||!_)return;let t=e.relatedTarget;null===t||_.contains(t)||m(E.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){let t=document.activeElement;for(let r of e)r.removedNodes.length>0&&!(null!=_&&_.contains(t))&&m(_)});return _&&r.observe(_,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,_,A.paused]),(0,s.useEffect)(()=>{if(_){g.add(A);let e=document.activeElement;if(!_.contains(e)){let t=new CustomEvent(h,c);_.addEventListener(h,b),_.dispatchEvent(t),t.defaultPrevented||(function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.activeElement;for(let i of e)if(m(i,{select:t}),document.activeElement!==r)return}(p(_).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&m(_))}return()=>{_.removeEventListener(h,b),setTimeout(()=>{let t=new CustomEvent(u,c);_.addEventListener(u,w),_.dispatchEvent(t),t.defaultPrevented||m(null!=e?e:document.body,{select:!0}),_.removeEventListener(u,w),g.remove(A)},0)}}},[_,b,w,A]);let S=(0,s.useCallback)(e=>{if(!r&&!i||A.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[i,s]=function(e){let t=p(e);return[f(t,e),f(t.reverse(),e)]}(t);i&&s?e.shiftKey||n!==s?e.shiftKey&&n===i&&(e.preventDefault(),r&&m(s,{select:!0})):(e.preventDefault(),r&&m(i,{select:!0})):n===t&&e.preventDefault()}},[r,i,A.paused]);return(0,s.createElement)(a.WV.div,(0,n.Z)({tabIndex:-1},y,{ref:T,onKeyDown:S}))});function p(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function f(e,t){for(let r of e)if(!function(e,t){let{upTo:r}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===r||e!==r);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function m(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){var r;let i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}let g=(i=[],{add(e){let t=i[0];e!==t&&(null==t||t.pause()),(i=v(i,e)).unshift(e)},remove(e){var t;null===(t=(i=v(i,e))[0])||void 0===t||t.resume()}});function v(e,t){let r=[...e],i=r.indexOf(t);return -1!==i&&r.splice(i,1),r}},599:function(e,t,r){let i;r.d(t,{M:function(){return d}});var n=r(4646),s=r(4209),o=r(7365),a=r(6166),l=r(9938);let h="focusScope.autoFocusOnMount",u="focusScope.autoFocusOnUnmount",c={bubbles:!1,cancelable:!0},d=(0,s.forwardRef)((e,t)=>{let{loop:r=!1,trapped:i=!1,onMountAutoFocus:d,onUnmountAutoFocus:v,...y}=e,[_,x]=(0,s.useState)(null),b=(0,l.W)(d),w=(0,l.W)(v),E=(0,s.useRef)(null),T=(0,o.e)(t,e=>x(e)),A=(0,s.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,s.useEffect)(()=>{if(i){function e(e){if(A.paused||!_)return;let t=e.target;_.contains(t)?E.current=t:m(E.current,{select:!0})}function t(e){if(A.paused||!_)return;let t=e.relatedTarget;null===t||_.contains(t)||m(E.current,{select:!0})}document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&m(_)});return _&&r.observe(_,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[i,_,A.paused]),(0,s.useEffect)(()=>{if(_){g.add(A);let e=document.activeElement;if(!_.contains(e)){let t=new CustomEvent(h,c);_.addEventListener(h,b),_.dispatchEvent(t),t.defaultPrevented||(function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.activeElement;for(let i of e)if(m(i,{select:t}),document.activeElement!==r)return}(p(_).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&m(_))}return()=>{_.removeEventListener(h,b),setTimeout(()=>{let t=new CustomEvent(u,c);_.addEventListener(u,w),_.dispatchEvent(t),t.defaultPrevented||m(null!=e?e:document.body,{select:!0}),_.removeEventListener(u,w),g.remove(A)},0)}}},[_,b,w,A]);let S=(0,s.useCallback)(e=>{if(!r&&!i||A.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[i,s]=function(e){let t=p(e);return[f(t,e),f(t.reverse(),e)]}(t);i&&s?e.shiftKey||n!==s?e.shiftKey&&n===i&&(e.preventDefault(),r&&m(s,{select:!0})):(e.preventDefault(),r&&m(i,{select:!0})):n===t&&e.preventDefault()}},[r,i,A.paused]);return(0,s.createElement)(a.WV.div,(0,n.Z)({tabIndex:-1},y,{ref:T,onKeyDown:S}))});function p(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function f(e,t){for(let r of e)if(!function(e,t){let{upTo:r}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===r||e!==r);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function m(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){var r;let i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}let g=(i=[],{add(e){let t=i[0];e!==t&&(null==t||t.pause()),(i=v(i,e)).unshift(e)},remove(e){var t;null===(t=(i=v(i,e))[0])||void 0===t||t.resume()}});function v(e,t){let r=[...e],i=r.indexOf(t);return -1!==i&&r.splice(i,1),r}},2664:function(e,t,r){r.d(t,{M:function(){return l}});var i,n=r(4209),s=r(6413);let o=(i||(i=r.t(n,2)))["useId".toString()]||(()=>void 0),a=0;function l(e){let[t,r]=n.useState(o());return(0,s.b)(()=>{e||r(e=>null!=e?e:String(a++))},[e]),e||(t?"radix-".concat(t):"")}},2037:function(e,t,r){r.d(t,{f:function(){return o}});var i=r(4646),n=r(4209),s=r(6166);let o=(0,n.forwardRef)((e,t)=>(0,n.createElement)(s.WV.label,(0,i.Z)({},e,{ref:t,onMouseDown:t=>{var r;null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}})))},1130:function(e,t,r){r.d(t,{VY:function(){return eo},h_:function(){return es},fC:function(){return ei},xz:function(){return en}});var i=r(4646),n=r(4209),s=r(8281),o=r(7365),a=r(3905),l=r(1428),h=r(594),u=r(599),c=r(2664),d=r(3535),p=r(776),f=r(7244),m=r(7617),g=r(6166),v=r(9938),y=r(6413),_=r(8604);let x="Popper",[b,w]=(0,a.b)(x),[E,T]=b(x),A=(0,n.forwardRef)((e,t)=>{let{__scopePopper:r,virtualRef:s,...a}=e,l=T("PopperAnchor",r),h=(0,n.useRef)(null),u=(0,o.e)(t,h);return(0,n.useEffect)(()=>{l.onAnchorChange((null==s?void 0:s.current)||h.current)}),s?null:(0,n.createElement)(g.WV.div,(0,i.Z)({},a,{ref:u}))}),S="PopperContent",[R,C]=b(S),I=(0,n.forwardRef)((e,t)=>{var r,s,a,l,h,u,c,m;let{__scopePopper:x,side:b="bottom",sideOffset:w=0,align:E="center",alignOffset:A=0,arrowPadding:C=0,avoidCollisions:I=!0,collisionBoundary:P=[],collisionPadding:L=0,sticky:k="partial",hideWhenDetached:N=!1,updatePositionStrategy:B="optimized",onPlaced:F,...U}=e,H=T(S,x),[G,W]=(0,n.useState)(null),z=(0,o.e)(t,e=>W(e)),[X,V]=(0,n.useState)(null),j=(0,_.t)(X),Y=null!==(r=null==j?void 0:j.width)&&void 0!==r?r:0,Z=null!==(s=null==j?void 0:j.height)&&void 0!==s?s:0,K="number"==typeof L?L:{top:0,right:0,bottom:0,left:0,...L},q=Array.isArray(P)?P:[P],$=q.length>0,Q={padding:K,boundary:q.filter(M),altBoundary:$},{refs:J,floatingStyles:ee,placement:et,isPositioned:er,middlewareData:ei}=(0,d.YF)({strategy:"fixed",placement:b+("center"!==E?"-"+E:""),whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,p.Me)(...t,{animationFrame:"always"===B})},elements:{reference:H.anchor},middleware:[(0,f.cv)({mainAxis:w+Z,alignmentAxis:A}),I&&(0,p.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===k?(0,p.dr)():void 0,...Q}),I&&(0,p.RR)({...Q}),(0,p.dp)({...Q,apply:e=>{let{elements:t,rects:r,availableWidth:i,availableHeight:n}=e,{width:s,height:o}=r.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width","".concat(i,"px")),a.setProperty("--radix-popper-available-height","".concat(n,"px")),a.setProperty("--radix-popper-anchor-width","".concat(s,"px")),a.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}}),X&&(0,d.x7)({element:X,padding:C}),D({arrowWidth:Y,arrowHeight:Z}),N&&(0,p.Cp)({strategy:"referenceHidden",...Q})]}),[en,es]=O(et),eo=(0,v.W)(F);(0,y.b)(()=>{er&&(null==eo||eo())},[er,eo]);let ea=null===(a=ei.arrow)||void 0===a?void 0:a.x,el=null===(l=ei.arrow)||void 0===l?void 0:l.y,eh=(null===(h=ei.arrow)||void 0===h?void 0:h.centerOffset)!==0,[eu,ec]=(0,n.useState)();return(0,y.b)(()=>{G&&ec(window.getComputedStyle(G).zIndex)},[G]),(0,n.createElement)("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:er?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[null===(u=ei.transformOrigin)||void 0===u?void 0:u.x,null===(c=ei.transformOrigin)||void 0===c?void 0:c.y].join(" ")},dir:e.dir},(0,n.createElement)(R,{scope:x,placedSide:en,onArrowChange:V,arrowX:ea,arrowY:el,shouldHideArrow:eh},(0,n.createElement)(g.WV.div,(0,i.Z)({"data-side":en,"data-align":es},U,{ref:z,style:{...U.style,animation:er?void 0:"none",opacity:null!==(m=ei.hide)&&void 0!==m&&m.referenceHidden?0:void 0}}))))}),P={top:"bottom",right:"left",bottom:"top",left:"right"};function M(e){return null!==e}let D=e=>({name:"transformOrigin",options:e,fn(t){var r,i,n,s,o;let{placement:a,rects:l,middlewareData:h}=t,u=(null===(r=h.arrow)||void 0===r?void 0:r.centerOffset)!==0,c=u?0:e.arrowWidth,d=u?0:e.arrowHeight,[p,f]=O(a),m={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(i=null===(n=h.arrow)||void 0===n?void 0:n.x)&&void 0!==i?i:0)+c/2,v=(null!==(s=null===(o=h.arrow)||void 0===o?void 0:o.y)&&void 0!==s?s:0)+d/2,y="",_="";return"bottom"===p?(y=u?m:"".concat(g,"px"),_="".concat(-d,"px")):"top"===p?(y=u?m:"".concat(g,"px"),_="".concat(l.floating.height+d,"px")):"right"===p?(y="".concat(-d,"px"),_=u?m:"".concat(v,"px")):"left"===p&&(y="".concat(l.floating.width+d,"px"),_=u?m:"".concat(v,"px")),{data:{x:y,y:_}}}});function O(e){let[t,r="center"]=e.split("-");return[t,r]}let L=e=>{let{__scopePopper:t,children:r}=e,[i,s]=(0,n.useState)(null);return(0,n.createElement)(E,{scope:t,anchor:i,onAnchorChange:s},r)};var k=r(9303),N=r(9643),B=r(2957),F=r(6911),U=r(1894),H=r(609);let G="Popover",[W,z]=(0,a.b)(G,[w]),X=w(),[V,j]=W(G),Y=(0,n.forwardRef)((e,t)=>{let{__scopePopover:r,...a}=e,l=j("PopoverTrigger",r),h=X(r),u=(0,o.e)(t,l.triggerRef),c=(0,n.createElement)(g.WV.button,(0,i.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":er(l.open)},a,{ref:u,onClick:(0,s.M)(e.onClick,l.onOpenToggle)}));return l.hasCustomAnchor?c:(0,n.createElement)(A,(0,i.Z)({asChild:!0},h),c)}),Z="PopoverPortal",[K,q]=W(Z,{forceMount:void 0}),$="PopoverContent",Q=(0,n.forwardRef)((e,t)=>{let r=q($,e.__scopePopover),{forceMount:s=r.forceMount,...o}=e,a=j($,e.__scopePopover);return(0,n.createElement)(N.z,{present:s||a.open},a.modal?(0,n.createElement)(J,(0,i.Z)({},o,{ref:t})):(0,n.createElement)(ee,(0,i.Z)({},o,{ref:t})))}),J=(0,n.forwardRef)((e,t)=>{let r=j($,e.__scopePopover),a=(0,n.useRef)(null),l=(0,o.e)(t,a),h=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e=a.current;if(e)return(0,U.Ry)(e)},[]),(0,n.createElement)(H.Z,{as:B.g7,allowPinchZoom:!0},(0,n.createElement)(et,(0,i.Z)({},e,{ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),h.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,i=2===t.button||r;h.current=i},{checkForDefaultPrevented:!1}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})))}),ee=(0,n.forwardRef)((e,t)=>{let r=j($,e.__scopePopover),s=(0,n.useRef)(!1),o=(0,n.useRef)(!1);return(0,n.createElement)(et,(0,i.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var i,n;null===(i=e.onCloseAutoFocus)||void 0===i||i.call(e,t),t.defaultPrevented||(s.current||null===(n=r.triggerRef.current)||void 0===n||n.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{var i,n;null===(i=e.onInteractOutside)||void 0===i||i.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let a=t.target;(null===(n=r.triggerRef.current)||void 0===n?void 0:n.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),et=(0,n.forwardRef)((e,t)=>{let{__scopePopover:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:m,...g}=e,v=j($,r),y=X(r);return(0,h.EW)(),(0,n.createElement)(u.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:a},(0,n.createElement)(l.XB,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1)},(0,n.createElement)(I,(0,i.Z)({"data-state":er(v.open),role:"dialog",id:v.contentId},y,g,{ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function er(e){return e?"open":"closed"}let ei=e=>{let{__scopePopover:t,children:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,l=X(t),h=(0,n.useRef)(null),[u,d]=(0,n.useState)(!1),[p=!1,f]=(0,F.T)({prop:i,defaultProp:s,onChange:o});return(0,n.createElement)(L,l,(0,n.createElement)(V,{scope:t,contentId:(0,c.M)(),triggerRef:h,open:p,onOpenChange:f,onOpenToggle:(0,n.useCallback)(()=>f(e=>!e),[f]),hasCustomAnchor:u,onCustomAnchorAdd:(0,n.useCallback)(()=>d(!0),[]),onCustomAnchorRemove:(0,n.useCallback)(()=>d(!1),[]),modal:a},r))},en=Y,es=e=>{let{__scopePopover:t,forceMount:r,children:i,container:s}=e,o=j(Z,t);return(0,n.createElement)(K,{scope:t,forceMount:r},(0,n.createElement)(N.z,{present:r||o.open},(0,n.createElement)(k.h,{asChild:!0,container:s},i)))},eo=Q},4252:function(e,t,r){r.d(t,{h:function(){return a}});var i=r(4646),n=r(4209),s=r(303),o=r(6166);let a=(0,n.forwardRef)((e,t)=>{var r;let{container:a=null==globalThis?void 0:null===(r=globalThis.document)||void 0===r?void 0:r.body,...l}=e;return a?s.createPortal((0,n.createElement)(o.WV.div,(0,i.Z)({},l,{ref:t})),a):null})},9303:function(e,t,r){r.d(t,{h:function(){return a}});var i=r(4646),n=r(4209),s=r(303),o=r(6166);let a=(0,n.forwardRef)((e,t)=>{var r;let{container:a=null==globalThis?void 0:null===(r=globalThis.document)||void 0===r?void 0:r.body,...l}=e;return a?s.createPortal((0,n.createElement)(o.WV.div,(0,i.Z)({},l,{ref:t})),a):null})},9643:function(e,t,r){r.d(t,{z:function(){return a}});var i=r(4209),n=r(303),s=r(7365),o=r(6413);let a=e=>{let{present:t,children:r}=e,a=function(e){var t,r;let[s,a]=(0,i.useState)(),h=(0,i.useRef)({}),u=(0,i.useRef)(e),c=(0,i.useRef)("none"),[d,p]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},(0,i.useReducer)((e,t)=>{let i=r[e][t];return null!=i?i:e},t));return(0,i.useEffect)(()=>{let e=l(h.current);c.current="mounted"===d?e:"none"},[d]),(0,o.b)(()=>{let t=h.current,r=u.current;if(r!==e){let i=c.current,n=l(t);e?p("MOUNT"):"none"===n||(null==t?void 0:t.display)==="none"?p("UNMOUNT"):r&&i!==n?p("ANIMATION_OUT"):p("UNMOUNT"),u.current=e}},[e,p]),(0,o.b)(()=>{if(s){let e=e=>{let t=l(h.current).includes(e.animationName);e.target===s&&t&&(0,n.flushSync)(()=>p("ANIMATION_END"))},t=e=>{e.target===s&&(c.current=l(h.current))};return s.addEventListener("animationstart",t),s.addEventListener("animationcancel",e),s.addEventListener("animationend",e),()=>{s.removeEventListener("animationstart",t),s.removeEventListener("animationcancel",e),s.removeEventListener("animationend",e)}}p("ANIMATION_END")},[s,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,i.useCallback)(e=>{e&&(h.current=getComputedStyle(e)),a(e)},[])}}(t),h="function"==typeof r?r({present:a.isPresent}):i.Children.only(r),u=(0,s.e)(a.ref,h.ref);return"function"==typeof r||a.isPresent?(0,i.cloneElement)(h,{ref:u}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}a.displayName="Presence"},6166:function(e,t,r){r.d(t,{WV:function(){return a},jH:function(){return l}});var i=r(4646),n=r(4209),s=r(303),o=r(2957);let a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=(0,n.forwardRef)((e,r)=>{let{asChild:s,...a}=e,l=s?o.g7:t;return(0,n.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,n.createElement)(l,(0,i.Z)({},a,{ref:r}))});return r.displayName="Primitive.".concat(t),{...e,[t]:r}},{});function l(e,t){e&&(0,s.flushSync)(()=>e.dispatchEvent(t))}},6324:function(e,t,r){r.d(t,{z$:function(){return ee},ck:function(){return J},fC:function(){return Q}});var i=r(4646),n=r(4209),s=r(8281),o=r(7365),a=r(3905),l=r(6166),h=r(7588),u=r(2664),c=r(9938),d=r(6911),p=r(6997);let f="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[v,y,_]=(0,h.B)(g),[x,b]=(0,a.b)(g,[_]),[w,E]=x(g),T=(0,n.forwardRef)((e,t)=>(0,n.createElement)(v.Provider,{scope:e.__scopeRovingFocusGroup},(0,n.createElement)(v.Slot,{scope:e.__scopeRovingFocusGroup},(0,n.createElement)(A,(0,i.Z)({},e,{ref:t}))))),A=(0,n.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:a,loop:h=!1,dir:u,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:_,onEntryFocus:x,...b}=e,E=(0,n.useRef)(null),T=(0,o.e)(t,E),A=(0,p.gm)(u),[S=null,R]=(0,d.T)({prop:g,defaultProp:v,onChange:_}),[I,P]=(0,n.useState)(!1),M=(0,c.W)(x),D=y(r),O=(0,n.useRef)(!1),[L,k]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=E.current;if(e)return e.addEventListener(f,M),()=>e.removeEventListener(f,M)},[M]),(0,n.createElement)(w,{scope:r,orientation:a,dir:A,loop:h,currentTabStopId:S,onItemFocus:(0,n.useCallback)(e=>R(e),[R]),onItemShiftTab:(0,n.useCallback)(()=>P(!0),[]),onFocusableItemAdd:(0,n.useCallback)(()=>k(e=>e+1),[]),onFocusableItemRemove:(0,n.useCallback)(()=>k(e=>e-1),[])},(0,n.createElement)(l.WV.div,(0,i.Z)({tabIndex:I||0===L?-1:0,"data-orientation":a},b,{ref:T,style:{outline:"none",...e.style},onMouseDown:(0,s.M)(e.onMouseDown,()=>{O.current=!0}),onFocus:(0,s.M)(e.onFocus,e=>{let t=!O.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(f,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=D().filter(e=>e.focusable);C([e.find(e=>e.active),e.find(e=>e.id===S),...e].filter(Boolean).map(e=>e.ref.current))}}O.current=!1}),onBlur:(0,s.M)(e.onBlur,()=>P(!1))})))}),S=(0,n.forwardRef)((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:o=!0,active:a=!1,tabStopId:h,...c}=e,d=(0,u.M)(),p=h||d,f=E("RovingFocusGroupItem",r),m=f.currentTabStopId===p,g=y(r),{onFocusableItemAdd:_,onFocusableItemRemove:x}=f;return(0,n.useEffect)(()=>{if(o)return _(),()=>x()},[o,_,x]),(0,n.createElement)(v.ItemSlot,{scope:r,id:p,focusable:o,active:a},(0,n.createElement)(l.WV.span,(0,i.Z)({tabIndex:m?0:-1,"data-orientation":f.orientation},c,{ref:t,onMouseDown:(0,s.M)(e.onMouseDown,e=>{o?f.onItemFocus(p):e.preventDefault()}),onFocus:(0,s.M)(e.onFocus,()=>f.onItemFocus(p)),onKeyDown:(0,s.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){f.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var i;let n=(i=e.key,"rtl"!==r?i:"ArrowLeft"===i?"ArrowRight":"ArrowRight"===i?"ArrowLeft":i);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return R[n]}(e,f.orientation,f.dir);if(void 0!==t){e.preventDefault();let n=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,i;"prev"===t&&n.reverse();let s=n.indexOf(e.currentTarget);n=f.loop?(r=n,i=s+1,r.map((e,t)=>r[(i+t)%r.length])):n.slice(s+1)}setTimeout(()=>C(n))}})})))}),R={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function C(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}var I=r(8604),P=r(9020),M=r(9643);let D="Radio",[O,L]=(0,a.b)(D),[k,N]=O(D),B=(0,n.forwardRef)((e,t)=>{let{__scopeRadio:r,name:a,checked:h=!1,required:u,disabled:c,value:d="on",onCheck:p,...f}=e,[m,g]=(0,n.useState)(null),v=(0,o.e)(t,e=>g(e)),y=(0,n.useRef)(!1),_=!m||!!m.closest("form");return(0,n.createElement)(k,{scope:r,checked:h,disabled:c},(0,n.createElement)(l.WV.button,(0,i.Z)({type:"button",role:"radio","aria-checked":h,"data-state":H(h),"data-disabled":c?"":void 0,disabled:c,value:d},f,{ref:v,onClick:(0,s.M)(e.onClick,e=>{h||null==p||p(),_&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})),_&&(0,n.createElement)(U,{control:m,bubbles:!y.current,name:a,value:d,checked:h,required:u,disabled:c,style:{transform:"translateX(-100%)"}}))}),F=(0,n.forwardRef)((e,t)=>{let{__scopeRadio:r,forceMount:s,...o}=e,a=N("RadioIndicator",r);return(0,n.createElement)(M.z,{present:s||a.checked},(0,n.createElement)(l.WV.span,(0,i.Z)({"data-state":H(a.checked),"data-disabled":a.disabled?"":void 0},o,{ref:t})))}),U=e=>{let{control:t,checked:r,bubbles:s=!0,...o}=e,a=(0,n.useRef)(null),l=(0,P.D)(r),h=(0,I.t)(t);return(0,n.useEffect)(()=>{let e=a.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let i=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(i)}},[l,r,s]),(0,n.createElement)("input",(0,i.Z)({type:"radio","aria-hidden":!0,defaultChecked:r},o,{tabIndex:-1,ref:a,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function H(e){return e?"checked":"unchecked"}let G=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W="RadioGroup",[z,X]=(0,a.b)(W,[b,L]),V=b(),j=L(),[Y,Z]=z(W),K=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,name:s,defaultValue:o,value:a,required:h=!1,disabled:u=!1,orientation:c,dir:f,loop:m=!0,onValueChange:g,...v}=e,y=V(r),_=(0,p.gm)(f),[x,b]=(0,d.T)({prop:a,defaultProp:o,onChange:g});return(0,n.createElement)(Y,{scope:r,name:s,required:h,disabled:u,value:x,onValueChange:b},(0,n.createElement)(T,(0,i.Z)({asChild:!0},y,{orientation:c,dir:_,loop:m}),(0,n.createElement)(l.WV.div,(0,i.Z)({role:"radiogroup","aria-required":h,"aria-orientation":c,"data-disabled":u?"":void 0,dir:_},v,{ref:t}))))}),q=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,disabled:a,...l}=e,h=Z("RadioGroupItem",r),u=h.disabled||a,c=V(r),d=j(r),p=(0,n.useRef)(null),f=(0,o.e)(t,p),m=h.value===l.value,g=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e=e=>{G.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,n.createElement)(S,(0,i.Z)({asChild:!0},c,{focusable:!u,active:m}),(0,n.createElement)(B,(0,i.Z)({disabled:u,required:h.required,checked:m},d,l,{name:h.name,ref:f,onCheck:()=>h.onValueChange(l.value),onKeyDown:(0,s.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,s.M)(l.onFocus,()=>{var e;g.current&&(null===(e=p.current)||void 0===e||e.click())})})))}),$=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,...s}=e,o=j(r);return(0,n.createElement)(F,(0,i.Z)({},o,s,{ref:t}))}),Q=K,J=q,ee=$},4834:function(e,t,r){r.d(t,{Ns:function(){return Z},fC:function(){return j},gb:function(){return w},l_:function(){return Y},q4:function(){return O}});var i=r(4646),n=r(4209),s=r(6166),o=r(9643),a=r(3905),l=r(7365),h=r(9938),u=r(6997),c=r(6413),d=r(5081),p=r(8281);let f="ScrollArea",[m,g]=(0,a.b)(f),[v,y]=m(f),_=(0,n.forwardRef)((e,t)=>{let{__scopeScrollArea:r,type:o="hover",dir:a,scrollHideDelay:h=600,...c}=e,[d,p]=(0,n.useState)(null),[f,m]=(0,n.useState)(null),[g,y]=(0,n.useState)(null),[_,x]=(0,n.useState)(null),[b,w]=(0,n.useState)(null),[E,T]=(0,n.useState)(0),[A,S]=(0,n.useState)(0),[R,C]=(0,n.useState)(!1),[I,P]=(0,n.useState)(!1),M=(0,l.e)(t,e=>p(e)),D=(0,u.gm)(a);return(0,n.createElement)(v,{scope:r,type:o,dir:D,scrollHideDelay:h,scrollArea:d,viewport:f,onViewportChange:m,content:g,onContentChange:y,scrollbarX:_,onScrollbarXChange:x,scrollbarXEnabled:R,onScrollbarXEnabledChange:C,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:I,onScrollbarYEnabledChange:P,onCornerWidthChange:T,onCornerHeightChange:S},(0,n.createElement)(s.WV.div,(0,i.Z)({dir:D},c,{ref:M,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})))}),x=(0,n.forwardRef)((e,t)=>{let{__scopeScrollArea:r,children:o,...a}=e,h=y("ScrollAreaViewport",r),u=(0,n.useRef)(null),c=(0,l.e)(t,u,h.onViewportChange);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,n.createElement)(s.WV.div,(0,i.Z)({"data-radix-scroll-area-viewport":""},a,{ref:c,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,n.createElement)("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"}},o)))}),b="ScrollAreaScrollbar",w=(0,n.forwardRef)((e,t)=>{let{forceMount:r,...s}=e,o=y(b,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,h="horizontal"===e.orientation;return(0,n.useEffect)(()=>(h?a(!0):l(!0),()=>{h?a(!1):l(!1)}),[h,a,l]),"hover"===o.type?(0,n.createElement)(E,(0,i.Z)({},s,{ref:t,forceMount:r})):"scroll"===o.type?(0,n.createElement)(T,(0,i.Z)({},s,{ref:t,forceMount:r})):"auto"===o.type?(0,n.createElement)(A,(0,i.Z)({},s,{ref:t,forceMount:r})):"always"===o.type?(0,n.createElement)(S,(0,i.Z)({},s,{ref:t})):null}),E=(0,n.forwardRef)((e,t)=>{let{forceMount:r,...s}=e,a=y(b,e.__scopeScrollArea),[l,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=a.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),h(!0)},i=()=>{t=window.setTimeout(()=>h(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",i),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",i)}}},[a.scrollArea,a.scrollHideDelay]),(0,n.createElement)(o.z,{present:r||l},(0,n.createElement)(A,(0,i.Z)({"data-state":l?"visible":"hidden"},s,{ref:t})))}),T=(0,n.forwardRef)((e,t)=>{var r;let{forceMount:s,...a}=e,l=y(b,e.__scopeScrollArea),h="horizontal"===e.orientation,u=X(()=>d("SCROLL_END"),100),[c,d]=(r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},(0,n.useReducer)((e,t)=>{let i=r[e][t];return null!=i?i:e},"hidden"));return(0,n.useEffect)(()=>{if("idle"===c){let e=window.setTimeout(()=>d("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(e)}},[c,l.scrollHideDelay,d]),(0,n.useEffect)(()=>{let e=l.viewport,t=h?"scrollLeft":"scrollTop";if(e){let r=e[t],i=()=>{let i=e[t];r!==i&&(d("SCROLL"),u()),r=i};return e.addEventListener("scroll",i),()=>e.removeEventListener("scroll",i)}},[l.viewport,h,d,u]),(0,n.createElement)(o.z,{present:s||"hidden"!==c},(0,n.createElement)(S,(0,i.Z)({"data-state":"hidden"===c?"hidden":"visible"},a,{ref:t,onPointerEnter:(0,p.M)(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:(0,p.M)(e.onPointerLeave,()=>d("POINTER_LEAVE"))})))}),A=(0,n.forwardRef)((e,t)=>{let r=y(b,e.__scopeScrollArea),{forceMount:s,...a}=e,[l,h]=(0,n.useState)(!1),u="horizontal"===e.orientation,c=X(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;h(u?e:t)}},10);return V(r.viewport,c),V(r.content,c),(0,n.createElement)(o.z,{present:s||l},(0,n.createElement)(S,(0,i.Z)({"data-state":l?"visible":"hidden"},a,{ref:t})))}),S=(0,n.forwardRef)((e,t)=>{let{orientation:r="vertical",...s}=e,o=y(b,e.__scopeScrollArea),a=(0,n.useRef)(null),l=(0,n.useRef)(0),[h,u]=(0,n.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=U(h.viewport,h.content),d={...s,sizes:h,onSizesChange:u,hasThumb:!!(c>0&&c<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function p(e,t){return function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr",n=H(r),s=t||n/2,o=r.scrollbar.paddingStart+s,a=r.scrollbar.size-r.scrollbar.paddingEnd-(n-s),l=r.content-r.viewport;return W([o,a],"ltr"===i?[0,l]:[-1*l,0])(e)}(e,l.current,h,t)}return"horizontal"===r?(0,n.createElement)(R,(0,i.Z)({},d,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){let e=G(o.viewport.scrollLeft,h,o.dir);a.current.style.transform="translate3d(".concat(e,"px, 0, 0)")}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollLeft=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollLeft=p(e,o.dir))}})):"vertical"===r?(0,n.createElement)(C,(0,i.Z)({},d,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){let e=G(o.viewport.scrollTop,h);a.current.style.transform="translate3d(0, ".concat(e,"px, 0)")}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollTop=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollTop=p(e))}})):null}),R=(0,n.forwardRef)((e,t)=>{let{sizes:r,onSizesChange:s,...o}=e,a=y(b,e.__scopeScrollArea),[h,u]=(0,n.useState)(),c=(0,n.useRef)(null),d=(0,l.e)(t,c,a.onScrollbarXChange);return(0,n.useEffect)(()=>{c.current&&u(getComputedStyle(c.current))},[c]),(0,n.createElement)(M,(0,i.Z)({"data-orientation":"horizontal"},o,{ref:d,sizes:r,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":H(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(a.viewport){let i=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(i),i>0&&i<r&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&h&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:F(h.paddingLeft),paddingEnd:F(h.paddingRight)}})}}))}),C=(0,n.forwardRef)((e,t)=>{let{sizes:r,onSizesChange:s,...o}=e,a=y(b,e.__scopeScrollArea),[h,u]=(0,n.useState)(),c=(0,n.useRef)(null),d=(0,l.e)(t,c,a.onScrollbarYChange);return(0,n.useEffect)(()=>{c.current&&u(getComputedStyle(c.current))},[c]),(0,n.createElement)(M,(0,i.Z)({"data-orientation":"vertical"},o,{ref:d,sizes:r,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":H(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(a.viewport){let i=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(i),i>0&&i<r&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&h&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:F(h.paddingTop),paddingEnd:F(h.paddingBottom)}})}}))}),[I,P]=m(b),M=(0,n.forwardRef)((e,t)=>{let{__scopeScrollArea:r,sizes:o,hasThumb:a,onThumbChange:u,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:g,onResize:v,..._}=e,x=y(b,r),[w,E]=(0,n.useState)(null),T=(0,l.e)(t,e=>E(e)),A=(0,n.useRef)(null),S=(0,n.useRef)(""),R=x.viewport,C=o.content-o.viewport,P=(0,h.W)(g),M=(0,h.W)(f),D=X(v,10);function O(e){A.current&&m({x:e.clientX-A.current.left,y:e.clientY-A.current.top})}return(0,n.useEffect)(()=>{let e=e=>{let t=e.target;(null==w?void 0:w.contains(t))&&P(e,C)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[R,w,C,P]),(0,n.useEffect)(M,[o,M]),V(w,D),V(x.content,D),(0,n.createElement)(I,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:(0,h.W)(u),onThumbPointerUp:(0,h.W)(c),onThumbPositionChange:M,onThumbPointerDown:(0,h.W)(d)},(0,n.createElement)(s.WV.div,(0,i.Z)({},_,{ref:T,style:{position:"absolute",..._.style},onPointerDown:(0,p.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),A.current=w.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),O(e))}),onPointerMove:(0,p.M)(e.onPointerMove,O),onPointerUp:(0,p.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=S.current,x.viewport&&(x.viewport.style.scrollBehavior=""),A.current=null})})))}),D="ScrollAreaThumb",O=(0,n.forwardRef)((e,t)=>{let{forceMount:r,...s}=e,a=P(D,e.__scopeScrollArea);return(0,n.createElement)(o.z,{present:r||a.hasThumb},(0,n.createElement)(L,(0,i.Z)({ref:t},s)))}),L=(0,n.forwardRef)((e,t)=>{let{__scopeScrollArea:r,style:o,...a}=e,h=y(D,r),u=P(D,r),{onThumbPositionChange:c}=u,d=(0,l.e)(t,e=>u.onThumbChange(e)),f=(0,n.useRef)(),m=X(()=>{f.current&&(f.current(),f.current=void 0)},100);return(0,n.useEffect)(()=>{let e=h.viewport;if(e){let t=()=>{if(m(),!f.current){let t=z(e,c);f.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[h.viewport,m,c]),(0,n.createElement)(s.WV.div,(0,i.Z)({"data-state":u.hasThumb?"visible":"hidden"},a,{ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,p.M)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top;u.onThumbPointerDown({x:r,y:i})}),onPointerUp:(0,p.M)(e.onPointerUp,u.onThumbPointerUp)}))}),k="ScrollAreaCorner",N=(0,n.forwardRef)((e,t)=>{let r=y(k,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&s?(0,n.createElement)(B,(0,i.Z)({},e,{ref:t})):null}),B=(0,n.forwardRef)((e,t)=>{let{__scopeScrollArea:r,...o}=e,a=y(k,r),[l,h]=(0,n.useState)(0),[u,c]=(0,n.useState)(0),d=!!(l&&u);return V(a.scrollbarX,()=>{var e;let t=(null===(e=a.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),c(t)}),V(a.scrollbarY,()=>{var e;let t=(null===(e=a.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),h(t)}),d?(0,n.createElement)(s.WV.div,(0,i.Z)({},o,{ref:t,style:{width:l,height:u,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}})):null});function F(e){return e?parseInt(e,10):0}function U(e,t){let r=e/t;return isNaN(r)?0:r}function H(e){let t=U(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function G(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",i=H(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-n,o=t.content-t.viewport,a=(0,d.u)(e,"ltr"===r?[0,o]:[-1*o,0]);return W([0,o],[0,s-i])(a)}function W(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}let z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},r={left:e.scrollLeft,top:e.scrollTop},i=0;return!function n(){let s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,a=r.top!==s.top;(o||a)&&t(),r=s,i=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(i)};function X(e,t){let r=(0,h.W)(e),i=(0,n.useRef)(0);return(0,n.useEffect)(()=>()=>window.clearTimeout(i.current),[]),(0,n.useCallback)(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,t)},[r,t])}function V(e,t){let r=(0,h.W)(t);(0,c.b)(()=>{let t=0;if(e){let i=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(t),i.unobserve(e)}}},[e,r])}let j=_,Y=x,Z=N},309:function(e,t,r){r.d(t,{VY:function(){return eU},ZA:function(){return eG},JO:function(){return eB},ck:function(){return ez},wU:function(){return eV},eT:function(){return eX},__:function(){return eW},h_:function(){return eF},fC:function(){return eL},Z0:function(){return ej},xz:function(){return ek},B4:function(){return eN},l_:function(){return eH}});var i=r(4646),n=r(4209),s=r(303),o=r(5081),a=r(8281),l=r(7588),h=r(7365),u=r(3905),c=r(6997),d=r(8156),p=r(594),f=r(6655),m=r(2664),g=r(3535),v=r(776),y=r(7244),_=r(7617),x=r(6166),b=r(9938),w=r(6413),E=r(8604);let T="Popper",[A,S]=(0,u.b)(T),[R,C]=A(T),I=(0,n.forwardRef)((e,t)=>{let{__scopePopper:r,virtualRef:s,...o}=e,a=C("PopperAnchor",r),l=(0,n.useRef)(null),u=(0,h.e)(t,l);return(0,n.useEffect)(()=>{a.onAnchorChange((null==s?void 0:s.current)||l.current)}),s?null:(0,n.createElement)(x.WV.div,(0,i.Z)({},o,{ref:u}))}),P="PopperContent",[M,D]=A(P),O=(0,n.forwardRef)((e,t)=>{var r,s,o,a,l,u,c,d;let{__scopePopper:p,side:f="bottom",sideOffset:m=0,align:_="center",alignOffset:T=0,arrowPadding:A=0,collisionBoundary:S=[],collisionPadding:R=0,sticky:I="partial",hideWhenDetached:D=!1,avoidCollisions:O=!0,onPlaced:L,...F}=e,U=C(P,p),[H,G]=(0,n.useState)(null),W=(0,h.e)(t,e=>G(e)),[z,X]=(0,n.useState)(null),V=(0,E.t)(z),j=null!==(r=null==V?void 0:V.width)&&void 0!==r?r:0,Y=null!==(s=null==V?void 0:V.height)&&void 0!==s?s:0,Z="number"==typeof R?R:{top:0,right:0,bottom:0,left:0,...R},K=Array.isArray(S)?S:[S],q=K.length>0,$={padding:Z,boundary:K.filter(k),altBoundary:q},{refs:Q,floatingStyles:J,placement:ee,isPositioned:et,middlewareData:er}=(0,g.YF)({strategy:"fixed",placement:f+("center"!==_?"-"+_:""),whileElementsMounted:v.Me,elements:{reference:U.anchor},middleware:[(0,y.cv)({mainAxis:m+Y,alignmentAxis:T}),O&&(0,v.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===I?(0,v.dr)():void 0,...$}),O&&(0,v.RR)({...$}),(0,v.dp)({...$,apply:e=>{let{elements:t,rects:r,availableWidth:i,availableHeight:n}=e,{width:s,height:o}=r.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width","".concat(i,"px")),a.setProperty("--radix-popper-available-height","".concat(n,"px")),a.setProperty("--radix-popper-anchor-width","".concat(s,"px")),a.setProperty("--radix-popper-anchor-height","".concat(o,"px"))}}),z&&(0,g.x7)({element:z,padding:A}),N({arrowWidth:j,arrowHeight:Y}),D&&(0,v.Cp)({strategy:"referenceHidden"})]}),[ei,en]=B(ee),es=(0,b.W)(L);(0,w.b)(()=>{et&&(null==es||es())},[et,es]);let eo=null===(o=er.arrow)||void 0===o?void 0:o.x,ea=null===(a=er.arrow)||void 0===a?void 0:a.y,el=(null===(l=er.arrow)||void 0===l?void 0:l.centerOffset)!==0,[eh,eu]=(0,n.useState)();return(0,w.b)(()=>{H&&eu(window.getComputedStyle(H).zIndex)},[H]),(0,n.createElement)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:et?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eh,"--radix-popper-transform-origin":[null===(u=er.transformOrigin)||void 0===u?void 0:u.x,null===(c=er.transformOrigin)||void 0===c?void 0:c.y].join(" ")},dir:e.dir},(0,n.createElement)(M,{scope:p,placedSide:ei,onArrowChange:X,arrowX:eo,arrowY:ea,shouldHideArrow:el},(0,n.createElement)(x.WV.div,(0,i.Z)({"data-side":ei,"data-align":en},F,{ref:W,style:{...F.style,animation:et?void 0:"none",opacity:null!==(d=er.hide)&&void 0!==d&&d.referenceHidden?0:void 0}}))))}),L={top:"bottom",right:"left",bottom:"top",left:"right"};function k(e){return null!==e}let N=e=>({name:"transformOrigin",options:e,fn(t){var r,i,n,s,o;let{placement:a,rects:l,middlewareData:h}=t,u=(null===(r=h.arrow)||void 0===r?void 0:r.centerOffset)!==0,c=u?0:e.arrowWidth,d=u?0:e.arrowHeight,[p,f]=B(a),m={start:"0%",center:"50%",end:"100%"}[f],g=(null!==(i=null===(n=h.arrow)||void 0===n?void 0:n.x)&&void 0!==i?i:0)+c/2,v=(null!==(s=null===(o=h.arrow)||void 0===o?void 0:o.y)&&void 0!==s?s:0)+d/2,y="",_="";return"bottom"===p?(y=u?m:"".concat(g,"px"),_="".concat(-d,"px")):"top"===p?(y=u?m:"".concat(g,"px"),_="".concat(l.floating.height+d,"px")):"right"===p?(y="".concat(-d,"px"),_=u?m:"".concat(v,"px")):"left"===p&&(y="".concat(l.floating.width+d,"px"),_=u?m:"".concat(v,"px")),{data:{x:y,y:_}}}});function B(e){let[t,r="center"]=e.split("-");return[t,r]}let F=e=>{let{__scopePopper:t,children:r}=e,[i,s]=(0,n.useState)(null);return(0,n.createElement)(R,{scope:t,anchor:i,onAnchorChange:s},r)};var U=r(4252),H=r(2957),G=r(6911),W=r(9020);let z=(0,n.forwardRef)((e,t)=>(0,n.createElement)(x.WV.span,(0,i.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var X=r(1894),V=r(609);let j=[" ","Enter","ArrowUp","ArrowDown"],Y=[" ","Enter"],Z="Select",[K,q,$]=(0,l.B)(Z),[Q,J]=(0,u.b)(Z,[$,S]),ee=S(),[et,er]=Q(Z),[ei,en]=Q(Z),es=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,disabled:s=!1,...o}=e,l=ee(r),u=er("SelectTrigger",r),c=u.disabled||s,d=(0,h.e)(t,u.onTriggerChange),p=q(r),[f,m,g]=eD(e=>{let t=p().filter(e=>!e.disabled),r=t.find(e=>e.value===u.value),i=eO(t,e,r);void 0!==i&&u.onValueChange(i.value)}),v=()=>{c||(u.onOpenChange(!0),g())};return(0,n.createElement)(I,(0,i.Z)({asChild:!0},l),(0,n.createElement)(x.WV.button,(0,i.Z)({type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":void 0===u.value?"":void 0},o,{ref:d,onClick:(0,a.M)(o.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,a.M)(o.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(v(),u.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,a.M)(o.onKeyDown,e=>{let t=""!==f.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),(!t||" "!==e.key)&&j.includes(e.key)&&(v(),e.preventDefault())})})))}),eo=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,className:s,style:o,children:a,placeholder:l,...u}=e,c=er("SelectValue",r),{onValueNodeHasChildrenChange:d}=c,p=void 0!==a,f=(0,h.e)(t,c.onValueNodeChange);return(0,w.b)(()=>{d(p)},[d,p]),(0,n.createElement)(x.WV.span,(0,i.Z)({},u,{ref:f,style:{pointerEvents:"none"}}),void 0===c.value&&void 0!==l?l:a)}),ea=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,children:s,...o}=e;return(0,n.createElement)(x.WV.span,(0,i.Z)({"aria-hidden":!0},o,{ref:t}),s||"▼")}),el="SelectContent",eh=(0,n.forwardRef)((e,t)=>{let r=er(el,e.__scopeSelect),[o,a]=(0,n.useState)();return((0,w.b)(()=>{a(new DocumentFragment)},[]),r.open)?(0,n.createElement)(ed,(0,i.Z)({},e,{ref:t})):o?(0,s.createPortal)((0,n.createElement)(eu,{scope:e.__scopeSelect},(0,n.createElement)(K.Slot,{scope:e.__scopeSelect},(0,n.createElement)("div",null,e.children))),o):null}),[eu,ec]=Q(el),ed=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:c,sideOffset:m,align:g,alignOffset:v,arrowPadding:y,collisionBoundary:_,collisionPadding:x,sticky:b,hideWhenDetached:w,avoidCollisions:E,...T}=e,A=er(el,r),[S,R]=(0,n.useState)(null),[C,I]=(0,n.useState)(null),P=(0,h.e)(t,e=>R(e)),[M,D]=(0,n.useState)(null),[O,L]=(0,n.useState)(null),k=q(r),[N,B]=(0,n.useState)(!1),F=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if(S)return(0,X.Ry)(S)},[S]),(0,p.EW)();let U=(0,n.useCallback)(e=>{let[t,...r]=k().map(e=>e.ref.current),[i]=r.slice(-1),n=document.activeElement;for(let r of e)if(r===n||(null==r||r.scrollIntoView({block:"nearest"}),r===t&&C&&(C.scrollTop=0),r===i&&C&&(C.scrollTop=C.scrollHeight),null==r||r.focus(),document.activeElement!==n))return},[k,C]),G=(0,n.useCallback)(()=>U([M,S]),[U,M,S]);(0,n.useEffect)(()=>{N&&G()},[N,G]);let{onOpenChange:W,triggerPointerDownPosRef:z}=A;(0,n.useEffect)(()=>{if(S){let e={x:0,y:0},t=t=>{var r,i,n,s;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(i=z.current)||void 0===i?void 0:i.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(n=null===(s=z.current)||void 0===s?void 0:s.y)&&void 0!==n?n:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():S.contains(r.target)||W(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[S,W,z]),(0,n.useEffect)(()=>{let e=()=>W(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[W]);let[j,Y]=eD(e=>{let t=k().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),i=eO(t,e,r);i&&setTimeout(()=>i.ref.current.focus())}),Z=(0,n.useCallback)((e,t,r)=>{let i=!F.current&&!r;(void 0!==A.value&&A.value===t||i)&&(D(e),i&&(F.current=!0))},[A.value]),K=(0,n.useCallback)(()=>null==S?void 0:S.focus(),[S]),$=(0,n.useCallback)((e,t,r)=>{let i=!F.current&&!r;(void 0!==A.value&&A.value===t||i)&&L(e)},[A.value]),Q="popper"===s?ef:ep;return(0,n.createElement)(eu,{scope:r,content:S,viewport:C,onViewportChange:I,itemRefCallback:Z,selectedItem:M,onItemLeave:K,itemTextRefCallback:$,focusSelectedItem:G,selectedItemText:O,position:s,isPositioned:N,searchRef:j},(0,n.createElement)(V.Z,{as:H.g7,allowPinchZoom:!0},(0,n.createElement)(f.M,{asChild:!0,trapped:A.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,a.M)(o,e=>{var t;null===(t=A.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()})},(0,n.createElement)(d.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>A.onOpenChange(!1)},(0,n.createElement)(Q,(0,i.Z)({role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:e=>e.preventDefault()},T,Q===ef?{side:c,sideOffset:m,align:g,alignOffset:v,arrowPadding:y,collisionBoundary:_,collisionPadding:x,sticky:b,hideWhenDetached:w,avoidCollisions:E}:{},{onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:(0,a.M)(T.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||Y(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=k().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,i=t.indexOf(r);t=t.slice(i+1)}setTimeout(()=>U(t)),e.preventDefault()}})}))))))}),ep=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,onPlaced:s,...a}=e,l=er(el,r),u=ec(el,r),[c,d]=(0,n.useState)(null),[p,f]=(0,n.useState)(null),m=(0,h.e)(t,e=>f(e)),g=q(r),v=(0,n.useRef)(!1),y=(0,n.useRef)(!0),{viewport:_,selectedItem:b,selectedItemText:E,focusSelectedItem:T}=u,A=(0,n.useCallback)(()=>{if(l.trigger&&l.valueNode&&c&&p&&_&&b&&E){let e=l.trigger.getBoundingClientRect(),t=p.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),i=E.getBoundingClientRect();if("rtl"!==l.dir){let n=i.left-t.left,s=r.left-n,a=e.left-s,l=e.width+a,h=Math.max(l,t.width),u=window.innerWidth-10,d=(0,o.u)(s,[10,u-h]);c.style.minWidth=l+"px",c.style.left=d+"px"}else{let n=t.right-i.right,s=window.innerWidth-r.right-n,a=window.innerWidth-e.right-s,l=e.width+a,h=Math.max(l,t.width),u=window.innerWidth-10,d=(0,o.u)(s,[10,u-h]);c.style.minWidth=l+"px",c.style.right=d+"px"}let n=g(),a=window.innerHeight-20,h=_.scrollHeight,u=window.getComputedStyle(p),d=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),m=parseInt(u.borderBottomWidth,10),y=d+f+h+parseInt(u.paddingBottom,10)+m,x=Math.min(5*b.offsetHeight,y),w=window.getComputedStyle(_),T=parseInt(w.paddingTop,10),A=parseInt(w.paddingBottom,10),S=e.top+e.height/2-10,R=b.offsetHeight/2,C=d+f+(b.offsetTop+R);if(C<=S){let e=b===n[n.length-1].ref.current;c.style.bottom="0px";let t=p.clientHeight-_.offsetTop-_.offsetHeight;c.style.height=C+Math.max(a-S,R+(e?A:0)+t+m)+"px"}else{let e=b===n[0].ref.current;c.style.top="0px";let t=Math.max(S,d+_.offsetTop+(e?T:0)+R);c.style.height=t+(y-C)+"px",_.scrollTop=C-S+_.offsetTop}c.style.margin="".concat(10,"px 0"),c.style.minHeight=x+"px",c.style.maxHeight=a+"px",null==s||s(),requestAnimationFrame(()=>v.current=!0)}},[g,l.trigger,l.valueNode,c,p,_,b,E,l.dir,s]);(0,w.b)(()=>A(),[A]);let[S,R]=(0,n.useState)();(0,w.b)(()=>{p&&R(window.getComputedStyle(p).zIndex)},[p]);let C=(0,n.useCallback)(e=>{e&&!0===y.current&&(A(),null==T||T(),y.current=!1)},[A,T]);return(0,n.createElement)(em,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:C},(0,n.createElement)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},(0,n.createElement)(x.WV.div,(0,i.Z)({},a,{ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),ef=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,align:s="start",collisionPadding:o=10,...a}=e,l=ee(r);return(0,n.createElement)(O,(0,i.Z)({},l,a,{ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[em,eg]=Q(el,{}),ev="SelectViewport",ey=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,...s}=e,o=ec(ev,r),l=eg(ev,r),u=(0,h.e)(t,o.onViewportChange),c=(0,n.useRef)(0);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,n.createElement)(K.Slot,{scope:r},(0,n.createElement)(x.WV.div,(0,i.Z)({"data-radix-select-viewport":"",role:"presentation"},s,{ref:u,style:{position:"relative",flex:1,overflow:"auto",...s.style},onScroll:(0,a.M)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:i}=l;if(null!=i&&i.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let i=window.innerHeight-20,n=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(n<i){let s=n+e,o=Math.min(i,s),a=s-o;r.style.height=o+"px","0px"===r.style.bottom&&(t.scrollTop=a>0?a:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})}))))}),[e_,ex]=Q("SelectGroup"),eb=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,...s}=e,o=(0,m.M)();return(0,n.createElement)(e_,{scope:r,id:o},(0,n.createElement)(x.WV.div,(0,i.Z)({role:"group","aria-labelledby":o},s,{ref:t})))}),ew=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,...s}=e,o=ex("SelectLabel",r);return(0,n.createElement)(x.WV.div,(0,i.Z)({id:o.id},s,{ref:t}))}),eE="SelectItem",[eT,eA]=Q(eE),eS=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,value:s,disabled:o=!1,textValue:l,...u}=e,c=er(eE,r),d=ec(eE,r),p=c.value===s,[f,g]=(0,n.useState)(null!=l?l:""),[v,y]=(0,n.useState)(!1),_=(0,h.e)(t,e=>{var t;return null===(t=d.itemRefCallback)||void 0===t?void 0:t.call(d,e,s,o)}),b=(0,m.M)(),w=()=>{o||(c.onValueChange(s),c.onOpenChange(!1))};return(0,n.createElement)(eT,{scope:r,value:s,disabled:o,textId:b,isSelected:p,onItemTextChange:(0,n.useCallback)(e=>{g(t=>{var r;return t||(null!==(r=null==e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[])},(0,n.createElement)(K.ItemSlot,{scope:r,value:s,disabled:o,textValue:f},(0,n.createElement)(x.WV.div,(0,i.Z)({role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1},u,{ref:_,onFocus:(0,a.M)(u.onFocus,()=>y(!0)),onBlur:(0,a.M)(u.onBlur,()=>y(!1)),onPointerUp:(0,a.M)(u.onPointerUp,w),onPointerMove:(0,a.M)(u.onPointerMove,e=>{if(o){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}else e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,a.M)(u.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null===(t=d.onItemLeave)||void 0===t||t.call(d)}}),onKeyDown:(0,a.M)(u.onKeyDown,e=>{var t;(null===(t=d.searchRef)||void 0===t?void 0:t.current)!==""&&" "===e.key||(Y.includes(e.key)&&w()," "===e.key&&e.preventDefault())})}))))}),eR="SelectItemText",eC=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,className:o,style:a,...l}=e,u=er(eR,r),c=ec(eR,r),d=eA(eR,r),p=en(eR,r),[f,m]=(0,n.useState)(null),g=(0,h.e)(t,e=>m(e),d.onItemTextChange,e=>{var t;return null===(t=c.itemTextRefCallback)||void 0===t?void 0:t.call(c,e,d.value,d.disabled)}),v=null==f?void 0:f.textContent,y=(0,n.useMemo)(()=>(0,n.createElement)("option",{key:d.value,value:d.value,disabled:d.disabled},v),[d.disabled,d.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:b}=p;return(0,w.b)(()=>(_(y),()=>b(y)),[_,b,y]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(x.WV.span,(0,i.Z)({id:d.textId},l,{ref:g})),d.isSelected&&u.valueNode&&!u.valueNodeHasChildren?(0,s.createPortal)(l.children,u.valueNode):null)}),eI=(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,...s}=e;return eA("SelectItemIndicator",r).isSelected?(0,n.createElement)(x.WV.span,(0,i.Z)({"aria-hidden":!0},s,{ref:t})):null}),eP=((e,t)=>{let{__scopeSelect:r,onAutoScroll:s,...o}=e,l=ec("SelectScrollButton",r),h=(0,n.useRef)(null),u=q(r),c=(0,n.useCallback)(()=>{null!==h.current&&(window.clearInterval(h.current),h.current=null)},[]);return(0,n.useEffect)(()=>()=>c(),[c]),(0,w.b)(()=>{var e;let t=u().find(e=>e.ref.current===document.activeElement);null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[u]),(0,n.createElement)(x.WV.div,(0,i.Z)({"aria-hidden":!0},o,{ref:t,style:{flexShrink:0,...o.style},onPointerDown:(0,a.M)(o.onPointerDown,()=>{null===h.current&&(h.current=window.setInterval(s,50))}),onPointerMove:(0,a.M)(o.onPointerMove,()=>{var e;null===(e=l.onItemLeave)||void 0===e||e.call(l),null===h.current&&(h.current=window.setInterval(s,50))}),onPointerLeave:(0,a.M)(o.onPointerLeave,()=>{c()})}))},(0,n.forwardRef)((e,t)=>{let{__scopeSelect:r,...s}=e;return(0,n.createElement)(x.WV.div,(0,i.Z)({"aria-hidden":!0},s,{ref:t}))})),eM=(0,n.forwardRef)((e,t)=>{let{value:r,...s}=e,o=(0,n.useRef)(null),a=(0,h.e)(t,o),l=(0,W.D)(r);return(0,n.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(l!==r&&t){let i=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(i)}},[l,r]),(0,n.createElement)(z,{asChild:!0},(0,n.createElement)("select",(0,i.Z)({},s,{ref:a,defaultValue:r})))});function eD(e){let t=(0,b.W)(e),r=(0,n.useRef)(""),i=(0,n.useRef)(0),s=(0,n.useCallback)(e=>{let n=r.current+e;t(n),function e(t){r.current=t,window.clearTimeout(i.current),""!==t&&(i.current=window.setTimeout(()=>e(""),1e3))}(n)},[t]),o=(0,n.useCallback)(()=>{r.current="",window.clearTimeout(i.current)},[]);return(0,n.useEffect)(()=>()=>window.clearTimeout(i.current),[]),[r,s,o]}function eO(e,t,r){var i;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(i=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(i+r)%e.length]));1===n.length&&(s=s.filter(e=>e!==r));let o=s.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}eM.displayName="BubbleSelect";let eL=e=>{let{__scopeSelect:t,children:r,open:i,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:h,dir:u,name:d,autoComplete:p,disabled:f,required:g}=e,v=ee(t),[y,_]=(0,n.useState)(null),[x,b]=(0,n.useState)(null),[w,E]=(0,n.useState)(!1),T=(0,c.gm)(u),[A=!1,S]=(0,G.T)({prop:i,defaultProp:s,onChange:o}),[R,C]=(0,G.T)({prop:a,defaultProp:l,onChange:h}),I=(0,n.useRef)(null),P=!y||!!y.closest("form"),[M,D]=(0,n.useState)(new Set),O=Array.from(M).map(e=>e.props.value).join(";");return(0,n.createElement)(F,v,(0,n.createElement)(et,{required:g,scope:t,trigger:y,onTriggerChange:_,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:E,contentId:(0,m.M)(),value:R,onValueChange:C,open:A,onOpenChange:S,dir:T,triggerPointerDownPosRef:I,disabled:f},(0,n.createElement)(K.Provider,{scope:t},(0,n.createElement)(ei,{scope:e.__scopeSelect,onNativeOptionAdd:(0,n.useCallback)(e=>{D(t=>new Set(t).add(e))},[]),onNativeOptionRemove:(0,n.useCallback)(e=>{D(t=>{let r=new Set(t);return r.delete(e),r})},[])},r)),P?(0,n.createElement)(eM,{key:O,"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:p,value:R,onChange:e=>C(e.target.value),disabled:f},void 0===R?(0,n.createElement)("option",{value:""}):null,Array.from(M)):null))},ek=es,eN=eo,eB=ea,eF=e=>(0,n.createElement)(U.h,(0,i.Z)({asChild:!0},e)),eU=eh,eH=ey,eG=eb,eW=ew,ez=eS,eX=eC,eV=eI,ej=eP},3753:function(e,t,r){r.d(t,{bU:function(){return X},e6:function(){return z},fC:function(){return G},fQ:function(){return W}});var i=r(4646),n=r(4209),s=r(5081),o=r(8281),a=r(7365),l=r(3905),h=r(6911),u=r(6997),c=r(9020),d=r(8604),p=r(6166),f=r(7588);let m=["PageUp","PageDown"],g=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},y="Slider",[_,x,b]=(0,f.B)(y),[w,E]=(0,l.b)(y,[b]),[T,A]=w(y),S=(0,n.forwardRef)((e,t)=>{let{name:r,min:l=0,max:u=100,step:c=1,orientation:d="horizontal",disabled:p=!1,minStepsBetweenThumbs:f=0,defaultValue:v=[l],value:y,onValueChange:x=()=>{},onValueCommit:b=()=>{},inverted:w=!1,...E}=e,[A,S]=(0,n.useState)(null),R=(0,a.e)(t,e=>S(e)),C=(0,n.useRef)(new Set),M=(0,n.useRef)(0),D="horizontal"===d,O=!A||!!A.closest("form"),[L=[],k]=(0,h.T)({prop:y,defaultProp:v,onChange:e=>{var t;null===(t=[...C.current][M.current])||void 0===t||t.focus(),x(e)}}),N=(0,n.useRef)(L);function B(e,t){let{commit:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1},i=(String(c).split(".")[1]||"").length,n=function(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-l)/c)*c+l,i),o=(0,s.u)(n,[l,u]);k(function(){var e,i;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=[...e];return i[r]=t,i.sort((e,t)=>e-t)}(n,o,t);if(e=s,!(!((i=f*c)>0)||Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=i))return n;{M.current=s.indexOf(o);let e=String(s)!==String(n);return e&&r&&b(s),e?s:n}})}return(0,n.createElement)(T,{scope:e.__scopeSlider,disabled:p,min:l,max:u,valueIndexToChangeRef:M,thumbs:C.current,values:L,orientation:d},(0,n.createElement)(_.Provider,{scope:e.__scopeSlider},(0,n.createElement)(_.Slot,{scope:e.__scopeSlider},(0,n.createElement)(D?I:P,(0,i.Z)({"aria-disabled":p,"data-disabled":p?"":void 0},E,{ref:R,onPointerDown:(0,o.M)(E.onPointerDown,()=>{p||(N.current=L)}),min:l,max:u,inverted:w,onSlideStart:p?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t));return r.indexOf(Math.min(...r))}(L,e);B(e,t)},onSlideMove:p?void 0:function(e){B(e,M.current)},onSlideEnd:p?void 0:function(){let e=N.current[M.current];L[M.current]!==e&&b(L)},onHomeKeyDown:()=>!p&&B(l,0,{commit:!0}),onEndKeyDown:()=>!p&&B(u,L.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!p){let e=m.includes(t.key)||t.shiftKey&&g.includes(t.key),i=M.current;B(L[i]+c*(e?10:1)*r,i,{commit:!0})}}})))),O&&L.map((e,t)=>(0,n.createElement)(F,{key:t,name:r?r+(L.length>1?"[]":""):void 0,value:e})))}),[R,C]=w(y,{startEdge:"left",endEdge:"right",size:"width",direction:1}),I=(0,n.forwardRef)((e,t)=>{let{min:r,max:s,dir:o,inverted:l,onSlideStart:h,onSlideMove:c,onSlideEnd:d,onStepKeyDown:p,...f}=e,[m,g]=(0,n.useState)(null),y=(0,a.e)(t,e=>g(e)),_=(0,n.useRef)(),x=(0,u.gm)(o),b="ltr"===x,w=b&&!l||!b&&l;function E(e){let t=_.current||m.getBoundingClientRect(),i=H([0,t.width],w?[r,s]:[s,r]);return _.current=t,i(e-t.left)}return(0,n.createElement)(R,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},(0,n.createElement)(M,(0,i.Z)({dir:x,"data-orientation":"horizontal"},f,{ref:y,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=E(e.clientX);null==h||h(t)},onSlideMove:e=>{let t=E(e.clientX);null==c||c(t)},onSlideEnd:()=>{_.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=v[w?"from-left":"from-right"].includes(e.key);null==p||p({event:e,direction:t?-1:1})}})))}),P=(0,n.forwardRef)((e,t)=>{let{min:r,max:s,inverted:o,onSlideStart:l,onSlideMove:h,onSlideEnd:u,onStepKeyDown:c,...d}=e,p=(0,n.useRef)(null),f=(0,a.e)(t,p),m=(0,n.useRef)(),g=!o;function y(e){let t=m.current||p.current.getBoundingClientRect(),i=H([0,t.height],g?[s,r]:[r,s]);return m.current=t,i(e-t.top)}return(0,n.createElement)(R,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1},(0,n.createElement)(M,(0,i.Z)({"data-orientation":"vertical"},d,{ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=y(e.clientY);null==l||l(t)},onSlideMove:e=>{let t=y(e.clientY);null==h||h(t)},onSlideEnd:()=>{m.current=void 0,null==u||u()},onStepKeyDown:e=>{let t=v[g?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))}),M=(0,n.forwardRef)((e,t)=>{let{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:h,onEndKeyDown:u,onStepKeyDown:c,...d}=e,f=A(y,r);return(0,n.createElement)(p.WV.span,(0,i.Z)({},d,{ref:t,onKeyDown:(0,o.M)(e.onKeyDown,e=>{"Home"===e.key?(h(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(g).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:(0,o.M)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),f.thumbs.has(t)?t.focus():s(e)}),onPointerMove:(0,o.M)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)}),onPointerUp:(0,o.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))})}))}),D=(0,n.forwardRef)((e,t)=>{let{__scopeSlider:r,...s}=e,o=A("SliderTrack",r);return(0,n.createElement)(p.WV.span,(0,i.Z)({"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation},s,{ref:t}))}),O="SliderRange",L=(0,n.forwardRef)((e,t)=>{let{__scopeSlider:r,...s}=e,o=A(O,r),l=C(O,r),h=(0,n.useRef)(null),u=(0,a.e)(t,h),c=o.values.length,d=o.values.map(e=>U(e,o.min,o.max));return(0,n.createElement)(p.WV.span,(0,i.Z)({"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0},s,{ref:u,style:{...e.style,[l.startEdge]:(c>1?Math.min(...d):0)+"%",[l.endEdge]:100-Math.max(...d)+"%"}}))}),k="SliderThumb",N=(0,n.forwardRef)((e,t)=>{let r=x(e.__scopeSlider),[s,o]=(0,n.useState)(null),l=(0,a.e)(t,e=>o(e)),h=(0,n.useMemo)(()=>s?r().findIndex(e=>e.ref.current===s):-1,[r,s]);return(0,n.createElement)(B,(0,i.Z)({},e,{ref:l,index:h}))}),B=(0,n.forwardRef)((e,t)=>{var r;let{__scopeSlider:s,index:l,...h}=e,u=A(k,s),c=C(k,s),[f,m]=(0,n.useState)(null),g=(0,a.e)(t,e=>m(e)),v=(0,d.t)(f),y=u.values[l],x=void 0===y?0:U(y,u.min,u.max),b=(r=u.values.length)>2?"Value ".concat(l+1," of ").concat(r):2===r?["Minimum","Maximum"][l]:void 0,w=null==v?void 0:v[c.size],E=w?function(e,t,r){let i=e/2,n=H([0,50],[0,i]);return(i-n(t)*r)*r}(w,x,c.direction):0;return(0,n.useEffect)(()=>{if(f)return u.thumbs.add(f),()=>{u.thumbs.delete(f)}},[f,u.thumbs]),(0,n.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:"calc(".concat(x,"% + ").concat(E,"px)")}},(0,n.createElement)(_.ItemSlot,{scope:e.__scopeSlider},(0,n.createElement)(p.WV.span,(0,i.Z)({role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":u.min,"aria-valuenow":y,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0},h,{ref:g,style:void 0===y?{display:"none"}:e.style,onFocus:(0,o.M)(e.onFocus,()=>{u.valueIndexToChangeRef.current=l})}))))}),F=e=>{let{value:t,...r}=e,s=(0,n.useRef)(null),o=(0,c.D)(t);return(0,n.useEffect)(()=>{let e=s.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(o!==t&&r){let i=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(i)}},[o,t]),(0,n.createElement)("input",(0,i.Z)({style:{display:"none"}},r,{ref:s,defaultValue:t}))};function U(e,t,r){return(0,s.u)(100/(r-t)*(e-t),[0,100])}function H(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}let G=S,W=D,z=L,X=N},2957:function(e,t,r){r.d(t,{A4:function(){return l},g7:function(){return o}});var i=r(4646),n=r(4209),s=r(7365);let o=(0,n.forwardRef)((e,t)=>{let{children:r,...s}=e,o=n.Children.toArray(r),l=o.find(h);if(l){let e=l.props.children,r=o.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null);return(0,n.createElement)(a,(0,i.Z)({},s,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(a,(0,i.Z)({},s,{ref:t}),r)});o.displayName="Slot";let a=(0,n.forwardRef)((e,t)=>{let{children:r,...i}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...function(e,t){let r={...t};for(let i in t){let n=e[i],s=t[i];/^on[A-Z]/.test(i)?n&&s?r[i]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s(...t),n(...t)}:n&&(r[i]=n):"style"===i?r[i]={...n,...s}:"className"===i&&(r[i]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props),ref:t?(0,s.F)(t,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null});a.displayName="SlotClone";let l=e=>{let{children:t}=e;return(0,n.createElement)(n.Fragment,null,t)};function h(e){return(0,n.isValidElement)(e)&&e.type===l}},6322:function(e,t,r){r.d(t,{bU:function(){return w},fC:function(){return b}});var i=r(4646),n=r(4209),s=r(8281),o=r(7365),a=r(3905),l=r(6911),h=r(9020),u=r(8604),c=r(6166);let d="Switch",[p,f]=(0,a.b)(d),[m,g]=p(d),v=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:r,name:a,checked:h,defaultChecked:u,required:d,disabled:p,value:f="on",onCheckedChange:g,...v}=e,[y,b]=(0,n.useState)(null),w=(0,o.e)(t,e=>b(e)),E=(0,n.useRef)(!1),T=!y||!!y.closest("form"),[A=!1,S]=(0,l.T)({prop:h,defaultProp:u,onChange:g});return(0,n.createElement)(m,{scope:r,checked:A,disabled:p},(0,n.createElement)(c.WV.button,(0,i.Z)({type:"button",role:"switch","aria-checked":A,"aria-required":d,"data-state":x(A),"data-disabled":p?"":void 0,disabled:p,value:f},v,{ref:w,onClick:(0,s.M)(e.onClick,e=>{S(e=>!e),T&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})})),T&&(0,n.createElement)(_,{control:y,bubbles:!E.current,name:a,value:f,checked:A,required:d,disabled:p,style:{transform:"translateX(-100%)"}}))}),y=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:r,...s}=e,o=g("SwitchThumb",r);return(0,n.createElement)(c.WV.span,(0,i.Z)({"data-state":x(o.checked),"data-disabled":o.disabled?"":void 0},s,{ref:t}))}),_=e=>{let{control:t,checked:r,bubbles:s=!0,...o}=e,a=(0,n.useRef)(null),l=(0,h.D)(r),c=(0,u.t)(t);return(0,n.useEffect)(()=>{let e=a.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let i=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(i)}},[l,r,s]),(0,n.createElement)("input",(0,i.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:r},o,{tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function x(e){return e?"checked":"unchecked"}let b=v,w=y},6263:function(e,t,r){r.d(t,{f:function(){return l}});var i=r(4646),n=r(4209),s=r(8281),o=r(6911),a=r(6166);let l=(0,n.forwardRef)((e,t)=>{let{pressed:r,defaultPressed:l=!1,onPressedChange:h,...u}=e,[c=!1,d]=(0,o.T)({prop:r,onChange:h,defaultProp:l});return(0,n.createElement)(a.WV.button,(0,i.Z)({type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":e.disabled?"":void 0},u,{ref:t,onClick:(0,s.M)(e.onClick,()=>{e.disabled||d(!c)})}))})},9938:function(e,t,r){r.d(t,{W:function(){return n}});var i=r(4209);function n(e){let t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current=e}),(0,i.useMemo)(()=>function(){for(var e,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];return null===(e=t.current)||void 0===e?void 0:e.call(t,...i)},[])}},6911:function(e,t,r){r.d(t,{T:function(){return s}});var i=r(4209),n=r(9938);function s(e){let{prop:t,defaultProp:r,onChange:s=()=>{}}=e,[o,a]=function(e){let{defaultProp:t,onChange:r}=e,s=(0,i.useState)(t),[o]=s,a=(0,i.useRef)(o),l=(0,n.W)(r);return(0,i.useEffect)(()=>{a.current!==o&&(l(o),a.current=o)},[o,a,l]),s}({defaultProp:r,onChange:s}),l=void 0!==t,h=l?t:o,u=(0,n.W)(s);return[h,(0,i.useCallback)(e=>{if(l){let r="function"==typeof e?e(t):e;r!==t&&u(r)}else a(e)},[l,t,a,u])]}},7786:function(e,t,r){r.d(t,{e:function(){return s}});var i=r(4209),n=r(9938);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document,r=(0,n.W)(e);(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[r,t])}},6413:function(e,t,r){r.d(t,{b:function(){return n}});var i=r(4209);let n=(null==globalThis?void 0:globalThis.document)?i.useLayoutEffect:()=>{}},9020:function(e,t,r){r.d(t,{D:function(){return n}});var i=r(4209);function n(e){let t=(0,i.useRef)({value:e,previous:e});return(0,i.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},8604:function(e,t,r){r.d(t,{t:function(){return s}});var i=r(4209),n=r(6413);function s(e){let[t,r]=(0,i.useState)(void 0);return(0,n.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let i,n;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,n=t.blockSize}else i=e.offsetWidth,n=e.offsetHeight;r({width:i,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},2210:function(e,t,r){r.d(t,{I$:function(){return s},NL:function(){return a}});let i=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch(e){return!1}return"showOpenFilePicker"in self})(),n=i?Promise.resolve().then(function(){return h}):Promise.resolve().then(function(){return f});async function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(await n).default(...t)}i?Promise.resolve().then(function(){return d}):Promise.resolve().then(function(){return m});let o=i?Promise.resolve().then(function(){return p}):Promise.resolve().then(function(){return g});async function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(await o).default(...t)}let l=async e=>{let t=await e.getFile();return t.handle=e,t};var h={__proto__:null,default:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];Array.isArray(e)||(e=[e]);let t=[];e.forEach((e,r)=>{t[r]={description:e.description||"Files",accept:{}},e.mimeTypes?e.mimeTypes.map(i=>{t[r].accept[i]=e.extensions||[]}):t[r].accept["*/*"]=e.extensions||[]});let r=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),i=await Promise.all(r.map(l));return e[0].multiple?i:i[0]}};function u(e){function t(e){if(Object(e)!==e)return Promise.reject(TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return(u=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new u(e)}let c=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.name,i=arguments.length>3?arguments[3]:void 0,n=[],s=[];var o,a=!1,l=!1;try{for(var h,d=function(e){var t,r,i,n=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,i=Symbol.iterator);n--;){if(r&&null!=(t=e[r]))return t.call(e);if(i&&null!=(t=e[i]))return new u(t.call(e));r="@@asyncIterator",i="@@iterator"}throw TypeError("Object is not async iterable")}(e.values());a=!(h=await d.next()).done;a=!1){let o=h.value,a="".concat(r,"/").concat(o.name);"file"===o.kind?s.push(o.getFile().then(t=>(t.directoryHandle=e,t.handle=o,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>a})))):"directory"!==o.kind||!t||i&&i(o)||n.push(c(o,t,a,i))}}catch(e){l=!0,o=e}finally{try{a&&null!=d.return&&await d.return()}finally{if(l)throw o}}return[...(await Promise.all(n)).flat(),...await Promise.all(s)]};var d={__proto__:null,default:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.recursive=e.recursive||!1,e.mode=e.mode||"read";let t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await (await t.values()).next()).done?[t]:c(t,e.recursive,void 0,e.skipDirectory)}},p={__proto__:null,default:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[{}],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";let s=[],o=null;if(e instanceof Blob&&e.type?o=e.type:e.headers&&e.headers.get("content-type")&&(o=e.headers.get("content-type")),t.forEach((e,t)=>{s[t]={description:e.description||"Files",accept:{}},e.mimeTypes?(0===t&&o&&e.mimeTypes.push(o),e.mimeTypes.map(r=>{s[t].accept[r]=e.extensions||[]})):o?s[t].accept[o]=e.extensions||[]:s[t].accept["*/*"]=e.extensions||[]}),r)try{await r.getFile()}catch(e){if(r=null,i)throw e}let a=r||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:s,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!r&&n&&n(a);let l=await a.createWritable();if("stream"in e){let t=e.stream();return await t.pipeTo(l),a}return"body"in e?await e.body.pipeTo(l):(await l.write(await e),await l.close()),a}},f={__proto__:null,default:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return Array.isArray(e)||(e=[e]),new Promise((t,r)=>{let i=document.createElement("input");i.type="file";let n=[...e.map(e=>e.mimeTypes||[]),...e.map(e=>e.extensions||[])].join();i.multiple=e[0].multiple||!1,i.accept=n||"",i.style.display="none",document.body.append(i);let s=e=>{"function"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(s,()=>o(r),i),a=()=>{window.removeEventListener("focus",a),i.remove()};i.addEventListener("click",()=>{window.addEventListener("focus",a)}),i.addEventListener("change",()=>{window.removeEventListener("focus",a),i.remove(),s(i.multiple?Array.from(i.files):i.files[0])}),"showPicker"in HTMLInputElement.prototype?i.showPicker():i.click()})}},m={__proto__:null,default:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,r)=>{let i=document.createElement("input");i.type="file",i.webkitdirectory=!0;let n=e=>{"function"==typeof s&&s(),t(e)},s=e[0].legacySetup&&e[0].legacySetup(n,()=>s(r),i);i.addEventListener("change",()=>{let t=Array.from(i.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter(t=>t.webkitRelativePath.split("/").every(t=>!e[0].skipDirectory({name:t,kind:"directory"})))):t=t.filter(e=>2===e.webkitRelativePath.split("/").length),n(t)}),"showPicker"in HTMLInputElement.prototype?i.showPicker():i.click()})}},g={__proto__:null,default:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t)&&(t=t[0]);let r=document.createElement("a"),i=e;"body"in e&&(i=await async function(e,t){let r=e.getReader(),i=new ReadableStream({start:e=>(async function t(){return r.read().then(r=>{let{done:i,value:n}=r;if(!i)return e.enqueue(n),t();e.close()})})()}),n=new Response(i),s=await n.blob();return r.releaseLock(),new Blob([s],{type:t})}(e.body,e.headers.get("content-type"))),r.download=t.fileName||"Untitled",r.href=URL.createObjectURL(await i);let n=()=>{"function"==typeof s&&s()},s=t.legacySetup&&t.legacySetup(n,()=>s(),r);return r.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(r.href),3e4),n()}),r.click(),null}}},8011:function(e,t,r){r.d(t,{j:function(){return s}});let i=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,n=function(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(i=e(t[r]))&&(n&&(n+=" "),n+=i);else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(i&&(i+=" "),i+=t);return i},s=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let s=i(t)||i(n);return o[e][s]}),h=r&&Object.entries(r).reduce((e,t)=>{let[r,i]=t;return void 0===i||(e[r]=i),e},{});return n(e,l,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:i,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...h}[t]):({...a,...h})[t]===r})?[...e,r,i]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},7072:function(e,t,r){r.d(t,{W:function(){return i}});function i(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(i=e(t[r]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i)}return n}(e))&&(i&&(i+=" "),i+=t);return i}},786:function(e,t,r){r.d(t,{Z:function(){return o}});var i=r(4209),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var o=(e,t)=>{let r=(0,i.forwardRef)((r,o)=>{let{color:a="currentColor",size:l=24,strokeWidth:h=2,absoluteStrokeWidth:u,children:c,...d}=r;return(0,i.createElement)("svg",{ref:o,...n,width:l,height:l,stroke:a,strokeWidth:u?24*Number(h)/Number(l):h,className:"lucide lucide-".concat(s(e)),...d},[...t.map(e=>{let[t,r]=e;return(0,i.createElement)(t,r)}),...(Array.isArray(c)?c:[c])||[]])});return r.displayName="".concat(e),r}},4031:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9740:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},1371:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]])},117:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},9688:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5939:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6183:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},5250:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("CornerRightDown",[["polyline",{points:"10 15 15 20 20 15",key:"axus6l"}],["path",{d:"M4 4h7a4 4 0 0 1 4 4v12",key:"wcbgct"}]])},4219:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]])},6671:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]])},1011:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},1032:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},8423:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2152:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},1572:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7270:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]])},2967:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("MoveDiagonal",[["polyline",{points:"13 5 19 5 19 11",key:"11219e"}],["polyline",{points:"11 19 5 19 5 13",key:"sfq3wq"}],["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}]])},5065:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]])},9837:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]])},5296:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},5627:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]])},4247:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},8399:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},1787:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8313:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]])},5119:function(e,t,r){r.d(t,{Z:function(){return i}});let i=(0,r(786).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1809:function(e,t,r){r.d(t,{l_:function(){return G}});var i=r(3072),n=r(1373),s=Object.defineProperty,o=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t,r)=>(o(e,"symbol"!=typeof t?t+"":t,r),r);class l{destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}constructor(e){a(this,"parent"),a(this,"paused"),this.parent=e,this.paused=!1}}var h="u">typeof globalThis?globalThis:window,u={exports:{}};!function(e,t){(function(){var t,r;r=t={linear:function(e,t,r,i){return r*e/i+t},easeInQuad:function(e,t,r,i){return r*(e/=i)*e+t},easeOutQuad:function(e,t,r,i){return-r*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,r,i){return r*(e/=i)*e*e+t},easeOutCubic:function(e,t,r,i){return r*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,r,i){return r*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,r,i){return-r*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,r,i){return r*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,r,i){return r*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+t},easeOutSine:function(e,t,r,i){return r*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,r,i){return-r/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,r,i){return 0===e?t:r*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,r,i){return e===i?t+r:r*(-Math.pow(2,-10*e/i)+1)+t},easeInOutExpo:function(e,t,r,i){return(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,r,i){return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,r,i){var n,s,o;return o=1.70158,s=0,n=r,0===e||(e/=i),s||(s=.3*i),n<Math.abs(r)?(n=r,o=s/4):o=s/(2*Math.PI)*Math.asin(r/n),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e*i-o)/s))+t},easeOutElastic:function(e,t,r,i){var n,s,o;return o=1.70158,s=0,n=r,0===e||(e/=i),s||(s=.3*i),n<Math.abs(r)?(n=r,o=s/4):o=s/(2*Math.PI)*Math.asin(r/n),n*Math.pow(2,-10*e)*Math.sin(2*Math.PI*(e*i-o)/s)+r+t},easeInOutElastic:function(e,t,r,i){var n,s,o;return o=1.70158,s=0,n=r,0===e||(e/=i/2),s||(s=.3*1.5*i),n<Math.abs(r)?(n=r,o=s/4):o=s/(2*Math.PI)*Math.asin(r/n),e<1?-(n*Math.pow(2,10*(e-=1))*Math.sin(2*Math.PI*(e*i-o)/s)*.5)+t:n*Math.pow(2,-10*(e-=1))*Math.sin(2*Math.PI*(e*i-o)/s)*.5+r+t},easeInBack:function(e,t,r,i,n){return void 0===n&&(n=1.70158),r*(e/=i)*e*((n+1)*e-n)+t},easeOutBack:function(e,t,r,i,n){return void 0===n&&(n=1.70158),r*((e=e/i-1)*e*((n+1)*e+n)+1)+t},easeInOutBack:function(e,t,r,i,n){return void 0===n&&(n=1.70158),(e/=i/2)<1?r/2*(e*e*(((n*=1.525)+1)*e-n))+t:r/2*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)+t},easeInBounce:function(e,r,i,n){var s;return s=t.easeOutBounce(n-e,0,i,n),i-s+r},easeOutBounce:function(e,t,r,i){return(e/=i)<1/2.75?7.5625*e*e*r+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,r,i,n){return e<n/2?.5*t.easeInBounce(2*e,0,i,n)+r:.5*t.easeOutBounce(2*e-n,0,i,n)+.5*i+r}},e.exports=r}).call(h)}(u);let c=u.exports;function d(e,t){return e?"function"==typeof e?e:"string"==typeof e?c[e]:void 0:c[t]}let p={removeOnInterrupt:!1,ease:"linear",time:1e3};class f extends l{setupPosition(){"u">typeof this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,"u">typeof this.options.scale?this.width=this.parent.screenWidth/this.options.scale:"u">typeof this.options.scaleX||"u">typeof this.options.scaleY?("u">typeof this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),"u">typeof this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):("u">typeof this.options.width&&(this.width=this.options.width),"u">typeof this.options.height&&(this.height=this.options.height)),null!==this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;let t=new i.E9(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){let e=this.parent.width,r=this.parent.height;this.complete(),(e!==this.parent.width||r!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"})}else{let e=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width){let t=this.startWidth,r=this.deltaWidth;this.parent.fitWidth(t+r*e,this.keepCenter,null===this.height)}if(null!==this.height){let t=this.startHeight,r=this.deltaHeight;this.parent.fitHeight(t+r*e,this.keepCenter,null===this.width)}if(null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){let t=this.startX,r=this.startY,n=this.deltaX,s=this.deltaY,o=new i.E9(this.parent.x,this.parent.y);this.parent.moveCenter(t+n*e,r+s*e),this.parent.emit("moved",{viewport:this.parent,original:o,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"})}}constructor(e,t={}){super(e),a(this,"options"),a(this,"startX"),a(this,"startY"),a(this,"deltaX"),a(this,"deltaY"),a(this,"keepCenter"),a(this,"startWidth",null),a(this,"startHeight",null),a(this,"deltaWidth",null),a(this,"deltaHeight",null),a(this,"width",null),a(this,"height",null),a(this,"time",0),this.options=Object.assign({},p,t),this.options.ease=d(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}}let m={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class g extends l{isActive(){return null!==this.toX||null!==this.toY}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){let t=this.toX;t.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),t.time>=this.options.time?(this.parent.x=t.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(t.time,t.start,t.delta,this.options.time)}if(this.toY){let t=this.toY;t.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),t.time>=this.options.time?(this.parent.y=t.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(t.time,t.start,t.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case -1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case -1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){let e=this.options.bounceBox;if(e){let t=typeof e.x>"u"?0:e.x,r=typeof e.y>"u"?0:e.y,n=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<t,right:this.parent.right>n,top:this.parent.top<r,bottom:this.parent.bottom>s,topLeft:new i.E9(t*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new i.E9(n*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new i.E9(0,0),bottomRight:new i.E9(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,t;if(this.paused)return;let r,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===(null==(e=i.options)?void 0:e.friction)||i.y&&i.percentChangeY===(null==(t=i.options)?void 0:t.friction))&&(((r=this.oob()).left&&this.left||r.right&&this.right)&&(i.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));let n=this.parent.plugins.get("drag",!0)||{},s=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(null!=n&&n.active)&&!(null!=s&&s.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){let e=(r=r||this.oob()).topLeft,t=r.bottomRight;if(!this.toX&&!i.x){let i=null;r.left&&this.left?i=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-e.x:r.right&&this.right&&(i=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-t.x),null!==i&&this.parent.x!==i&&(this.toX={time:0,start:this.parent.x,delta:i-this.parent.x,end:i},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let i=null;r.top&&this.top?i=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-e.y:r.bottom&&this.bottom&&(i=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-t.y),null!==i&&this.parent.y!==i&&(this.toY={time:0,start:this.parent.y,delta:i-this.parent.y,end:i},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}constructor(e,t={}){super(e),a(this,"options"),a(this,"left"),a(this,"top"),a(this,"right"),a(this,"bottom"),a(this,"underflowX"),a(this,"underflowY"),a(this,"ease"),a(this,"toX"),a(this,"toY"),this.options=Object.assign({},m,t),this.ease=d(this.options.ease,"easeInOutSine"),this.options.sides?"all"===this.options.sides?this.top=this.bottom=this.left=this.right=!0:"horizontal"===this.options.sides?(this.right=this.left=!0,this.top=this.bottom=!1):"vertical"===this.options.sides?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=-1!==this.options.sides.indexOf("top"),this.bottom=-1!==this.options.sides.indexOf("bottom"),this.left=-1!==this.options.sides.indexOf("left"),this.right=-1!==this.options.sides.indexOf("right")):this.left=this.top=this.right=this.bottom=!1;let r=this.options.underflow.toLowerCase();"center"===r?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==r.indexOf("left")?-1:-1!==r.indexOf("right")?1:0,this.underflowY=-1!==r.indexOf("top")?-1:-1!==r.indexOf("bottom")?1:0),this.reset()}}let v={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class y extends l{parseUnderflow(){let e=this.options.underflow.toLowerCase();"none"===e?this.noUnderflow=!0:("center"===e?this.underflowX=this.underflowY=0:(this.underflowX=-1!==e.indexOf("left")?-1:-1!==e.indexOf("right")?1:0,this.underflowY=-1!==e.indexOf("top")?-1:-1!==e.indexOf("bottom")?1:0),this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;let e=new i.E9(this.parent.x,this.parent.y),t=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case -1:0!==this.parent.x&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,t.x=0,r=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,t.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case -1:0!==this.parent.y&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,t.y=0,r=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,t.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}constructor(e,t={}){super(e),a(this,"options"),a(this,"last"),a(this,"noUnderflow"),a(this,"underflowX"),a(this,"underflowY"),this.options=Object.assign({},v,t),this.options.direction&&(this.options.left="x"===this.options.direction||"all"===this.options.direction||null,this.options.right="x"===this.options.direction||"all"===this.options.direction||null,this.options.top="y"===this.options.direction||"all"===this.options.direction||null,this.options.bottom="y"===this.options.direction||"all"===this.options.direction||null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}}let _={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class x extends l{resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&e<this.options.minWidth){let r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&e>this.options.maxWidth){let r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&t<this.options.minHeight){let r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&t>this.options.maxHeight){let e=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/e,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){let e={x:null,y:null},t={x:null,y:null};if("number"==typeof this.options.minScale)e.x=this.options.minScale,e.y=this.options.minScale;else if(null!==this.options.minScale){let t=this.options.minScale;e.x=typeof t.x>"u"?null:t.x,e.y=typeof t.y>"u"?null:t.y}if("number"==typeof this.options.maxScale)t.x=this.options.maxScale,t.y=this.options.maxScale;else if(null!==this.options.maxScale){let e=this.options.maxScale;t.x=typeof e.x>"u"?null:e.x,t.y=typeof e.y>"u"?null:e.y}let r=this.parent.scale.x,i=this.parent.scale.y;null!==e.x&&r<e.x&&(r=e.x),null!==t.x&&r>t.x&&(r=t.x),null!==e.y&&i<e.y&&(i=e.y),null!==t.y&&i>t.y&&(i=t.y),(r!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(r,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}constructor(e,t={}){super(e),a(this,"options"),this.options=Object.assign({},_,t),this.clamp()}}let b={friction:.98,bounce:.8,minSpeed:.01};class w extends l{down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;let e=this.parent.input.count();return(1===e||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){let t=this.saved[this.saved.length-1];"clamp-x"===e.type&&e.original?t.x===e.original.x&&(t.x=this.parent.x):"clamp-y"===e.type&&e.original&&t.y===e.original.y&&(t.y=this.parent.y)}}up(){if(0===this.parent.input.count()&&this.saved.length){let e=performance.now();for(let t of this.saved)if(t.time>=e-100){let r=e-t.time;this.x=(this.parent.x-t.x)/r,this.y=(this.parent.y-t.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){"u">typeof(e=e||{}).x&&(this.x=e.x,this.percentChangeX=this.options.friction),"u">typeof e.y&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;let t=this.x||this.y,r=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){let t=this.percentChangeX;this.parent.x+=16*this.x/Math.log(t)*(Math.pow(t,i/16)-Math.pow(t,r/16)),this.x*=Math.pow(this.percentChangeX,e/16)}if(this.y){let t=this.percentChangeY;this.parent.y+=16*this.y/Math.log(t)*(Math.pow(t,i/16)-Math.pow(t,r/16)),this.y*=Math.pow(this.percentChangeY,e/16)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),t&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}constructor(e,t={}){super(e),a(this,"options"),a(this,"x"),a(this,"y"),a(this,"percentChangeX"),a(this,"percentChangeY"),a(this,"saved"),a(this,"timeSinceRelease"),this.options=Object.assign({},b,t),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",e=>this.handleMoved(e))}}let E={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class T extends l{handleKeyPresses(e){this.addWindowEventHandler("keyup",t=>{e.includes(t.code)&&(this.keyIsPressed=!1)}),this.addWindowEventHandler("keydown",t=>{e.includes(t.code)&&(this.keyIsPressed=!0)})}addWindowEventHandler(e,t){window.addEventListener(e,t),this.windowEventHandlers.push({event:e,handler:t})}destroy(){this.windowEventHandlers.forEach(e=>{let{event:t,handler:r}=e;window.removeEventListener(t,r)})}mouseButtons(e){e&&"all"!==e?this.mouse=[-1!==e.indexOf("left"),-1!==e.indexOf("middle"),-1!==e.indexOf("right")]:this.mouse=[!0,!0,!0]}parseUnderflow(){let e=this.options.underflow.toLowerCase();"center"===e?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){let t="mouse"===e.pointerType,r=this.parent.input.count();return!!((1===r||r>1&&!this.parent.plugins.get("pinch",!0))&&(!t||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===e.data.pointerType}down(e){return!this.paused&&!!this.options.pressDrag&&(this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1))}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){let t=e.global.x,r=e.global.y,n=this.parent.input.count();if(1===n||n>1&&!this.parent.plugins.get("pinch",!0)){let n=t-this.last.x,s=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(n)||this.yDirection&&this.parent.input.checkThreshold(s)){let n={x:t,y:r};return this.xDirection&&(this.parent.x+=(n.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(n.y-this.last.y)*this.options.factor),this.last=n,this.moved||this.parent.emit("drag-start",{event:e,screen:new i.E9(this.last.x,this.last.y),world:this.parent.toWorld(new i.E9(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;let t=this.parent.input.touches;if(1===t.length){let e=t[0];return e.last&&(this.last={x:e.last.x,y:e.last.y},this.current=e.id),this.moved=!1,!0}if(this.last&&this.moved){let t=new i.E9(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:t,world:this.parent.toWorld(t),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){let t=this.parent.plugins.get("wheel",!0);if(!t||!t.options.wheelZoom&&!e.ctrlKey){let t=e.deltaMode?this.options.lineHeight:1,r=[e.deltaX,e.deltaY],[i,n]=this.options.wheelSwapAxes?r.reverse():r;return this.xDirection&&(this.parent.x+=i*t*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=n*t*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){let e=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel){if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case -1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0)}if("x"!==this.options.clampWheel){if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case -1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}constructor(e,t={}){super(e),a(this,"options"),a(this,"moved"),a(this,"reverse"),a(this,"xDirection"),a(this,"yDirection"),a(this,"keyIsPressed"),a(this,"mouse"),a(this,"underflowX"),a(this,"underflowY"),a(this,"last"),a(this,"current"),a(this,"windowEventHandlers",[]),this.options=Object.assign({},E,t),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||"all"===this.options.direction||"x"===this.options.direction,this.yDirection=!this.options.direction||"all"===this.options.direction||"y"===this.options.direction,this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}}let A={speed:0,acceleration:null,radius:null};class S extends l{update(e){if(this.paused)return;let t=this.parent.center,r=this.target.x,i=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-t.y,2)+Math.pow(this.target.x-t.x,2))>this.options.radius))return;{let e=Math.atan2(this.target.y-t.y,this.target.x-t.x);r=this.target.x-Math.cos(e)*this.options.radius,i=this.target.y-Math.sin(e)*this.options.radius}}let n=r-t.x,s=i-t.y;if(n||s){if(this.options.speed){if(this.options.acceleration){let e=Math.atan2(i-t.y,r-t.x),o=Math.sqrt(Math.pow(n,2)+Math.pow(s,2));if(o){o>(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration)?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};let a=Math.cos(e)*this.velocity.x,l=Math.sin(e)*this.velocity.y,h=Math.abs(a)>Math.abs(n)?r:t.x+a,u=Math.abs(l)>Math.abs(s)?i:t.y+l;this.parent.moveCenter(h,u),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{let e=Math.atan2(i-t.y,r-t.x),o=Math.cos(e)*this.options.speed,a=Math.sin(e)*this.options.speed,l=Math.abs(o)>Math.abs(n)?r:t.x+o,h=Math.abs(a)>Math.abs(s)?i:t.y+a;this.parent.moveCenter(l,h),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}constructor(e,t,r={}){super(e),a(this,"options"),a(this,"target"),a(this,"velocity"),this.target=t,this.options=Object.assign({},A,r),this.velocity={x:0,y:0}}}let R={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class C extends l{resize(){let e=this.options.distance;null!==e?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.screenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||"mouse"!==e.pointerType&&1!==e.pointerId||!this.options.allowButtons&&0!==e.buttons)return!1;let t=e.global.x,r=e.global.y;if(this.radiusSquared){let e=this.parent.toScreen(this.parent.center);if(Math.pow(e.x-t,2)+Math.pow(e.y-r,2)>=this.radiusSquared){let i=Math.atan2(e.y-r,e.x-t);this.options.linear?(this.horizontal=Math.round(Math.cos(i))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(i))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(i)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(i)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&t<this.left?this.horizontal=Number(this.reverse)*this.options.speed*.06:null!==this.right&&t>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*.06:null!==this.bottom&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){let e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){let e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){let e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}constructor(e,t={}){super(e),a(this,"options"),a(this,"reverse"),a(this,"radiusSquared"),a(this,"left"),a(this,"top"),a(this,"right"),a(this,"bottom"),a(this,"horizontal"),a(this,"vertical"),this.options=Object.assign({},R,t),this.reverse=this.options.reverse?1:-1,this.radiusSquared="number"==typeof this.options.radius?Math.pow(this.options.radius,2):null,this.resize()}}let I={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class P extends l{down(){return this.parent.input.count()>=2&&(this.active=!0,!0)}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;let t=e.global.x,r=e.global.y,n=this.parent.input.touches;if(n.length>=2){let s=n[0],o=n[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:t,y:r,data:e}:o.id===e.pointerId&&(o.last={x:t,y:r,data:e}),a){let e;let t=new i.E9(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(e=this.parent.toLocal(t));let r=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)),n=(1-a/(r=0===r?r=1e-10:r))*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=n),this.isAxisY()&&(this.parent.scale.y+=n),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:t});let l=this.parent.plugins.get("clamp-zoom",!0);if(l&&l.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{let r=this.parent.toGlobal(e);this.parent.x+=(t.x-r.x)*this.options.factor,this.parent.y+=(t.y-r.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(t.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(t.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=t,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return!!this.pinching&&this.parent.input.touches.length<=1&&(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0)}constructor(e,t={}){super(e),a(this,"options"),a(this,"active",!1),a(this,"pinching",!1),a(this,"moved",!1),a(this,"lastCenter"),this.options=Object.assign({},I,t)}}let M={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class D extends l{snapStart(){this.percent=0,this.snapping={time:0};let e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(0===this.parent.input.count()){let e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&0!==this.parent.input.count())){if(this.snapping){let t,r,i;let n=this.snapping;n.time+=e;let s=this.startX,o=this.startY,a=this.deltaX,l=this.deltaY;if(n.time>this.options.time)t=!0,r=s+a,i=o+l;else{let e=this.ease(n.time,0,1,this.options.time);r=s+a*e,i=o+l*e}this.options.topLeft?this.parent.moveCorner(r,i):this.parent.moveCenter(r,i),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),t&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{let e=this.options.topLeft?this.parent.corner:this.parent.center;(e.x!==this.x||e.y!==this.y)&&this.snapStart()}}}constructor(e,t,r,i={}){super(e),a(this,"options"),a(this,"ease"),a(this,"x"),a(this,"y"),a(this,"percent"),a(this,"snapping"),a(this,"deltaX"),a(this,"deltaY"),a(this,"startX"),a(this,"startY"),this.options=Object.assign({},M,i),this.ease=d(i.ease,"easeInOutSine"),this.x=t,this.y=r,this.options.forceStart&&this.snapStart()}}let O={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class L extends l{createSnapping(){let e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:t,deltaX:r-e,deltaY:i-t},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){let t;if(!this.paused&&(!this.options.interrupt||0===this.parent.input.count())){if(this.options.center||this.options.noMove||(t=this.parent.center),this.snapping){if(this.snapping){let r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{let e=this.snapping,t=this.ease(e.time,e.startX,e.deltaX,this.options.time),r=this.ease(e.time,e.startY,e.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/t,this.parent.scale.y=this.parent.screenHeight/r}let i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(t))}}else(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping()}}resume(){this.snapping=null,super.resume()}constructor(e,t={}){super(e),a(this,"options"),a(this,"ease"),a(this,"xScale"),a(this,"yScale"),a(this,"xIndependent"),a(this,"yIndependent"),a(this,"snapping"),this.options=Object.assign({},O,t),this.ease=d(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,0===this.options.time?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):t.forceStart&&this.createSnapping()}}let k={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class N extends l{handleKeyPresses(e){window.addEventListener("keydown",t=>{e.includes(t.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",t=>{e.includes(t.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){let e;let t=this.smoothingCenter,r=this.smoothing;this.options.center||(e=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x+=r.x),this.isAxisY()&&(this.parent.scale.y+=r.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});let i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{let r=this.parent.toGlobal(e);this.parent.x+=t.x-r.x,this.parent.y+=t.y-r.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){let t;if(this.paused)return;let r=this.parent.input.getPointerPosition(e),i=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,n=Math.pow(2,(1+this.options.percent)*i);this.options.center||(t=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=n),this.isAxisY()&&(this.parent.scale.y*=n),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});let s=this.parent.plugins.get("clamp-zoom",!0);if(s&&s.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{let e=this.parent.toGlobal(t);this.parent.x+=r.x-e.x,this.parent.y+=r.y-e.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){let t=this.parent.input.getPointerPosition(e),r=-((this.options.reverse?-1:1)*e.deltaY)*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){let e={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+e.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+e.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=t}else{let e;this.options.center||(e=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});let r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{let r=this.parent.toGlobal(e);this.parent.x+=t.x-r.x,this.parent.y+=t.y-r.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}constructor(e,t={}){super(e),a(this,"options"),a(this,"smoothing"),a(this,"smoothingCenter"),a(this,"smoothingCount"),a(this,"keyIsPressed"),this.options=Object.assign({},k,t),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}}class B{addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new i.Ae(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!this.viewport.pause&&this.viewport.worldVisible){if("mouse"===e.pointerType?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),1===this.count()){this.last=e.global.clone();let t=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);t&&t.isActive()||r&&r.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;let t=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){let t=e.global.x-this.last.x,r=e.global.y-this.last.y;(this.checkThreshold(t)||this.checkThreshold(r))&&(this.clickedAvailable=!1)}t&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;"mouse"===e.pointerType&&(this.isMouseDown=!1),"mouse"!==e.pointerType&&this.remove(e.pointerId);let t=this.viewport.plugins.up(e);this.clickedAvailable&&0===this.count()&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),t&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){let t=new i.E9;return this.viewport.options.events.mapPositionToPoint(t,e.clientX,e.clientY),t}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;let t=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=t.x&&t.x<=this.viewport.right&&this.viewport.top<=t.y&&t.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(let t of this.touches)if(t.id===e)return t;return null}remove(e){for(let t=0;t<this.touches.length;t++)if(this.touches[t].id===e){this.touches.splice(t,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}constructor(e){a(this,"viewport"),a(this,"clickedAvailable"),a(this,"isMouseDown"),a(this,"last"),a(this,"wheelFunction"),a(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}}let F=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class U{add(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.length,i=this.plugins[e];i&&i.destroy(),this.plugins[e]=t;let n=F.indexOf(e);-1!==n&&F.splice(n,1),F.splice(r,0,e),this.sort()}get(e,t){var r;return t&&null!=(r=this.plugins[e])&&r.paused?null:this.plugins[e]}update(e){for(let t of this.list)t.update(e)}resize(){for(let e of this.list)e.resize()}reset(){for(let e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var t;this.plugins[e]&&(null==(t=this.plugins[e])||t.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var t;null==(t=this.plugins[e])||t.pause()}resume(e){var t;null==(t=this.plugins[e])||t.resume()}sort(){for(let e of(this.list=[],F))this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let t=!1;for(let r of this.list)r.down(e)&&(t=!0);return t}move(e){let t=!1;for(let r of this.viewport.plugins.list)r.move(e)&&(t=!0);return t}up(e){let t=!1;for(let r of this.list)r.up(e)&&(t=!0);return t}wheel(e){let t=!1;for(let r of this.list)r.wheel(e)&&(t=!0);return t}constructor(e){a(this,"plugins"),a(this,"list"),a(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}}let H={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:i.vB.shared,allowPreserveDragOutside:!1};class G extends n.W2{destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new i.Ae(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;this.screenWidth=e,this.screenHeight=t,"u">typeof r&&(this._worldWidth=r),"u">typeof i&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new i.Ae(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,t){return 2==arguments.length?this.toLocal(new i.E9(e,t)):this.toLocal(e)}toScreen(e,t){return 2==arguments.length?this.toGlobal(new i.E9(e,t)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new i.E9(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(){let e,t;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];"number"==typeof i[0]?(e=i[0],t=i[1]):(e=i[0].x,t=i[0].y);let s=(this.worldScreenWidth/2-e)*this.scale.x,o=(this.worldScreenHeight/2-t)*this.scale.y;return(this.x!==s||this.y!==o)&&(this.position.set(s,o),this.plugins.reset(),this.dirty=!0),this}get corner(){return new i.E9(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(){let e,t;for(var r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];return 1===i.length?(e=-i[0].x*this.scale.x,t=-i[0].y*this.scale.y):(e=-i[0]*this.scale.x,t=-i[1]*this.scale.y),(e!==this.x||t!==this.y)&&(this.position.set(e,t),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,t){return Math.min(this.screenWidth/e,this.screenHeight/t)}findCover(e,t){return Math.max(this.screenWidth/e,this.screenHeight/t)}fitWidth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.worldWidth,r=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3?arguments[3]:void 0;r&&(e=this.center),this.scale.x=this.screenWidth/t,i&&(this.scale.y=this.scale.x);let s=this.plugins.get("clamp-zoom",!0);return!n&&s&&s.clamp(),r&&e&&this.moveCenter(e),this}fitHeight(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.worldHeight,r=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3?arguments[3]:void 0;r&&(e=this.center),this.scale.y=this.screenHeight/t,i&&(this.scale.x=this.scale.y);let s=this.plugins.get("clamp-zoom",!0);return!n&&s&&s.clamp(),r&&e&&this.moveCenter(e),this}fitWorld(e){let t;e&&(t=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;let r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&t&&this.moveCenter(t),this}fit(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.worldWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.worldHeight;e&&(t=this.center),this.scale.x=this.screenWidth/r,this.scale.y=this.screenHeight/i,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;let n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),e&&t&&this.moveCenter(t),this}setZoom(e,t){let r;t&&(r=this.center),this.scale.set(e);let i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),t&&r&&this.moveCenter(r),this}zoomPercent(e,t){return this.setZoom(this.scale.x+this.scale.x*e,t)}zoom(e,t){return this.fitWidth(e+this.worldScreenWidth,t),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new L(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new i.E9(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new i.Ae(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new T(this,e)),this}clamp(e){return this.plugins.add("clamp",new y(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new w(this,e)),this}bounce(e){return this.plugins.add("bounce",new g(this,e)),this}pinch(e){return this.plugins.add("pinch",new P(this,e)),this}snap(e,t,r){return this.plugins.add("snap",new D(this,e,t,r)),this}follow(e,t){return this.plugins.add("follow",new S(this,e,t)),this}wheel(e){return this.plugins.add("wheel",new N(this,e)),this}animate(e){return this.plugins.add("animate",new f(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new x(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new C(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,t,r,i,n){n&&(r>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,r,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let s=!1;e<this.left?(this.left=e,s=!0):e+r>this.right&&(this.right=e+r,s=!0),t<this.top?(this.top=t,s=!0):t+i>this.bottom&&(this.bottom=t+i,s=!0),s&&this.emit("moved",{viewport:this,type:"ensureVisible"})}constructor(e){super(),a(this,"moving"),a(this,"screenWidth"),a(this,"screenHeight"),a(this,"threshold"),a(this,"input"),a(this,"plugins"),a(this,"zooming"),a(this,"lastViewport"),a(this,"options"),a(this,"_dirty"),a(this,"_forceHitArea"),a(this,"_hitAreaDefault"),a(this,"_pause"),a(this,"tickerFunction"),a(this,"_worldWidth"),a(this,"_worldHeight"),a(this,"_disableOnContextMenu",e=>e.preventDefault()),this.options={...H,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new B(this),this.plugins=new U(this)}}},8206:function(e,t,r){let i,n;r.d(t,{T$b:function(){return o.T$},VL4:function(){return o.VL},E9j:function(){return o.E9},aH$:function(){return o.aH},jyi:function(){return l.j},xEZ:function(){return o.xE}});var s,o=r(3072),a=r(1373),l=r(9169);let h=new o.y3;a.s$.prototype._cacheAsBitmap=!1,a.s$.prototype._cacheData=null,a.s$.prototype._cacheAsBitmapResolution=null,a.s$.prototype._cacheAsBitmapMultisample=null;class u{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(a.s$.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){let t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new u),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),a.s$.prototype._renderCached=function(e){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},a.s$.prototype._initCachedDisplayObject=function(e){var t,r,i;if(null===(t=this._cacheData)||void 0===t?void 0:t.sprite)return;let n=this.alpha;this.alpha=1,e.batch.flush();let s=this.getLocalBounds(new o.Ae,!0);if(null===(r=this.filters)||void 0===r?void 0:r.length){let e=this.filters[0].padding;s.pad(e)}let a=this.cacheAsBitmapResolution||e.resolution;s.ceil(a),s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a);let u=e.renderTexture.current,c=e.renderTexture.sourceFrame.clone(),d=e.renderTexture.destinationFrame.clone(),p=e.projection.transform,f=o.TI.create({width:s.width,height:s.height,resolution:a,multisample:null!==(i=this.cacheAsBitmapMultisample)&&void 0!==i?i:e.multisample}),m="cacheAsBitmap_".concat(o.P6.uid());this._cacheData.textureCacheId=m,o.VL.addToCache(f.baseTexture,m),o.xE.addToCache(f,m);let g=this.transform.localTransform.copyTo(h).invert().translate(-s.x,-s.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:f,clear:!0,transform:g,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=p,e.renderTexture.bind(u,c,d),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;let v=new l.j(f);v.transform.worldTransform=this.transform.worldTransform,v.anchor.x=-(s.x/s.width),v.anchor.y=-(s.y/s.height),v.alpha=n,v._bounds=this._bounds,this._cacheData.sprite=v,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=v.containsPoint.bind(v)},a.s$.prototype._renderCachedCanvas=function(e){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},a.s$.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null===(t=this._cacheData)||void 0===t?void 0:t.sprite)return;let r=this.getLocalBounds(new o.Ae,!0),i=this.alpha;this.alpha=1;let n=e.canvasContext.activeContext,s=e._projTransform,a=this.cacheAsBitmapResolution||e.resolution;r.ceil(a),r.width=Math.max(r.width,1/a),r.height=Math.max(r.height,1/a);let u=o.TI.create({width:r.width,height:r.height,resolution:a}),c="cacheAsBitmap_".concat(o.P6.uid());this._cacheData.textureCacheId=c,o.VL.addToCache(u.baseTexture,c),o.xE.addToCache(u,c),this.transform.localTransform.copyTo(h),h.invert(),h.tx-=r.x,h.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;let d=new l.j(u);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(r.x/r.width),d.anchor.y=-(r.y/r.height),d.alpha=i,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)},a.s$.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},a.s$.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},a.s$.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,o.VL.removeFromCache(this._cacheData.textureCacheId),o.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},a.s$.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},a.s$.prototype.name=null,a.W2.prototype.getChildByName=function(e,t){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===e)return this.children[t];if(t)for(let t=0,r=this.children.length;t<r;t++){let r=this.children[t];if(!r.getChildByName)continue;let i=r.getChildByName(e,!0);if(i)return i}return null},a.s$.prototype.getGlobalPosition=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.E9,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};class c extends o.wn{get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}constructor(e=1){super(o.kP,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=e}}let d={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};class p extends o.wn{apply(e,t,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,i);else{let n=e.getFilterTexture(),s=e.renderer,a=t,l=n;this.state.blend=!1,e.applyFilter(this,a,l,o.yl.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(a,o.yl.BLIT),this.uniforms.uSampler=l;let t=l;l=a,a=t,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,i),e.returnFilterTexture(n)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}constructor(e,t=8,r=4,i=o.wn.defaultResolution,n=5){super(function(e,t){let r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",n="",s;s=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let t=0;t<e;t++){let e=s.replace("%index%",t.toString());n+=(e=e.replace("%sampleIndex%","".concat(t-(r-1),".0")))+"\n"}return(i=i.replace("%blur%",n)).replace("%size%",e.toString())}(n,e),function(e){let t;let r=d[e],i=r.length,n="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}",s="";for(let n=0;n<e;n++){let o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",n.toString());t=n,n>=i&&(t=e-n-1),s+=(o=o.replace("%value%",r[t].toString()))+"\n"}return(n=n.replace("%blur%",s)).replace("%size%",e.toString())}(n)),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=t}}class f extends o.wn{apply(e,t,r,i){let n=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(n&&s){let n=e.getFilterTexture();this.blurXFilter.apply(e,t,n,o.yl.CLEAR),this.blurYFilter.apply(e,n,r,i),e.returnFilterTexture(n)}else s?this.blurYFilter.apply(e,t,r,i):this.blurXFilter.apply(e,t,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}constructor(e=8,t=4,r=o.wn.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new p(!0,e,t,r,i),this.blurYFilter=new p(!1,e,t,r,i),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}}class m extends o.wn{_loadMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){let t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}tint(e,t){let[r,i,n]=o.Il.shared.setValue(e).toArray();this._loadMatrix([r,0,0,0,0,0,i,0,0,0,0,0,n,0,0,0,0,0,1,0],t)}greyscale(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){let r=Math.cos(e=(e||0)/180*Math.PI),i=Math.sin(e),n=1/3,s=(0,Math.sqrt)(1/3);this._loadMatrix([r+(1-r)*n,n*(1-r)-s*i,n*(1-r)+s*i,0,0,n*(1-r)+s*i,r+n*(1-r),n*(1-r)-s*i,0,0,n*(1-r)-s*i,n*(1-r)+s*i,r+n*(1-r),0,0,0,0,0,1,0],t)}contrast(e,t){let r=(e||0)+1,i=-.5*(r-1);this._loadMatrix([r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0],t)}saturate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,r=2*e/3+1,i=-((r-1)*.5);this._loadMatrix([r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0],t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,r,i,n){e=e||.2,t=t||.15,r=r||16770432,i=i||3375104;let s=o.Il.shared,[a,l,h]=s.setValue(r).toArray(),[u,c,d]=s.setValue(i).toArray(),p=[.3,.59,.11,0,0,a,l,h,e,0,u,c,d,t,0,a-u,l-c,h-d,0,0];this._loadMatrix(p,n)}night(e,t){let r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}constructor(){super(o.Y9,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",{m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1}),this.alpha=1}}m.prototype.grayscale=m.prototype.greyscale;class g extends o.wn{apply(e,t,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;let n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),e.applyFilter(this,t,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}constructor(e,t){let r=new o.y3;e.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n	gl_Position = filterVertexPosition();\n	vTextureCoord = filterTextureCoord();\n	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==t&&(t=20),this.scale=new o.E9(t,t)}}class v extends o.wn{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}class y extends o.wn{get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}constructor(e=.5,t=Math.random()){super(o.Y9,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}}let _={AlphaFilter:c,BlurFilter:f,BlurFilterPass:p,ColorMatrixFilter:m,DisplacementFilter:g,FXAAFilter:v,NoiseFilter:y};Object.entries(_).forEach(e=>{let[t,r]=e;Object.defineProperty(_,t,{get:()=>(o.P6.deprecation("7.1.0","filters.".concat(t," has moved to ").concat(t)),r)})});class x{init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(o.vB.system.add(this.tickerUpdate,this,o.uF.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(o.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}let e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}}let b=new x;class w{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,i,n){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=w.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new o.E9,this.page=new o.E9,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}}class E extends w{get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,i,n,s,o,a,l,h,u,c,d,p,f){throw Error("Method not implemented.")}constructor(){super(...arguments),this.client=new o.E9,this.movement=new o.E9,this.offset=new o.E9,this.global=new o.E9,this.screen=new o.E9}}class T extends E{getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}}class A extends E{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}A.DOM_DELTA_PIXEL=0,A.DOM_DELTA_LINE=1,A.DOM_DELTA_PAGE=2;let S=new o.E9,R=new o.E9;class C{addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;let t=this.mappingTable[e.type];if(t)for(let r=0,i=t.length;r<i;r++)t[r].fn(e);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,t){b.pauseUpdate=!0;let r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,S.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;let r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,n=r.length-1;i<n;i++)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0===r.length)return;e.eventPhase=e.BUBBLING_PHASE;let i=Array.isArray(t)?t:[t];for(let t=r.length-1;t>=0;t--)i.forEach(i=>{e.currentTarget=r[t],this.notifyTarget(e,i)})}propagationPath(e){let t=[e];for(let r=0;r<2048&&e!==this.rootTarget;r++){if(!e.parent)throw Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,i,n){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(b.pauseUpdate=!1),e.interactiveChildren&&e.children){let a=e.children;for(let l=a.length-1;l>=0;l--){let h=a[l],u=this.hitTestMoveRecursive(h,this._isInteractive(t)?t:h.eventMode,r,i,n,s||n(e,r));if(u){if(u.length>0&&!u[u.length-1].parent)continue;let t=e.isInteractive();(u.length>0||t)&&(t&&this._allInteractiveElements.push(e),u.push(e)),0===this._hitElements.length&&(this._hitElements=u),o=!0}}}let a=this._isInteractive(t),l=e.isInteractive();return a&&l&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:o?this._hitElements:a&&!n(e,r)&&i(e,r)?l?[e]:[]:null}hitTestRecursive(e,t,r,i,n){if(this._interactivePrune(e)||n(e,r))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(b.pauseUpdate=!1),e.interactiveChildren&&e.children){let s=e.children;for(let o=s.length-1;o>=0;o--){let a=s[o],l=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,r,i,n);if(l){if(l.length>0&&!l[l.length-1].parent)continue;let t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}let s=this._isInteractive(t),o=e.isInteractive();return s&&i(e,r)?o?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||"none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,R),!e.hitArea.contains(R.x,R.y)))return!0;if(e._mask){var r;let i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!(null===(r=i.containsPoint)||void 0===r?void 0:r.call(i,t)))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){var r,i;t=null!=t?t:e.type;let n="on".concat(t);null===(r=(i=e.currentTarget)[n])||void 0===r||r.call(i,e);let s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof T)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){let e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var t,r,i;if(!(e instanceof T)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;let n=this.createPointerEvent(e);this._isPointerMoveEvent=!1;let s="mouse"===n.pointerType||"pen"===n.pointerType,o=this.trackingData(e.pointerId),a=this.findMountedTarget(o.overTargets);if((null===(t=o.overTargets)||void 0===t?void 0:t.length)>0&&a!==n.target){let t="mousemove"===e.type?"mouseout":"pointerout",r=this.createPointerEvent(e,t,a);if(this.dispatchEvent(r,"pointerout"),s&&this.dispatchEvent(r,"mouseout"),!n.composedPath().includes(a)){let t=this.createPointerEvent(e,"pointerleave",a);for(t.eventPhase=t.AT_TARGET;t.target&&!n.composedPath().includes(t.target);)t.currentTarget=t.target,this.notifyTarget(t),s&&this.notifyTarget(t,"mouseleave"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(r)}if(a!==n.target){let t="mousemove"===e.type?"mouseover":"pointerover",r=this.clonePointerEvent(n,t);this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover");let i=null==a?void 0:a.parent;for(;i&&i!==this.rootTarget.parent&&i!==n.target;)i=i.parent;if(!i||i===this.rootTarget.parent){let e=this.clonePointerEvent(n,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==a&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),s&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(r)}let l=[],h=null===(i=this.enableGlobalMoveEvents)||void 0===i||i;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(n,"pointermove"),h&&l.push("globalpointermove"),"touch"===n.pointerType&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(n,"touchmove"),h&&l.push("globaltouchmove")),s&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(n,"mousemove"),h&&l.push("globalmousemove"),this.cursor=null===(r=n.target)||void 0===r?void 0:r.cursor),l.length>0&&this.all(n,l),this._allInteractiveElements.length=0,this._hitElements.length=0,o.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var t;if(!(e instanceof T)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=null===(t=i.target)||void 0===t?void 0:t.cursor);let s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof T)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId);if(t.overTargets){let r="mouse"===e.pointerType||"pen"===e.pointerType,i=this.findMountedTarget(t.overTargets),n=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(n),r&&this.dispatchEvent(n,"mouseout");let s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(n),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof T)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){let e=2===r.button;this.dispatchEvent(r,e?"rightup":"mouseup")}let i=this.trackingData(e.pointerId),n=this.findMountedTarget(i.pressTargetsByButton[e.button]),s=n;if(n&&!r.composedPath().includes(n)){let t=n;for(;t&&!r.composedPath().includes(t);){if(r.currentTarget=t,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){let e=2===r.button;this.notifyTarget(r,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete i.pressTargetsByButton[e.button],s=t}if(s){let n=this.clonePointerEvent(r,"click");n.target=s,n.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:n.target,timeStamp:t});let o=i.clicksByButton[e.button];if(o.target===n.target&&t-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=n.target,o.timeStamp=t,n.detail=o.clickCount,"mouse"===n.pointerType){let e=2===n.button;this.dispatchEvent(n,e?"rightclick":"click")}else"touch"===n.pointerType&&this.dispatchEvent(n,"tap");this.dispatchEvent(n,"pointertap"),this.freeEvent(n)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof T)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let n=r;for(;n;)i.currentTarget=n,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):("mouse"===i.pointerType||"pen"===i.pointerType)&&this.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof A)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}let t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){var i;let n=this.allocateEvent(T);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=null!==(i=null!=r?r:this.hitTest(n.global.x,n.global.y))&&void 0!==i?i:this._hitElements[0],"string"==typeof t&&(n.type=t),n}createWheelEvent(e){let t=this.allocateEvent(A);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){let r=this.allocateEvent(T);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=null!=t?t:r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof T&&t instanceof T&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof E&&t instanceof E&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);let t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");let t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){let r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive()){if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,n=r.length;i<n&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(t,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}constructor(e){this.dispatch=new o.P6.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}}let I={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},P=class e{static get defaultEventMode(){return this._defaultEventMode}init(t){var r,i;let{view:n,resolution:s}=this.renderer;this.setTargetElement(n),this.resolution=s,e._defaultEventMode=null!==(r=t.eventMode)&&void 0!==r?r:"auto",Object.assign(this.features,null!==(i=t.eventFeatures)&&void 0!==i?i:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;let r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let e=0,r=t.length;e<r;e++){let r=t[e],i=this.bootstrapEvent(this.rootPointerEvent,r);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,b.pointerMoved();let t=this.normalizeToPointerData(e);for(let e=0,r=t.length;e<r;e++){let r=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);let r=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let e=0,t=i.length;e<t;e++){let t=this.bootstrapEvent(this.rootPointerEvent,i[e]);t.type+=r,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=this.normalizeToPointerData(e);for(let e=0,r=t.length;e<r;e++){let r=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;let t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,b.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;b.addTickerListener();let e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;b.removeTickerListener();let e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){let i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},n=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*n,e.y=(r-i.top)*(this.domElement.height/i.height)*n}normalizeToPointerData(e){let t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){let i=e.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent)))&&(typeof e.isPrimary>"u"&&(e.isPrimary=!0),typeof e.width>"u"&&(e.width=1),typeof e.height>"u"&&(e.height=1),typeof e.tiltX>"u"&&(e.tiltX=0),typeof e.tiltY>"u"&&(e.tiltY=0),typeof e.pointerType>"u"&&(e.pointerType="mouse"),typeof e.pointerId>"u"&&(e.pointerId=1),typeof e.pressure>"u"&&(e.pressure=.5),typeof e.twist>"u"&&(e.twist=0),typeof e.tangentialPressure>"u"&&(e.tangentialPressure=0),e.isNormalized=!0),t.push(e);return t}normalizeWheelEvent(e){let t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=I[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new C(null),b.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new T(null),this.rootWheelEvent=new A(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,r)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}};function M(e){return"dynamic"===e||"static"===e}P.extension={name:"events",type:[o.nw.RendererSystem,o.nw.CanvasRendererSystem]},P.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},o.Rw.add(P),a.s$.mixin({onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var D;return null!==(D=this._internalInteractive)&&void 0!==D?D:M(P.defaultEventMode)},set interactive(value){o.P6.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=value,this.eventMode=value?"static":"auto"},_internalEventMode:void 0,get eventMode(){var O;return null!==(O=this._internalEventMode)&&void 0!==O?O:P.defaultEventMode},set eventMode(value){this._internalInteractive=M(value),this._internalEventMode=value},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){let i="boolean"==typeof r&&r||"object"==typeof r&&r.capture,n="object"==typeof r?r.signal:void 0,s="object"==typeof r&&!0===r.once,o="function"==typeof t?void 0:t;e=i?"".concat(e,"capture"):e;let a="function"==typeof t?t:t.handleEvent,l=this;n&&n.addEventListener("abort",()=>{l.off(e,a,o)}),s?l.once(e,a,o):l.on(e,a,o)},removeEventListener(e,t,r){let i="boolean"==typeof r&&r||"object"==typeof r&&r.capture,n="function"==typeof t?void 0:t;e=i?"".concat(e,"capture"):e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,n)},dispatchEvent(e){if(!(e instanceof w))throw Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}}),a.s$.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});class L{get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){let e=document.createElement("button");e.style.width="".concat(1,"px"),e.style.height="".concat(1,"px"),e.style.position="absolute",e.style.top="".concat(-1e3,"px"),e.style.left="".concat(-1e3,"px"),e.style.zIndex="2",e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);let t=e.children;if(t)for(let e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}update(){let e=performance.now();if(o.P6.isMobile.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);let{x:t,y:r,width:i,height:n}=this.renderer.view.getBoundingClientRect(),{width:s,height:a,resolution:l}=this.renderer,h=i/s*l,u=n/a*l,c=this.div;c.style.left="".concat(t,"px"),c.style.top="".concat(r,"px"),c.style.width="".concat(s,"px"),c.style.height="".concat(a,"px");for(let e=0;e<this.children.length;e++){let t=this.children[e];if(t.renderId!==this.renderId)t._accessibleActive=!1,o.P6.removeItems(this.children,e,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,e--;else{c=t._accessibleDiv;let e=t.hitArea,r=t.worldTransform;t.hitArea?(c.style.left="".concat((r.tx+e.x*r.a)*h,"px"),c.style.top="".concat((r.ty+e.y*r.d)*u,"px"),c.style.width="".concat(e.width*r.a*h,"px"),c.style.height="".concat(e.height*r.d*u,"px")):(e=t.getBounds(),this.capHitArea(e),c.style.left="".concat(e.x*h,"px"),c.style.top="".concat(e.y*u,"px"),c.style.width="".concat(e.width*h,"px"),c.style.height="".concat(e.height*u,"px"),c.title!==t.accessibleTitle&&null!==t.accessibleTitle&&(c.title=t.accessibleTitle),c.getAttribute("aria-label")!==t.accessibleHint&&null!==t.accessibleHint&&c.setAttribute("aria-label",t.accessibleHint)),(t.accessibleTitle!==c.title||t.tabIndex!==c.tabIndex)&&(c.title=t.accessibleTitle,c.tabIndex=t.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);let{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||((t=document.createElement("button")).style.width="".concat(100,"px"),t.style.height="".concat(100,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex="2",t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){let{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,n=Object.assign(new w(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(e=>i.dispatchEvent(n,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(o.P6.isMobile.tablet||o.P6.isMobile.phone)&&this.createTouchHook();let t=document.createElement("div");t.style.width="".concat(100,"px"),t.style.height="".concat(100,"px"),t.style.position="absolute",t.style.top="".concat(0,"px"),t.style.left="".concat(0,"px"),t.style.zIndex="2",this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}}L.extension={name:"accessibility",type:[o.nw.RendererPlugin,o.nw.CanvasRendererPlugin]},o.Rw.add(L),r(4853);var k=r(8398),N=((s=N||{})[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s);let B={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};function F(){n={s3tc:i.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:i.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:i.getExtension("WEBGL_compressed_texture_etc"),etc1:i.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:i.getExtension("WEBGL_compressed_texture_atc"),astc:i.getExtension("WEBGL_compressed_texture_astc"),bptc:i.getExtension("EXT_texture_compression_bptc")}}let U={extension:{type:o.nw.DetectionParser,priority:2},test:async()=>{let e=o.Xd.ADAPTER.createCanvas().getContext("webgl");return e?(i=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{n||F();let t=[];for(let e in n)n[e]&&t.push(e);return[...t,...e]},remove:async e=>(n||F(),e.filter(e=>!(e in n)))};o.Rw.add(U);class H extends o.qm{onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new o.Rv(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}constructor(e,t={width:1,height:1,autoLoad:!0}){let r,i;"string"==typeof e?(r=e,i=new Uint8Array):(r=null,i=e),super(i,t),this.origin=r,this.buffer=i?new o.Rv(i):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}}class G extends H{upload(e,t,r){let i=e.gl;if(!e.context.extensions[this._extension])throw Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let e=0,t=this.levels;e<t;e++){let{levelID:t,levelWidth:r,levelHeight:n,levelBuffer:s}=this._levelBuffers[e];i.compressedTexImage2D(i.TEXTURE_2D,t,this.format,r,n,0,s)}return!0}onBlobLoaded(){this._levelBuffers=G._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw Error("Invalid (compressed) texture format given: ".concat(e))}static _createLevelBuffers(e,t,r,i,n,s,o){let a=Array(r),l=e.byteOffset,h=s,u=o,c=h+i-1&~(i-1),d=u+n-1&~(n-1),p=c*d*B[t];for(let s=0;s<r;s++)a[s]={levelID:s,levelWidth:r>1?h:c,levelHeight:r>1?u:d,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,u=u>>1||1,p=(c=(h=h>>1||1)+i-1&~(i-1))*(d=u+n-1&~(n-1))*B[t];return a}constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=G._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||G._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}}let W={FOURCC:2},z={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},X={827611204:N.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:N.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:N.COMPRESSED_RGBA_S3TC_DXT5_EXT},V={70:N.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:N.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:N.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:N.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:N.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:N.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:N.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:N.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:N.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:N.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:N.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:N.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:N.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT},j=[171,75,84,88,32,49,49,187,13,10,26,10],Y={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Z={[o.vK.UNSIGNED_BYTE]:1,[o.vK.UNSIGNED_SHORT]:2,[o.vK.INT]:4,[o.vK.UNSIGNED_INT]:4,[o.vK.FLOAT]:4,[o.vK.HALF_FLOAT]:8},K={[o.I2.RGBA]:4,[o.I2.RGB]:3,[o.I2.RG]:2,[o.I2.RED]:1,[o.I2.LUMINANCE]:1,[o.I2.LUMINANCE_ALPHA]:2,[o.I2.ALPHA]:1},q={[o.vK.UNSIGNED_SHORT_4_4_4_4]:2,[o.vK.UNSIGNED_SHORT_5_5_5_1]:2,[o.vK.UNSIGNED_SHORT_5_6_5]:2},$={extension:{type:o.nw.LoadParser,priority:k.Q2.High},name:"loadDDS",test:e=>(0,k.gN)(e,".dds"),async load(e,t,r){let i=(function(e){let t=new Uint32Array(e);if(542327876!==t[0])throw Error("Invalid DDS file magic word");let r=new Uint32Array(e,0,124/Uint32Array.BYTES_PER_ELEMENT),i=r[3],n=r[4],s=r[7],o=new Uint32Array(e,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=o[1];if(4&a){let r=o[W.FOURCC];if(808540228!==r){let t=X[r];return[new G(new Uint8Array(e,128),{format:t,width:n,height:i,levels:s})]}let a=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),l=a[z.DXGI_FORMAT],h=a[z.RESOURCE_DIMENSION],u=a[z.MISC_FLAG],c=a[z.ARRAY_SIZE],d=V[l];if(void 0===d)throw Error("DDSParser cannot parse texture data with DXGI format ".concat(l));if(4===u)throw Error("DDSParser does not support cubemap textures");if(6===h)throw Error("DDSParser does not supported 3D texture data");let p=[];if(1===c)p.push(new Uint8Array(e,148));else{let t=B[d],r=0,o=n,a=i;for(let e=0;e<s;e++)r+=Math.max(1,o+3&-4)*Math.max(1,a+3&-4)*t,o>>>=1,a>>>=1;let l=148;for(let t=0;t<c;t++)p.push(new Uint8Array(e,l,r)),l+=r}return p.map(e=>new G(e,{format:d,width:n,height:i,levels:s}))}throw 64&a?Error("DDSParser does not support uncompressed texture data."):512&a?Error("DDSParser does not supported YUV uncompressed texture data."):131072&a?Error("DDSParser does not support single-channel (lumninance) texture data!"):2&a?Error("DDSParser does not support single-channel (alpha) texture data!"):Error("DDSParser failed to load a texture file due to an unknown reason!")})(await (await o.Xd.ADAPTER.fetch(e)).arrayBuffer()).map(i=>{let n=new o.VL(i,{mipmap:o.KI.OFF,alphaMode:o.iw.NO_PREMULTIPLIED_ALPHA,resolution:o.P6.getResolutionOfUrl(e),...t.data});return(0,k.cU)(n,r,e)});return 1===i.length?i[0]:i},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};o.Rw.add($);let Q={extension:{type:o.nw.LoadParser,priority:k.Q2.High},name:"loadKTX",test:e=>(0,k.gN)(e,".ktx"),async load(e,t,r){let i=await (await o.Xd.ADAPTER.fetch(e)).arrayBuffer(),{compressed:n,uncompressed:s,kvData:a}=function(e,t){let r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new DataView(t);if(!function(e,t){for(let r=0;r<j.length;r++)if(t.getUint8(r)!==j[r])return console.error("".concat(e," is not a valid *.ktx file!")),!1;return!0}(e,n))return null;let s=67305985===n.getUint32(Y.ENDIANNESS,!0),a=n.getUint32(Y.GL_TYPE,s),l=n.getUint32(Y.GL_FORMAT,s),h=n.getUint32(Y.GL_INTERNAL_FORMAT,s),u=n.getUint32(Y.PIXEL_WIDTH,s),c=n.getUint32(Y.PIXEL_HEIGHT,s)||1,d=n.getUint32(Y.PIXEL_DEPTH,s)||1,p=n.getUint32(Y.NUMBER_OF_ARRAY_ELEMENTS,s)||1,f=n.getUint32(Y.NUMBER_OF_FACES,s),m=n.getUint32(Y.NUMBER_OF_MIPMAP_LEVELS,s),g=n.getUint32(Y.BYTES_OF_KEY_VALUE_DATA,s);if(0===c||1!==d)throw Error("Only 2D textures are supported");if(1!==f)throw Error("CubeTextures are not supported by KTXLoader yet!");if(1!==p)throw Error("WebGL does not support array textures");let v=u+3&-4,y=c+3&-4,_=Array(p),x=u*c;if(0===a&&(x=v*y),void 0===(r=0!==a?Z[a]?Z[a]*K[l]:q[a]:B[h]))throw Error("Unable to resolve the pixel format stored in the *.ktx file!");let b=i?function(e,t,r){let i=new Map,n=0;for(;n<t;){let s=e.getUint32(64+n,r),o=64+n+4,a=3-(s+3)%4;if(0===s||s>t-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&0!==e.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}let h=new TextDecoder().decode(new Uint8Array(e.buffer,o,l)),u=new DataView(e.buffer,o+l+1,s-l-1);i.set(h,u),n+=4+s+a}return i}(n,g,s):null,w=x*r,E=u,T=c,A=v,S=y,R=64+g;for(let e=0;e<m;e++){let i=n.getUint32(R,s),o=R+4;for(let r=0;r<p;r++){let i=_[r];i||(i=_[r]=Array(m)),i[e]={levelID:e,levelWidth:m>1||0!==a?E:A,levelHeight:m>1||0!==a?T:S,levelBuffer:new Uint8Array(t,o,w)},o+=w}R+=i+4,R=R%4!=0?R+4-R%4:R,T=T>>1||1,w=(A=(E=E>>1||1)+4-1&-4)*(S=T+4-1&-4)*r}return 0!==a?{uncompressed:_.map(e=>{let t=e[0].levelBuffer,r=!1;return a===o.vK.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):a===o.vK.UNSIGNED_INT?(r=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):a===o.vK.INT&&(r=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new o.qm(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:a,format:r?function(e){switch(e){case o.I2.RGBA:return o.I2.RGBA_INTEGER;case o.I2.RGB:return o.I2.RGB_INTEGER;case o.I2.RG:return o.I2.RG_INTEGER;case o.I2.RED:return o.I2.RED_INTEGER;default:return e}}(l):l}}),kvData:b}:{compressed:_.map(e=>new G(null,{format:h,width:u,height:c,levels:m,levelBuffers:e})),kvData:b}}(e,i),l=null!=n?n:s,h={mipmap:o.KI.OFF,alphaMode:o.iw.NO_PREMULTIPLIED_ALPHA,resolution:o.P6.getResolutionOfUrl(e),...t.data},u=l.map(t=>{var i;l===s&&Object.assign(h,{type:t.type,format:t.format});let n=null!==(i=t.resource)&&void 0!==i?i:t,u=new o.VL(n,h);return u.ktxKeyValueData=a,(0,k.cU)(u,r,e)});return 1===u.length?u[0]:u},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};o.Rw.add(Q);let J={extension:o.nw.ResolveParser,test:e=>["basis","ktx","dds"].includes(o.P6.path.extname(e).slice(1)),parse:e=>{var t,r,i,n;let s=o.P6.path.extname(e).slice(1);if("ktx"===s){let t=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx",".bptc.ktx"];if(t.some(t=>e.endsWith(t)))return{resolution:parseFloat(null!==(i=null===(r=o.Xd.RETINA_PREFIX.exec(e))||void 0===r?void 0:r[1])&&void 0!==i?i:"1"),format:t.find(t=>e.endsWith(t)),src:e}}return{resolution:parseFloat(null!==(n=null===(t=o.Xd.RETINA_PREFIX.exec(e))||void 0===t?void 0:t[1])&&void 0!==n?n:"1"),format:s,src:e}}};o.Rw.add(J);let ee=new o.Ae,et=class e{contextChange(){var e;let t=null===(e=this.renderer)||void 0===e?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(e,t,r,i){let n=new Image;return n.src=await this.base64(e,t,r,i),n}async base64(e,t,r,i){let n=this.canvas(e,i);if(void 0!==n.toBlob)return new Promise((e,i)=>{n.toBlob(t=>{if(!t){i(Error("ICanvas.toBlob failed!"));return}let r=new FileReader;r.onload=()=>e(r.result),r.onerror=i,r.readAsDataURL(t)},t,r)});if(void 0!==n.toDataURL)return n.toDataURL(t,r);if(void 0!==n.convertToBlob){let e=await n.convertToBlob({type:t,quality:r});return new Promise((t,r)=>{let i=new FileReader;i.onload=()=>t(i.result),i.onerror=r,i.readAsDataURL(e)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,r){let{pixels:i,width:n,height:s,flipY:a,premultipliedAlpha:l}=this._rawPixels(t,r);a&&e._flipY(i,n,s),l&&e._unpremultiplyAlpha(i);let h=new o.P6.CanvasRenderTarget(n,s,1),u=new ImageData(new Uint8ClampedArray(i.buffer),n,s);return h.context.putImageData(u,0,0),h.canvas}pixels(t,r){let{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,r);return o&&e._flipY(i,n,s),a&&e._unpremultiplyAlpha(i),i}_rawPixels(e,t){let r=this.renderer;if(!r)throw Error("The Extract has already been destroyed");let i,n=!1,s=!1,a,l=!1;e&&(e instanceof o.TI?a=e:(a=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),l=!0,t&&(ee.width=t.width,ee.height=t.height,t=ee)));let h=r.gl;if(a){if(i=a.baseTexture.resolution,t=null!=t?t:a.frame,n=!1,s=a.baseTexture.alphaMode>0&&a.baseTexture.format===o.I2.RGBA,!l){r.renderTexture.bind(a);let e=a.framebuffer.glFramebuffers[r.CONTEXT_UID];e.blitFramebuffer&&r.framebuffer.bind(e.blitFramebuffer)}}else i=r.resolution,t||((t=ee).width=r.width/i,t.height=r.height/i),n=!0,s=this._rendererPremultipliedAlpha,r.renderTexture.bind();let u=Math.max(Math.round(t.width*i),1),c=Math.max(Math.round(t.height*i),1),d=new Uint8Array(4*u*c);return h.readPixels(Math.round(t.x*i),Math.round(t.y*i),u,c,h.RGBA,h.UNSIGNED_BYTE,d),l&&(null==a||a.destroy(!0)),{pixels:d,width:u,height:c,flipY:n,premultipliedAlpha:s}}destroy(){this.renderer=null}static _flipY(e,t,r){let i=t<<2,n=r>>1,s=new Uint8Array(i);for(let t=0;t<n;t++){let n=t*i,o=(r-t-1)*i;s.set(e.subarray(n,n+i)),e.copyWithin(n,o,o+i),e.set(s,o)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));let t=e.length;for(let r=0;r<t;r+=4){let t=e[r+3];if(0!==t){let i=255.001/t;e[r]=e[r]*i+.5,e[r+1]=e[r+1]*i+.5,e[r+2]=e[r+2]*i+.5}}}constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}};et.extension={name:"extract",type:o.nw.RendererSystem},o.Rw.add(et);var er=r(7931);r(502),r(2692),r(6917);var ei=r(819);class en{beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}}function es(e,t){var r;let i=!1;if(null==e?void 0:null===(r=e._textures)||void 0===r?void 0:r.length){for(let r=0;r<e._textures.length;r++)if(e._textures[r]instanceof o.xE){let n=e._textures[r].baseTexture;t.includes(n)||(t.push(n),i=!0)}}return i}function eo(e,t){if(e.baseTexture instanceof o.VL){let r=e.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function ea(e,t){if(e._texture&&e._texture instanceof o.xE){let r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function el(e,t){return t instanceof ei.xv&&(t.updateText(!0),!0)}function eh(e,t){if(t instanceof ei.pn){let e=t.toFontString();return ei._A.measureFont(e),!0}return!1}function eu(e,t){if(e instanceof ei.xv){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);let r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function ec(e,t){return e instanceof ei.pn&&(t.includes(e)||t.push(e),!0)}let ed=class e{upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,o.vB.system.addOnce(this.tick,this,o.uF.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){let e=this.queue[0],t=!1;if(e&&!e._destroyed){for(let r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)o.vB.system.addOnce(this.tick,this,o.uF.UTILITY);else{this.ticking=!1;let e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof a.W2)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&o.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}constructor(t){this.limiter=new en(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(eu),this.registerFindHook(ec),this.registerFindHook(es),this.registerFindHook(eo),this.registerFindHook(ea),this.registerUploadHook(el),this.registerUploadHook(eh)}};ed.uploadsPerFrame=4;let ep=ed;function ef(e,t){return t instanceof o.VL&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function em(e,t){if(!(t instanceof er.TC))return!1;let{geometry:r}=t;t.finishPoly(),r.updateBatches();let{batches:i}=r;for(let t=0;t<i.length;t++){let{texture:r}=i[t].style;r&&ef(e,r.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function eg(e,t){return e instanceof er.TC&&(t.push(e),!0)}Object.defineProperties(o.Xd,{UPLOADS_PER_FRAME:{get:()=>ep.uploadsPerFrame,set(e){o.P6.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),ep.uploadsPerFrame=e}}});class ev extends ep{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(eg),this.registerUploadHook(ef),this.registerUploadHook(em)}}ev.extension={name:"prepare",type:o.nw.RendererSystem},o.Rw.add(ev),r(6341),r(9676);let ey=class e{_updateResolution(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{scale:t}=this.data.meta,r=o.P6.getResolutionOfUrl(e,null);return null===r&&(r="number"==typeof t?t:parseFloat(null!=t?t:"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let r=t,i=e.BATCH_SIZE;for(;r-t<i&&r<this._frameKeys.length;){let e=this._frameKeys[r],t=this._frames[e],i=t.frame;if(i){let r=null,n=null,s=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,a=new o.Ae(0,0,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution);r=t.rotated?new o.Ae(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.h)/this.resolution,Math.floor(i.w)/this.resolution):new o.Ae(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(n=new o.Ae(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution)),this.textures[e]=new o.xE(this.baseTexture,r,a,n,t.rotated?2:0,t.anchor,t.borders),o.xE.addToCache(this.textures[e],this.cachePrefix+e.toString())}r++}}_processAnimations(){let e=this.data.animations||{};for(let t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){let i=e[t][r];this.animations[t].push(this.textures[i])}}}_parseComplete(){let e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(let e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}constructor(e,t,r){this.linkedSheets=[],(e instanceof o.VL||e instanceof o.xE)&&(e={texture:e,data:t,resolutionFilename:r});let{texture:i,data:n,resolutionFilename:s=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof o.xE?i:null,this.baseTexture=i instanceof o.VL?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;let l=this.baseTexture.resource;this.resolution=this._updateResolution(s||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}};ey.BATCH_SIZE=1e3;let e_=["jpg","png","jpeg","avif","webp"],ex={extension:o.nw.Asset,cache:{test:e=>e instanceof ey,getCacheableAssets:(e,t)=>(function e(t,r,i){let n={};if(t.forEach(e=>{n[e]=r}),Object.keys(r.textures).forEach(e=>{n["".concat(r.cachePrefix).concat(e)]=r.textures[e]}),!i){let i=o.P6.path.dirname(t[0]);r.linkedSheets.forEach((t,s)=>{Object.assign(n,e(["".concat(i,"/").concat(r.data.meta.related_multi_packs[s])],t,!0))})}return n})(e,t,!1)},resolver:{test:e=>{let t=e.split("?")[0].split("."),r=t.pop(),i=t.pop();return"json"===r&&e_.includes(i)},parse:e=>{var t,r;let i=e.split(".");return{resolution:parseFloat(null!==(r=null===(t=o.Xd.RETINA_PREFIX.exec(e))||void 0===t?void 0:t[1])&&void 0!==r?r:"1"),format:i[i.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:o.nw.LoadParser,priority:k.Q2.Normal},testParse:async(e,t)=>".json"===o.P6.path.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,r){var i,n,s;let a;let{texture:l,imageFilename:h,cachePrefix:u}=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:{},c=o.P6.path.dirname(t.src);if(c&&c.lastIndexOf("/")!==c.length-1&&(c+="/"),l&&l.baseTexture)a=l;else{let i=(0,k.uz)(c+(null!=h?h:e.meta.image),t.src);a=(await r.load([i]))[i]}let d=new ey({texture:a.baseTexture,data:e,resolutionFilename:t.src,cachePrefix:u});await d.parse();let p=null==e?void 0:null===(i=e.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(p)){let e=[];for(let i of p){if("string"!=typeof i)continue;let n=c+i;(null===(s=t.data)||void 0===s?void 0:s.ignoreMultiPack)||(n=(0,k.uz)(n,t.src),e.push(r.load({src:n,data:{ignoreMultiPack:!0}})))}let i=await Promise.all(e);d.linkedSheets=i,i.forEach(e=>{e.linkedSheets=[d].concat(d.linkedSheets.filter(t=>t!==e))})}return d},unload(e){e.destroy(!0)}}};o.Rw.add(ex),r(4914);let eb=class e extends ei.pn{static from(t){return new e(Object.keys(e.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{availableFonts:i}=e;if(i[t]){let e=i[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return o.Xd.ADAPTER.fetch(t).then(e=>e.blob()).then(async e=>new Promise((t,r)=>{let i=URL.createObjectURL(e),n=new FileReader;n.onload=()=>t([i,n.result]),n.onerror=r,n.readAsDataURL(e)})).then(async e=>{let[n,s]=e,a=Object.assign({family:o.P6.path.basename(t,o.P6.path.extname(t)),weight:"normal",style:"normal",display:"auto",src:n,dataSrc:s,refs:1,originalUrl:t,fontFace:null},r);i[t]=a,this._fonts.push(a),this.styleID++;let l=new FontFace(a.family,"url(".concat(a.src,")"),{weight:a.weight,style:a.style,display:a.display});a.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=t.filter(e=>!this._overrides.includes(e));i.length>0&&(this._overrides.push(...i),this.styleID++)}removeOverride(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=t.filter(e=>this._overrides.includes(e));i.length>0&&(this._overrides=this._overrides.filter(e=>!i.includes(e)),this.styleID++)}toCSS(e){return["transform: scale(".concat(e,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>"".concat(e,'\n            @font-face {\n                font-family: "').concat(t.family,"\";\n                src: url('").concat(t.dataSrc,"');\n                font-weight: ").concat(t.weight,";\n                font-style: ").concat(t.style,";\n                font-display: ").concat(t.display,";\n            }"),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=o.P6.rgb2hex(e)),"number"==typeof e?o.P6.hex2string(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));let n="".concat(r,"px ").concat(i,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(n," ").concat(this.dropShadowBlur,"px ").concat(e):"text-shadow: ".concat(n," ").concat(e)}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){let{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){let{userAgent:e}=o.Xd.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}};eb.availableFonts={},eb.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ew=class e extends l.j{measureText(e){var t,r;let{text:i,style:n,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:i,style:n.toCSS(s)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);let o=this._domElement.getBoundingClientRect();this._svgRoot.remove();let{width:a,height:l}=o;(a>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");let h=Math.min(this.maxWidth,Math.ceil(a)),u=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",u.toString()),i!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:null===(t=this._style)||void 0===t?void 0:t.toCSS(s)}),this._styleElement.textContent=null===(r=this._style)||void 0===r?void 0:r.toGlobalCSS()),{width:h+2*n.padding,height:u+2*n.padding}}async updateText(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{style:t,_image:r,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;let{width:n,height:s}=this.measureText();r.width=i.width=Math.ceil(Math.max(1,n)),r.height=i.height=Math.ceil(Math.max(1,s)),this._updateID++;let o=this._updateID;await new Promise(e=>{i.onload=async()=>{if(o<this._updateID){e();return}await t.onBeforeDraw(),r.src=i.src,i.onload=null,i.src="",this.updateTexture(),e()};let n=new XMLSerializer().serializeToString(this._svgRoot);i.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(n))})}get source(){return this._image}updateTexture(){let{style:e,texture:t,_image:r,resolution:i}=this,{padding:n}=e,{baseTexture:s}=t;t.trim.width=t._frame.width=r.width/i,t.trim.height=t._frame.height=r.height/i,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-2*n,t.orig.height=t._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(r.width,r.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,i,n,s,o;"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t),this.ownsStyle&&(null===(r=this._style)||void 0===r||r.cleanFonts()),this._style=null,null===(i=this._svgRoot)||void 0===i||i.remove(),this._svgRoot=null,null===(n=this._domElement)||void 0===n||n.remove(),this._domElement=null,null===(s=this._foreignObject)||void 0===s||s.remove(),this._foreignObject=null,null===(o=this._styleElement)||void 0===o||o.remove(),this._styleElement=null,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=null,this._image.src="",this._image=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);let t=o.P6.sign(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);let t=o.P6.sign(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof eb?(this.ownsStyle=!1,this._style=e):e instanceof ei.pn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=eb.from(e)):(this.ownsStyle=!0,this._style=new eb(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}constructor(t="",r={}){var i;super(o.xE.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;let n=new Image,s=o.xE.from(n,{scaleMode:o.Xd.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new o.Ae,s.trim=new o.Ae,this.texture=s;let a="http://www.w3.org/2000/svg",l="http://www.w3.org/1999/xhtml",h=document.createElementNS(a,"svg"),u=document.createElementNS(a,"foreignObject"),c=document.createElementNS(l,"div"),d=document.createElementNS(l,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",h.appendChild(u),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=c,this._styleElement=d,this._svgRoot=h,this._foreignObject=u,this._foreignObject.appendChild(d),this._foreignObject.appendChild(c),this._image=n,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=null!==(i=e.defaultResolution)&&void 0!==i?i:o.Xd.RESOLUTION,this.text=t,this.style=r}};ew.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ew.defaultMaxWidth=2024,ew.defaultMaxHeight=2024,ew.defaultAutoResolution=!0},2896:function(e,t,r){r.d(t,{gW:function(){return D}});var i=r(4209);function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(r=s[i])>=0||(n[r]=e[r]);return n}function o(e){var t=(0,i.useRef)(e),r=(0,i.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var a,l=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},h=function(e){return"touches"in e},u=function(e){return e&&e.ownerDocument.defaultView||self},c=function(e,t,r){var i=e.getBoundingClientRect(),n=h(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:l((n.pageX-(i.left+u(e).pageXOffset))/i.width),top:l((n.pageY-(i.top+u(e).pageYOffset))/i.height)}},d=function(e){h(e)||e.preventDefault()},p=i.memo(function(e){var t=e.onMove,r=e.onKey,a=s(e,["onMove","onKey"]),l=(0,i.useRef)(null),p=o(t),f=o(r),m=(0,i.useRef)(null),g=(0,i.useRef)(!1),v=(0,i.useMemo)(function(){var e=function(e){d(e),(h(e)?e.touches.length>0:e.buttons>0)&&l.current?p(c(l.current,e,m.current)):r(!1)},t=function(){return r(!1)};function r(r){var i=g.current,n=u(l.current),s=r?n.addEventListener:n.removeEventListener;s(i?"touchmove":"mousemove",e),s(i?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,i=l.current;if(i&&(d(t),(!g.current||h(t))&&i)){if(h(t)){g.current=!0;var n=t.changedTouches||[];n.length&&(m.current=n[0].identifier)}i.focus(),p(c(i,t,m.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),f({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[f,p]),y=v[0],_=v[1],x=v[2];return(0,i.useEffect)(function(){return x},[x]),i.createElement("div",n({},a,{onTouchStart:y,onMouseDown:y,className:"react-colorful__interactive",ref:l,onKeyDown:_,tabIndex:0,role:"slider"}))}),f=function(e){return e.filter(Boolean).join(" ")},m=function(e){var t=e.color,r=e.left,n=e.top,s=f(["react-colorful__pointer",e.className]);return i.createElement("div",{className:s,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},i.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},g=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},v=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?g(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?g(parseInt(e.substring(6,8),16)/255,2):1}},y=function(e){var t=e.s,r=e.v,i=e.a,n=(200-t)*r/100;return{h:g(e.h),s:g(n>0&&n<200?t*r/100/(n<=100?n:200-n)*100:0),l:g(n/2),a:g(i,2)}},_=function(e){var t=y(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},x=function(e){var t=e.h,r=e.s,i=e.v,n=e.a;t=t/360*6,r/=100,i/=100;var s=Math.floor(t),o=i*(1-r),a=i*(1-(t-s)*r),l=i*(1-(1-t+s)*r),h=s%6;return{r:g(255*[i,a,o,o,l,i][h]),g:g(255*[l,i,i,a,o,o][h]),b:g(255*[o,o,l,i,i,a][h]),a:g(n,2)}},b=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},w=function(e){var t=e.r,r=e.g,i=e.b,n=e.a,s=n<1?b(g(255*n)):"";return"#"+b(t)+b(r)+b(i)+s},E=function(e){var t=e.r,r=e.g,i=e.b,n=e.a,s=Math.max(t,r,i),o=s-Math.min(t,r,i),a=o?s===t?(r-i)/o:s===r?2+(i-t)/o:4+(t-r)/o:0;return{h:g(60*(a<0?a+6:a)),s:g(s?o/s*100:0),v:g(s/255*100),a:n}},T=i.memo(function(e){var t=e.hue,r=e.onChange,n=f(["react-colorful__hue",e.className]);return i.createElement("div",{className:n},i.createElement(p,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:l(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":g(t),"aria-valuemax":"360","aria-valuemin":"0"},i.createElement(m,{className:"react-colorful__hue-pointer",left:t/360,color:_({h:t,s:100,v:100,a:1})})))}),A=i.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:_({h:t.h,s:100,v:100,a:1})};return i.createElement("div",{className:"react-colorful__saturation",style:n},i.createElement(p,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:l(t.s+100*e.left,0,100),v:l(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+g(t.s)+"%, Brightness "+g(t.v)+"%"},i.createElement(m,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:_(t)})))}),S=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},R=i.useLayoutEffect,C=new Map,I=function(e){R(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!C.has(t)){var i=t.createElement("style");i.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',C.set(t,i);var n=a||r.nc;n&&i.setAttribute("nonce",n),t.head.appendChild(i)}},[])},P=function(e){var t,r,a,l,h,u=e.className,c=e.colorModel,d=e.color,p=void 0===d?c.defaultColor:d,m=e.onChange,g=s(e,["className","colorModel","color","onChange"]),v=(0,i.useRef)(null);I(v);var y=(t=o(m),a=(r=(0,i.useState)(function(){return c.toHsva(p)}))[0],l=r[1],h=(0,i.useRef)({color:p,hsva:a}),(0,i.useEffect)(function(){if(!c.equal(p,h.current.color)){var e=c.toHsva(p);h.current={hsva:e,color:p},l(e)}},[p,c]),(0,i.useEffect)(function(){var e;S(a,h.current.hsva)||c.equal(e=c.fromHsva(a),h.current.color)||(h.current={hsva:a,color:e},t(e))},[a,c,t]),[a,(0,i.useCallback)(function(e){l(function(t){return Object.assign({},t,e)})},[])]),_=y[0],x=y[1],b=f(["react-colorful",u]);return i.createElement("div",n({},g,{ref:v,className:b}),i.createElement(A,{hsva:_,onChange:x}),i.createElement(T,{hue:_.h,onChange:x,className:"react-colorful__last-control"}))},M={defaultColor:"000",toHsva:function(e){return E(v(e))},fromHsva:function(e){return w(x({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||S(v(e),v(t))}},D=function(e){return i.createElement(P,n({},e,{colorModel:M}))}},960:function(e,t,r){r.d(t,{m:function(){return O}});var i=/^\[(.+)\]$/;function n(e,t){var r=e;return t.split("-").forEach(function(e){r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r}var s=/\s+/;function o(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){if("string"==typeof t)return t;for(var r,i="",n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r);return i}(e))&&(i&&(i+=" "),i+=t);return i}function a(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var l=/^\[(?:([a-z-]+):)?(.+)\]$/i,h=/^\d+\/\d+$/,u=new Set(["px","full","screen"]),c=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function f(e){return x(e)||u.has(e)||h.test(e)||m(e)}function m(e){return R(e,"length",C)}function g(e){return R(e,"size",I)}function v(e){return R(e,"position",I)}function y(e){return R(e,"url",P)}function _(e){return R(e,"number",x)}function x(e){return!Number.isNaN(Number(e))}function b(e){return e.endsWith("%")&&x(e.slice(0,-1))}function w(e){return M(e)||R(e,"number",M)}function E(e){return l.test(e)}function T(){return!0}function A(e){return c.test(e)}function S(e){return R(e,"",D)}function R(e,t,r){var i=l.exec(e);return!!i&&(i[1]?i[1]===t:r(i[2]))}function C(e){return d.test(e)}function I(){return!1}function P(e){return e.startsWith("url(")}function M(e){return Number.isInteger(Number(e))}function D(e){return p.test(e)}var O=function(){for(var e,t,r,a=arguments.length,l=Array(a),h=0;h<a;h++)l[h]=arguments[h];var u=function(s){var o=l[0];return t=(e=function(e){var t,r,s,o,a,l,h,u,c,d,p;return{cache:function(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,i=new Map;function n(n,s){r.set(n,s),++t>e&&(t=0,i=r,r=new Map)}return{get:function(e){var t=r.get(e);return void 0!==t?t:void 0!==(t=i.get(e))?(n(e,t),t):void 0},set:function(e,t){r.has(e)?r.set(e,t):n(e,t)}}}(e.cacheSize),splitModifiers:(r=1===(t=e.separator||":").length,s=t[0],o=t.length,function(e){for(var i,n=[],a=0,l=0,h=0;h<e.length;h++){var u=e[h];if(0===a){if(u===s&&(r||e.slice(h,h+o)===t)){n.push(e.slice(l,h)),l=h+o;continue}if("/"===u){i=h;continue}}"["===u?a++:"]"===u&&a--}var c=0===n.length?e:e.substring(l),d=c.startsWith("!"),p=d?c.substring(1):c;return{modifiers:n,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:i&&i>l?i-l:void 0}}),...(u=e.theme,c=e.prefix,d={nextPart:new Map,validators:[]},(p=Object.entries(e.classGroups),c?p.map(function(e){return[e[0],e[1].map(function(e){return"string"==typeof e?c+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(function(e){return[c+e[0],e[1]]})):e})]}):p).forEach(function(e){var t=e[0];(function e(t,r,i,s){t.forEach(function(t){if("string"==typeof t){(""===t?r:n(r,t)).classGroupId=i;return}if("function"==typeof t){if(t.isThemeGetter){e(t(s),r,i,s);return}r.validators.push({validator:t,classGroupId:i});return}Object.entries(t).forEach(function(t){var o=t[0];e(t[1],n(r,o),i,s)})})})(e[1],d,t,u)}),a=e.conflictingClassGroups,h=void 0===(l=e.conflictingClassGroupModifiers)?{}:l,{getClassGroupId:function(e){var t=e.split("-");return""===t[0]&&1!==t.length&&t.shift(),function e(t,r){if(0===t.length)return r.classGroupId;var i,n=t[0],s=r.nextPart.get(n),o=s?e(t.slice(1),s):void 0;if(o)return o;if(0!==r.validators.length){var a=t.join("-");return null===(i=r.validators.find(function(e){return(0,e.validator)(a)}))||void 0===i?void 0:i.classGroupId}}(t,d)||function(e){if(i.test(e)){var t=i.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(e,t){var r=a[e]||[];return t&&h[e]?[].concat(r,h[e]):r}})}}(l.slice(1).reduce(function(e,t){return t(e)},o()))).cache.get,r=e.cache.set,u=c,c(s)};function c(i){var n,o,a,l,h,u=t(i);if(u)return u;var c=(o=(n=e).splitModifiers,a=n.getClassGroupId,l=n.getConflictingClassGroupIds,h=new Set,i.trim().split(s).map(function(e){var t=o(e),r=t.modifiers,i=t.hasImportantModifier,n=t.baseClassName,s=t.maybePostfixModifierPosition,l=a(s?n.substring(0,s):n),h=!!s;if(!l){if(!s||!(l=a(n)))return{isTailwindClass:!1,originalClassName:e};h=!1}var u=(function(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(e){"["===e[0]?(t.push.apply(t,r.sort().concat([e])),r=[]):r.push(e)}),t.push.apply(t,r.sort()),t})(r).join(":");return{isTailwindClass:!0,modifierId:i?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:h}}).reverse().filter(function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,r=e.classGroupId,i=e.hasPostfixModifier,n=t+r;return!h.has(n)&&(h.add(n),l(r,i).forEach(function(e){return h.add(t+e)}),!0)}).reverse().map(function(e){return e.originalClassName}).join(" "));return r(i,c),c}return function(){return u(o.apply(null,arguments))}}(function(){var e=a("colors"),t=a("spacing"),r=a("blur"),i=a("brightness"),n=a("borderColor"),s=a("borderRadius"),o=a("borderSpacing"),l=a("borderWidth"),h=a("contrast"),u=a("grayscale"),c=a("hueRotate"),d=a("invert"),p=a("gap"),R=a("gradientColorStops"),C=a("gradientColorStopPositions"),I=a("inset"),P=a("margin"),M=a("opacity"),D=a("padding"),O=a("saturate"),L=a("scale"),k=a("sepia"),N=a("skew"),B=a("space"),F=a("translate"),U=function(){return["auto","contain","none"]},H=function(){return["auto","hidden","clip","visible","scroll"]},G=function(){return["auto",E,t]},W=function(){return[E,t]},z=function(){return["",f]},X=function(){return["auto",x,E]},V=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},j=function(){return["solid","dashed","dotted","double","none"]},Y=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},Z=function(){return["start","end","center","between","around","evenly","stretch"]},K=function(){return["","0",E]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},$=function(){return[x,_]},Q=function(){return[x,E]};return{cacheSize:500,theme:{colors:[T],spacing:[f],blur:["none","",A,E],brightness:$(),borderColor:[e],borderRadius:["none","","full",A,E],borderSpacing:W(),borderWidth:z(),contrast:$(),grayscale:K(),hueRotate:Q(),invert:K(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[b,m],inset:G(),margin:G(),opacity:$(),padding:W(),saturate:$(),scale:$(),sepia:K(),skew:Q(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",E]}],container:["container"],columns:[{columns:[A]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(V(),[E])}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",w]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",E]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",w]}],"grid-cols":[{"grid-cols":[T]}],"col-start-end":[{col:["auto",{span:["full",w]},E]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[T]}],"row-start-end":[{row:["auto",{span:[w]},E]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",E]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",E]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(Z())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(Z(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(Z(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",E,t]}],"min-w":[{"min-w":["min","max","fit",E,f]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[A]},A,E]}],h:[{h:[E,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",E,f]}],"max-h":[{"max-h":[E,t,"min","max","fit"]}],"font-size":[{text:["base",A,m]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_]}],"font-family":[{font:[T]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",E]}],"line-clamp":[{"line-clamp":["none",x,_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",E,f]}],"list-image":[{"list-image":["none",E]}],"list-style-type":[{list:["none","disc","decimal",E]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(j(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",f]}],"underline-offset":[{"underline-offset":["auto",E,f]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",E]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",E]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(V(),[v])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[].concat(j(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:j()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:[""].concat(j())}],"outline-offset":[{"outline-offset":[E,f]}],"outline-w":[{outline:[f]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[f]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",A,S]}],"shadow-color":[{shadow:[T]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":Y()}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",A,E]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[O]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",E]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",E]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",E]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[w,E]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",E]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",E]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",E]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[f,_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}})},3474:function(e,t,r){r.d(t,{Ue:function(){return d},oR:function(){return u}});var i=r(6443),n=r(4209),s=r(356);let{useDebugValue:o}=n,{useSyncExternalStoreWithSelector:a}=s,l=!1,h=e=>e;function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,r=arguments.length>2?arguments[2]:void 0;r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let i=a(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return o(i),i}let c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(0,i.M)(e):e,r=(e,r)=>u(t,e,r);return Object.assign(r,t),r},d=e=>e?c(e):c},5454:function(e,t,r){r.d(t,{tJ:function(){return o}});let i=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>i(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>i(t)(e)}}},n=(e,t)=>(r,n,s)=>{let o,a,l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},h=!1,u=new Set,c=new Set;try{o=l.getStorage()}catch(e){}if(!o)return e(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.warn("[zustand persist middleware] Unable to update item '".concat(l.name,"', the given storage is currently unavailable.")),r(...t)},n,s);let d=i(l.serialize),p=()=>{let e;let t=d({state:l.partialize({...n()}),version:l.version}).then(e=>o.setItem(l.name,e)).catch(t=>{e=t});if(e)throw e;return t},f=s.setState;s.setState=(e,t)=>{f(e,t),p()};let m=e(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];r(...t),p()},n,s),g=()=>{var e;if(!o)return;h=!1,u.forEach(e=>e(n()));let t=(null==(e=l.onRehydrateStorage)?void 0:e.call(l,n()))||void 0;return i(o.getItem.bind(o))(l.name).then(e=>{if(e)return l.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return e.state;if(l.migrate)return l.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(a=l.merge(e,null!=(t=n())?t:m),!0),p()}).then(()=>{null==t||t(a,void 0),h=!0,c.forEach(e=>e(a))}).catch(e=>{null==t||t(void 0,e)})};return s.persist={setOptions:e=>{l={...l,...e},e.getStorage&&(o=e.getStorage())},clearStorage:()=>{null==o||o.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>g(),hasHydrated:()=>h,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},g(),a||m},s=(e,t)=>(r,n,s)=>{let o,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var i;let n=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),s=null!=(i=r.getItem(e))?i:null;return s instanceof Promise?s.then(n):n(s)},setItem:(e,i)=>r.setItem(e,JSON.stringify(i,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,h=new Set,u=new Set,c=a.storage;if(!c)return e(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.warn("[zustand persist middleware] Unable to update item '".concat(a.name,"', the given storage is currently unavailable.")),r(...t)},n,s);let d=()=>{let e=a.partialize({...n()});return c.setItem(a.name,{state:e,version:a.version})},p=s.setState;s.setState=(e,t)=>{p(e,t),d()};let f=e(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];r(...t),d()},n,s);s.getInitialState=()=>f;let m=()=>{var e,t;if(!c)return;l=!1,h.forEach(e=>{var t;return e(null!=(t=n())?t:f)});let s=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=n())?e:f))||void 0;return i(c.getItem.bind(c))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(o=a.merge(e,null!=(t=n())?t:f),!0),d()}).then(()=>{null==s||s(o,void 0),o=n(),l=!0,u.forEach(e=>e(o))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>l,onHydrate:e=>(h.add(e),()=>{h.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},a.skipHydration||m(),o||f},o=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),n(e,t)):s(e,t)},2416:function(e,t,r){r.d(t,{X:function(){return i}});function i(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Object.is(e[r[i]],t[r[i]]))return!1;return!0}},6443:function(e,t,r){r.d(t,{M:function(){return n}});let i=e=>{let t;let r=new Set,i=(e,i)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:i,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},o=t=e(i,n,s);return s},n=e=>e?i(e):i}}]);